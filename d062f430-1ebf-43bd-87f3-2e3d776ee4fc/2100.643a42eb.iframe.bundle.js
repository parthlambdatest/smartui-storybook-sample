"use strict";(globalThis.webpackChunkfirecracker=globalThis.webpackChunkfirecracker||[]).push([[2100],{"./components/NationalMap/2022/primaries/USNationalMap.js":(it,H,i)=>{i.r(H),i.d(H,{default:()=>pt});var U=i("./node_modules/styled-jsx/style.js"),O=i.n(U),w=i("./node_modules/d3-geo/src/projection/albersUsa.js"),W=i("./node_modules/d3-geo/src/path/index.js"),f=i("./node_modules/lodash.get/index.js"),x=i.n(f),d=i("./node_modules/next/dist/compiled/react/index.js"),C=i("./node_modules/prop-types/index.js"),L=i.n(C),Y=i("./node_modules/topojson-client/src/feature.js"),P=i("./node_modules/react-i18next/dist/es/index.js"),X=i("./components/providers/BrandContext.js"),E=i("./components/Link.js"),g=d.createElement;const R=()=>g("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("g",{clipPath:"url(#clip0)"},g("path",{d:"M0.848249 22.9103L22.91 0.848531",stroke:"#2A2A2A"}),g("path",{d:"M0.848249 0.848528L22.91 22.9103",stroke:"#2A2A2A"})),g("defs",null,g("clipPath",{id:"clip0"},g("path",{d:"M0 0H24V24H0V0Z",fill:"white"}))));R.displayName="CloseButtonSVG";const $=R;var I=i("./components/ScalingSVG.js");function V(){window.forEach=function(o,s){for(var t=0;t<o.length;t++)s.call({},o[t],t)},window.find=function(o,s){for(var t,p=0;p<o.length;p++){var v=s.call({},o[p],p);if(v){t=o[p];break}}return t},window.addClassToElement=function(o,s){if(s||(s=""),o.classList&&o.classList.add){o.classList.add(s);return}var t=new RegExp(s,"gi"),p=o.className.match(t);p||(o.className+=" "+s)},window.removeClassFromElement=function(o,s){if(s||(s=""),o.classList&&o.classList.remove){o.classList.remove(s);return}var t=" ?"+s,p=new RegExp(t,"gi");o.className=o.className.replace(p,"")},window.removeElement=function(o){o.parentNode.removeChild(o)},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(o){var s=this;do{if(s.matches(o))return s;s=s.parentElement||s.parentNode}while(s!==null&&s.nodeType===1);return null});function h(){"use-strict";var o=this.parentNode,s=arguments.length,t;if(o)for(s||o.removeChild(this);s--;)t=arguments[s],typeof t!="object"?t=this.ownerDocument.createTextNode(t):t.parentNode&&t.parentNode.removeChild(t),s?o.insertBefore(t,this.previousSibling):o.replaceChild(t,this)}Element.prototype.replaceWith||(Element.prototype.replaceWith=h),CharacterData.prototype.replaceWith||(CharacterData.prototype.replaceWith=h),DocumentType.prototype.replaceWith||(DocumentType.prototype.replaceWith=h)}var b=d.createElement;function F(){window.nbcTooltip||(window.nbcTooltip=document.querySelector("#tooltip"));var h=".js-us-national-map",o=".js-map-tooltip-slot",s=document.querySelector(h),t=document.querySelector(o);function p(N){var S=N.target;if(!(S.tagName==="use"||S.tagName==="rect")){v();return}var T=S.getAttribute("data-us-state"),y='[data-state-result-table="'+T+'"]',B=document.querySelector(y);if(!B){addClassToElement(t,"dn"),t.innerHTML="",t.top="auto",t.bottom="auto",t.left="auto",t.right="auto";return}var m=B.cloneNode(!0),A=m.querySelector("label");A&&removeElement(A);var k=m.querySelectorAll("[data-update]");forEach(k,Ct=>{Ct.removeAttribute("data-update")});var n=s.getBoundingClientRect(),e=n.top,r=n.left,c=n.right,l=n.bottom,u=S.getBoundingClientRect(),j=u.top,ot=u.left,st=u.bottom,mt=u.right,ut=u.width,vt=u.height;t.style.top="auto",t.style.bottom="auto",t.style.left="auto",t.style.right="auto";var nt=j-e,ft=st-e,xt=ot-r,D=160,gt=320,J=gt/2-ut/2,yt=D/2-vt/2,bt=st+D,ht=mt+J,jt=ot-J,Nt=j-D,rt=3,Q=xt-J,St=nt+yt,Z=nt-D-rt,_=ft+rt,q=ht>=c,tt=jt<=r,et=bt>=l,Tt=Nt<e,Et=!et&&!tt&&!q,Mt=et&&!Tt&&!tt&&!q,At=tt&&!et,wt=q;T==="Democrats Abroad"?(t.style.top=Z+"px",t.style.right="0px"):T==="Alaska"?(t.style.top=Z+"px",t.style.left="0px"):Et?(t.style.top=_+"px",t.style.left=Q+"px"):Mt?(t.style.top=Z+"px",t.style.left=Q+"px"):At?(t.style.top=_+"px",t.style.left="0px"):wt?(t.style.top=_+"px",t.style.right="0px"):(t.style.top=St+"px",t.styleleft=Q+"px"),t.innerHTML=m.innerHTML,removeClassFromElement(t,"dn")}function v(){addClassToElement(t,"dn"),t.style.top="auto",t.style.bottom="auto",t.style.left="auto",t.style.right="auto"}s.addEventListener("mouseover",p),s.addEventListener("mouseexit",v)}const lt=()=>b(d.Fragment,null,b("script",{dangerouslySetInnerHTML:{__html:`
          setTimeout(${V.toString()}, 0);`}}),b("script",{dangerouslySetInnerHTML:{__html:`
          setTimeout(${F.toString()}, 0);`}}));var z=d.createElement;function dt(){var h=".js-us-national-map-mobile",o=".js-map-overlay-slot",s=".js-map-overlay-content",t=".js-map-overlay-close-button",p=document.querySelector(h),v=document.querySelector(o),N=document.querySelector(s),S=document.querySelector(t);function T(B){var m=B.target;if(!(m.tagName==="use"||m.tagName==="rect")){N.innerHTML="";return}var A=m.getAttribute("data-us-state"),k='[data-state-result-table="'+A+'"]',n=document.querySelector(k);if(!n){removeClassFromElement(v,"js-map-overlay-slot--animate"),N.innerHTML="";return}var e=n.cloneNode(!0),r=e.querySelector("label");r&&removeElement(r);var c=e.querySelectorAll("[data-update]");forEach(c,function(l){l.removeAttribute("data-update")}),N.innerHTML=e.innerHTML,addClassToElement(v,"js-map-overlay-slot--animate")}function y(){removeClassFromElement(v,"js-map-overlay-slot--animate")}p.addEventListener("click",T),S.addEventListener("click",y)}const ct=()=>z(d.Fragment,null,z("script",{dangerouslySetInnerHTML:{__html:`
          setTimeout(${V.toString()}, 0);`}}),z("script",{dangerouslySetInnerHTML:{__html:`
          setTimeout(${dt.toString()}, 0);`}}));var M=i("./helpers/stateNameUtilities.js");const G=[{rectX:870,rectY:200,textX:905,textY:214,stateAbbreviation:"RI",displayAbbreviation:"RI"},{rectX:870,rectY:230,textX:905,textY:244,stateAbbreviation:"NJ",displayAbbreviation:"NJ"},{rectX:870,rectY:260,textX:905,textY:274,stateAbbreviation:"DE",displayAbbreviation:"DE"},{rectX:870,rectY:290,textX:905,textY:304,stateAbbreviation:"MD",displayAbbreviation:"MD"},{rectX:870,rectY:320,textX:905,textY:334,stateAbbreviation:"DC",displayAbbreviation:"DC"},{rectX:440,rectY:540,textX:465,textY:554,stateAbbreviation:"GU",displayAbbreviation:"GU",isTerritory:!0},{rectX:500,rectY:540,textX:525,textY:554,stateAbbreviation:"MP",displayAbbreviation:"NMI",isTerritory:!0},{rectX:560,rectY:540,textX:585,textY:554,stateAbbreviation:"AS",displayAbbreviation:"AS",isTerritory:!0},{rectX:620,rectY:540,textX:645,textY:554,stateAbbreviation:"VI",displayAbbreviation:"VI",isTerritory:!0},{rectX:680,rectY:540,textX:705,textY:554,stateAbbreviation:"PR",displayAbbreviation:"PR",isTerritory:!0},{rectX:740,rectY:540,textX:765,textY:554,stateAbbreviation:"DA",displayAbbreviation:"Abroad",isTerritory:!0}];var at=i("./lib/getIcidString.js"),a=d.createElement;const K=h=>{const{fills:o,topojson:s,t}=h,p=Y.default(s,s.objects.states),v=610,N=975,S=w.default(),T=W.default().projection(S),y=p.features,m=(0,d.useContext)(X.default)==="noticias",A=m?"https://www.nbcnews.com":"",k=m?"f1 f2-xl":"f3";return a("div",{className:"jsx-1915723719 mt7 mb5 mt0-m"},a(O(),{id:"1915723719"},[".hover-instructions.jsx-1915723719{bottom:45px;}",".tap-instructions.jsx-1915723719{position:absolute;bottom:0;right:0;}","use.state-outline.jsx-1915723719{stroke:#fff;stroke-width:1;}","use.hover-effect.jsx-1915723719{stroke:#fff;stroke-width:1;}","use.hover-effect.jsx-1915723719:hover{stroke-width:3;}",".map-tooltip-slot.jsx-1915723719{background:#fff;border:1px solid #cccccc;box-sizing:border-box;padding:0 16px;position:absolute;width:320px;z-index:10;}",".map-overlay-slot.jsx-1915723719{background:#fff;box-sizing:border-box;display:block;height:100%;left:0;position:absolute;right:0;top:100%;-webkit-transition:all 0.5s ease;transition:all 0.5s ease;}",".map-overlay-content.jsx-1915723719 tbody tr td:nth-child(4){font-size:12px;}",".map-overlay-content.jsx-1915723719 tbody tr:nth-child(3) td{border-bottom:none;}",".js-map-overlay-slot--animate.jsx-1915723719{-webkit-transform:translateY(-240px);-ms-transform:translateY(-240px);transform:translateY(-240px);}",".map-overlay-close-button.jsx-1915723719{background:#fff;border:none;font-family:sans-serif;font-size:20px;font-weight:300;outline:none;position:absolute;right:0;top:15px;}","@media screen and (min-width:758px){.map-overlay-slot.jsx-1915723719{display:none;}}"]),a("div",{"data-update":"true",className:"jsx-1915723719"},a("svg",{"data-test":"state-svg-def",className:"jsx-1915723719 dn"},a("defs",{className:"jsx-1915723719"},y.map(n=>{const{name:e}=n.properties,{backgroundColorHex:r}=x()(o,e,{});return a("path",{id:e,d:T(n),fill:r,key:e,className:"jsx-1915723719"})})))),a("div",{"data-update":"true",className:"jsx-1915723719"},a("svg",{"data-test":"state-abbreviation-svg-def",className:"jsx-1915723719 dn"},a("defs",{className:"jsx-1915723719"},y.map(n=>{let[e,r]=T.centroid(n);if(!e||!r)return null;const{id:c}=n,l=(0,M.getStateAbbreviationByStateFipsId)(c),u=(0,M.getStateNameByStateFipsId)(c);if(["MD","NJ","DE","RI","DC"].includes(l))return null;l==="MI"&&(r+=20,e+=10),l==="TN"&&(r+=4),l==="VT"&&(r-=4),l==="NH"&&(r+=10),l==="CT"&&(r+=4),l==="MA"&&(r+=2,e+=2),l==="FL"&&(e+=11),l==="LA"&&(e-=11),l==="ID"&&(r+=7),l==="NY"&&(e+=5),l==="CA"&&(e-=7);const{textColorHex:j}=x()(o,u,{});return a("g",{id:`${l}`,key:c,className:"jsx-1915723719 pe-none"},a("text",{x:e,y:r,textAnchor:"middle",fill:j,className:"jsx-1915723719 founders-mono f3"},l))})))),a("div",{"data-update":"true",className:"jsx-1915723719"},a("svg",{"data-test":"state-extra-svg-def",className:"jsx-1915723719 dn"},a("defs",{className:"jsx-1915723719"},G.map(n=>{const e=(0,M.getStateNameByStateAbbreviation)(n.stateAbbreviation),{backgroundColorHex:r}=x()(o,e,{}),c=`af-${e}`;return a("g",{id:c,key:c,className:"jsx-1915723719"},a("rect",{fill:r,height:"20",width:"20",x:n.rectX,y:n.rectY,className:"jsx-1915723719"}),a("text",{x:n.textX,y:n.textY,fill:"#000",className:"jsx-1915723719 founders-mono f3"},t(n.displayAbbreviation)))})))),a("div",{className:"jsx-1915723719 js-us-national-map dn db-m"},a(I.default,{height:v,width:N,ampId:"us-national-map--desktop"},y.map(n=>{const{name:e}=n.properties,{raceHasStarted:r,linkToStateSubPage:c}=x()(o,e,{}),l=(0,at.getElectionUSMapIcidString)(),u=`${c}${l}`;return a(d.Fragment,null,r?a(E.default,{href:m?`${A}${u}`:u,target:m?"_blank":"_parent"},a("use",{"data-us-state":e,xlinkHref:`#${e}`,key:`us-national-map-desktop-state-outline-${e}`,className:"jsx-1915723719 hover-effect"})):a("use",{xlinkHref:`#${e}`,key:`us-national-map-desktop-state-outline-${e}`,className:"jsx-1915723719 state-outline"}))}),y.map(n=>{const{id:e}=n,r=(0,M.getStateAbbreviationByStateFipsId)(e);return a("use",{xlinkHref:`#${r}`,key:`us-national-map-desktop-state-feature-${e}`,className:"jsx-1915723719"})}),G.map(n=>{const e=(0,M.getStateNameByStateAbbreviation)(n.stateAbbreviation),{raceHasStarted:r,linkToStateSubPage:c}=x()(o,e,{}),l=(0,at.getElectionUSMapIcidString)(),u=`${c}${l}`,j=`#af-${e}`;return a(d.Fragment,null,r?a(E.default,{href:m?`${A}${u}`:u,target:m?"_blank":"_parent",key:e},a("use",{"data-us-state":e,xlinkHref:j,key:j,className:"jsx-1915723719"})):a("use",{xlinkHref:j,key:j,className:"jsx-1915723719"}))}))),a("div",{className:"jsx-1915723719 js-us-national-map-mobile dn-m"},a(I.default,{height:v,width:N,ampId:"us-national-map--mobile",viewBoxOverride:"75 10 343 555"},y.map(n=>{const{name:e}=n.properties,{raceHasStarted:r}=x()(o,e,{});return a(d.Fragment,null,r?a("use",{"data-us-state":e,xlinkHref:`#${e}`,key:`us-national-map-mobile-state-outline-${e}`,className:"jsx-1915723719 hover-effect"}):a("use",{xlinkHref:`#${e}`,key:`us-national-map-mobile-state-outline-${e}`,className:"jsx-1915723719 state-outline"}))}),y.map(n=>{const{id:e}=n,r=(0,M.getStateAbbreviationByStateFipsId)(e);return a("use",{xlinkHref:`#${r}`,key:`us-national-map-mobile-state-feature-${r}`,className:"jsx-1915723719"})}),G.map(n=>{const e=(0,M.getStateNameByStateAbbreviation)(n.stateAbbreviation),{raceHasStarted:r}=x()(o,e,{}),c=`#af-${e}`;return a(d.Fragment,null,r?a("use",{"data-us-state":e,xlinkHref:c,key:`us-national-map-mobile-state-additional-feature-${e}`,className:"jsx-1915723719"}):a("use",{xlinkHref:c,key:`us-national-map-mobile-state-additional-feature-${e}`,className:"jsx-1915723719"}))}))),a("div",{className:`jsx-1915723719 hover-instructions absolute publico-txt ${k} fs-italic gray-100 lh-title pl6 dn db-m`},t("primaryResults.hoverInstructionsDesktop")),a("div",{className:"jsx-1915723719 tap-instructions absolute publico-txt f1 fs-italic gray-100 lh-title pl6 db dn-m"},t("primaryResults.hoverInstructionsMobile")),a("div",{className:"jsx-1915723719 js-map-tooltip-slot map-tooltip-slot dn"}),a("div",{className:"jsx-1915723719 js-map-overlay-slot map-overlay-slot"},a("button",{type:"button",className:"jsx-1915723719 js-map-overlay-close-button map-overlay-close-button"},a($,null)),a("div",{className:"jsx-1915723719 js-map-overlay-content map-overlay-content"})),a(lt,null),a(ct,null))};K.displayName="USNationalMap",K.propTypes={fills:L().object.isRequired,topojson:L().object.isRequired};const pt=(0,P.withTranslation)()(K)},"./components/ScalingSVG.js":(it,H,i)=>{i.r(H),i.d(H,{default:()=>L});var U=i("./node_modules/@babel/runtime/helpers/esm/extends.js"),O=i("./node_modules/styled-jsx/style.js"),w=i.n(O),W=i("./node_modules/prop-types/index.js"),f=i.n(W),x=i("./node_modules/next/dist/compiled/react/index.js"),d=x.createElement;const C=Y=>{const{ampId:P,children:X,dataAttributes:E,height:g,width:R,margin:$,viewBoxOverride:I}=Y,b=100*(g/R),F=I||`0 0 ${R} ${g}`;return d(x.Fragment,null,d(w(),{id:"19491314",dynamic:[b]},[`.scaling-svg.__jsx-style-dynamic-selector{position:relative;height:0;width:100%;padding:0;padding-bottom:${b}%;}`,".scaling-svg__svg.__jsx-style-dynamic-selector{position:absolute;height:100%;width:100%;left:0;top:0;}"]),d("div",{items:"true",className:w().dynamic([["19491314",[b]]])+" scaling-svg"},d("svg",(0,U.default)({id:P,viewBox:F,preserveAspectRatio:"xMinYMin meet"},E,{className:w().dynamic([["19491314",[b]]])+" "+(E&&E.className!=null&&E.className||"scaling-svg__svg")}),d("g",{transform:`translate(${$.left}, ${$.top})`,className:w().dynamic([["19491314",[b]]])},X))))};C.propTypes={ampId:f().string,children:f().node.isRequired,height:f().number.isRequired,width:f().number.isRequired,viewBoxOverride:f().string,margin:f().shape({top:f().number,left:f().number})},C.defaultProps={viewBoxOverride:null},C.defaultProps={ampId:"",margin:{top:0,left:0}};const L=C}}]);
