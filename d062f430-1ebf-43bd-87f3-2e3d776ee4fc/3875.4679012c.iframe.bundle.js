"use strict";(globalThis.webpackChunkfirecracker=globalThis.webpackChunkfirecracker||[]).push([[3875],{"./components/ElectionMap/ElectionMap.js":(te,v,a)=>{a.r(v),a.d(v,{default:()=>ut});var l=a("./node_modules/@babel/runtime/helpers/esm/extends.js"),x=a("./node_modules/styled-jsx/style.js"),I=a.n(x),s=a("./node_modules/next/dist/compiled/react/index.js"),N=a("./node_modules/d3-geo/src/path/index.js"),O=a("./node_modules/d3-geo/src/projection/albersUsa.js"),h=a("./node_modules/d3-zoom/src/index.js"),R=a("./node_modules/d3-selection/src/select.js"),j=a("./node_modules/prop-types/index.js"),r=a.n(j),Y=a("./components/ElectionMap/MapBoundingBox.js"),m=a("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),W=a("./node_modules/classnames/index.js"),q=a.n(W),b=a("./node_modules/lodash-es/isFunction.js"),D=a("./components/ElectionMap/constants.js");function ee(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,o)}return t}function H(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ee(Object(t),!0).forEach(function(o){(0,m.default)(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}const z=r().shape({fill:r().oneOfType([r().string,r().func]),height:r().oneOfType([r().string,r().number,r().func]),hoverStroke:r().oneOfType([r().string,r().func]),stroke:r().oneOfType([r().string,r().func]),strokeWidth:r().oneOfType([r().string,r().number,r().func]),textShadow:r().bool,textStyle:r().oneOfType([r().object,r().func]),width:r().oneOfType([r().string,r().number,r().func])}),G={featureId:r().func,geoFeatures:r().arrayOf(r().shape({})),geoPath:r().func,id:r().string,selectedFeature:r().shape({}),style:z,transform:r().shape({}),visibleFeatures:r().arrayOf(r().number)},K=r().shape(H(H({},G),{},{type:r().oneOf([D.LAYER_TYPE.GEO]).isRequired})),se={filter:r().func,geoFeatures:r().arrayOf(r().shape({})),height:r().number,id:r().string,onFeatureClick:r().func,onFeatureHover:r().func,projection:r().func,transform:r().shape({}),width:r().number},ue={featureId:r().func,geoFeatures:r().arrayOf(r().shape({})),geoPath:r().func,id:r().string,style:z,transform:r().shape({}),visibleFeatures:r().arrayOf(r().number),type:r().string,source:r().shape({}),objectKey:r().string},je=r().shape(H(H({},se),{},{type:r().oneOf([D.LAYER_TYPE.INTERACTIVE]).isRequired})),Te={id:r().string,featureId:r().func,filter:r().func,label:r().oneOfType([r().func,r().string]),position:r().oneOfType([r().oneOf(["R","B","L","T"]),r().func]),source:r().shape({}),transform:r().shape({}),visibleFeatures:r().arrayOf(r().number)},Ce=r().shape(H(H({},Te),{},{type:r().oneOf([D.LAYER_TYPE.LABELS]).isRequired})),Be=r().shape(H(H({},Te),{},{type:r().oneOf([D.LAYER_TYPE.POLY_LABELS]).isRequired})),De=r().oneOfType([K,Ce,je,Be]);var ke=a("./components/hooks/useIsSafari.js"),Z=s.createElement;function Se(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,o)}return t}function we(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Se(Object(t),!0).forEach(function(o){(0,m.default)(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Se(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}const{RIGHT:Ye,BOTTOM:U,LEFT:V,TOP:$,CENTER:P}=D.LABEL_LAYER_POSITION;function ae({id:n,featureId:e,filter:t,label:o,onFeatureClick:i,onFeatureHover:c,position:T,projection:y,source:g,style:d,transform:A,visibleFeatures:S,dotStyle:f}){const{fill:E="black",height:u=7,stroke:p="white",strokeWidth:C="1.2px",textShadow:B=!0,textStyle:M,width:X=7}=d??{},k=(0,ke.default)();return Z(s.Fragment,null,Z(I(),{id:"1701030124",dynamic:[U,V,$,P,P,P]},[".label-layer.label-shadow.__jsx-style-dynamic-selector:not(.safari) .label.__jsx-style-dynamic-selector{text-shadow: 1px 1px 2px #fff, -1px -1px 2px #fff, 1px -1px 2px #fff, -1px 1px 2px #fff;}",".label-layer.label-shadow.safari.__jsx-style-dynamic-selector .label.__jsx-style-dynamic-selector text.__jsx-style-dynamic-selector{paint-order:stroke;stroke:#fff;stroke-width:calc(3px * var(--scale));}",".label-layer.__jsx-style-dynamic-selector .label.__jsx-style-dynamic-selector:is(rect,circle){-webkit-transform:scale(var(--scale,1));-ms-transform:scale(var(--scale,1));transform:scale(var(--scale,1));stroke-width:calc(3px * var(--scale));}",".label-layer.__jsx-style-dynamic-selector .label.__jsx-style-dynamic-selector .poi.__jsx-style-dynamic-selector{--size-multi:calc(var(--scale) + 0.05);-webkit-transform:translate( calc(-10px * var(--size-multi)), calc(-20px * var(--size-multi)) ) scale(var(--size-multi));-ms-transform:translate( calc(-10px * var(--size-multi)), calc(-20px * var(--size-multi)) ) scale(var(--size-multi));transform:translate( calc(-10px * var(--size-multi)), calc(-20px * var(--size-multi)) ) scale(var(--size-multi));}",".label-layer.__jsx-style-dynamic-selector .label.__jsx-style-dynamic-selector text.__jsx-style-dynamic-selector{--x-offset:10px;--y-offset:7px;font-size:calc(0.875rem * var(--scale,1));-webkit-transform:translate( calc(var(--x-offset) * var(--scale,1)), calc(var(--y-offset) * var(--scale,1)) );-ms-transform:translate( calc(var(--x-offset) * var(--scale,1)), calc(var(--y-offset) * var(--scale,1)) );transform:translate( calc(var(--x-offset) * var(--scale,1)), calc(var(--y-offset) * var(--scale,1)) );}",".label-layer.circle.__jsx-style-dynamic-selector .label.__jsx-style-dynamic-selector text.__jsx-style-dynamic-selector{--x-offset:9px;--y-offset:5px;}",`.label-layer.__jsx-style-dynamic-selector .label[data-position='${U}'].__jsx-style-dynamic-selector text.__jsx-style-dynamic-selector{--x-offset:0px;--y-offset:16px;text-anchor:middle;}`,`.label-layer.__jsx-style-dynamic-selector .label[data-position='${V}'].__jsx-style-dynamic-selector text.__jsx-style-dynamic-selector{--x-offset:-11px;--y-offset:5px;text-anchor:end;}`,`.label-layer.__jsx-style-dynamic-selector .label[data-position='${$}'].__jsx-style-dynamic-selector text.__jsx-style-dynamic-selector{--x-offset:0px;--y-offset:-8px;text-anchor:middle;}`,`.label-layer.__jsx-style-dynamic-selector .label[data-position='${P}'].__jsx-style-dynamic-selector rect.__jsx-style-dynamic-selector{display:none;}`,`.label-layer.__jsx-style-dynamic-selector .label[data-position='${P}'].__jsx-style-dynamic-selector circle.__jsx-style-dynamic-selector{display:none;}`,`.label-layer.__jsx-style-dynamic-selector .label[data-position='${P}'].__jsx-style-dynamic-selector text.__jsx-style-dynamic-selector{--x-offset:0px;--y-offset:6px;text-anchor:middle;}`]),Z("g",{"data-testid":`layer-${n}`,transform:A,className:I().dynamic([["1701030124",[U,V,$,P,P,P]]])+" "+(q()("label-layer",n,{safari:k,"label-shadow":B,circle:f==="circle"})||"")},S.map(J=>{const F=g.features[J];if(t&&!t(F,A.k))return null;const Q=e?.(F)??J;return Z("g",{"data-position":(0,b.default)(T)?T(F):T,"data-feature-id":Q,key:Q,transform:`translate(${y(F.geometry.coordinates)})`,className:I().dynamic([["1701030124",[U,V,$,P,P,P]]])+" label"},f==="rect"?Z("rect",{fill:(0,b.default)(E)?E(F):E,stroke:(0,b.default)(p)?p(F):p,strokeWidth:(0,b.default)(C)?C(F):C,width:(0,b.default)(X)?X(F):X,height:(0,b.default)(u)?u(F):u,onMouseMove:c&&(_=>c(_,F)),onClick:i&&(_=>i(_,F)),className:I().dynamic([["1701030124",[U,V,$,P,P,P]]])}):f==="poi"?Z("g",{className:I().dynamic([["1701030124",[U,V,$,P,P,P]]])+" poi"},Z("path",{fill:"#FFD60D",stroke:"black",strokeWidth:"2",d:"M5.09046 2.9601L5.09046 2.96009C6.52097 1.64077 8.14375 1 10 1C11.8563 1 13.4791 1.64077 14.9095 2.96009C16.2824 4.22629 17 5.93541 17 8.2C17 9.59942 16.4423 11.2178 15.1843 13.0771C14.0331 14.7784 12.3146 16.6461 10 18.6784C7.68533 16.6461 5.96686 14.7784 4.81573 13.0771C3.55769 11.2178 3 9.59942 3 8.2C3 5.9354 3.71756 4.22629 5.09046 2.9601Z",className:I().dynamic([["1701030124",[U,V,$,P,P,P]]])}),Z("path",{fill:"black",d:"M9.99995 6C8.89533 6 8 6.89535 8 8C8 9.10465 8.89533 10 9.99995 10C11.1046 10 11.9999 9.10465 11.9999 8C12.0115 6.90698 11.1046 6 9.99995 6Z",className:I().dynamic([["1701030124",[U,V,$,P,P,P]]])})):Z("circle",{fill:(0,b.default)(E)?E(F):E,stroke:(0,b.default)(p)?p(F):p,strokeWidth:2/A.k,r:5/A.k,onMouseMove:c&&(_=>c(_,F)),onClick:i&&(_=>i(_,F)),className:I().dynamic([["1701030124",[U,V,$,P,P,P]]])}),Z("text",{style:(0,b.default)(M)?M(F):M,className:I().dynamic([["1701030124",[U,V,$,P,P,P]]])+" founders-mono black pe-none"},(0,b.default)(o)?o(F):o))})))}ae.propTypes=we({},Te),ae.defaultProps={id:"label",featureId:null,filter:null,label:null,style:null,position:Ye,dotStyle:"rect"};var We=a("./node_modules/polylabel/polylabel.js"),_e=a.n(We),ze=a("./node_modules/@turf/intersect/dist/es/index.js"),de=a("./node_modules/@turf/area/dist/es/index.js"),He=a("./node_modules/turf-polygon/index.js"),Ge=a.n(He),Oe=a("./node_modules/topojson-client/src/feature.js"),Ke=s.createElement;function Ie(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,o)}return t}function fe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ie(Object(t),!0).forEach(function(o){(0,m.default)(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ie(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}const Ze=.05,Ue=1,Ve=n=>{let e=0,t=null;return n.geometry.coordinates.forEach(o=>{const i=(0,de.default)(Ge()(o));i<e||(e=i,t=o)}),t},Ne=n=>{const e=n.geometry.type==="MultiPolygon"?Ve(n):n.geometry.coordinates,t=_e()(e,Ue);return{type:"Feature",properties:n.properties,geometry:{type:"Point",coordinates:[t[0],t[1]]}}},$e=(n,e,t)=>t===0?!0:(0,de.default)(n)/e>t;function ge(n){const{projection:e,source:t,objectKey:o,width:i,height:c,areaThreshold:T=Ze}=n,y=(0,s.useMemo)(()=>new Y.default({x:0,y:0,width:i,height:c}).unproject(e),[e,i,c]),g=(0,s.useMemo)(()=>(0,de.default)(y),[y]),d=(0,s.useMemo)(()=>Oe.default(t,t.objects[o]).features.map(E=>{if(["AK","HI"].includes(E.properties.STUSPS))return Ne(E);const u=(0,ze.default)(E,y,{properties:E.properties});return!u||!$e(u,g,T)?null:Ne(u)}).filter(E=>E),[y]),A=fe(fe({},n),{},{overflow:!1,visibleFeatures:Array.from(Array(d.length).keys()),source:{type:"FeatureCollection",features:d}});return Ke(ae,A)}ge.displayName="PolyLabelLayer";var he=s.createElement;function me({geoFeatures:n,featureId:e=T=>T.properties.GEOID,geoPath:t,id:o="circle-layer",transform:i,style:c=null}){const{fill:T="green",r:y="5",fillOpacity:g=".5",opacity:d="1"}=c,A=(0,s.useMemo)(()=>n.reduce((S,f)=>(S[e?.(f)]=t.centroid(f),S),{}),[n,e,t]);return he("g",{"data-testid":`layer-${o}`,transform:i},n.map((S,f)=>{const E=e?.(S)??f,u=A[e?.(S)];return u.some(p=>isNaN(p))?null:he("circle",{key:`circle-${E}`,r:y(S),fill:T(S),opacity:d,fillOpacity:g,stroke:T(S),strokeWidth:1,transform:`translate(${u})`})}))}me.displayName="CircleLayer",me.propTypes=ue;class Xe{constructor(e,t,o,i=100,c=!0){this.id=e,this.width=t,this.height=o,this.zoomBehavior=this.createZoomBehavior(t,o,i,c),this.currentTransform=h.zoomIdentity,this.onTransformCallbacks=new Set}get map(){return R.default(`#${this.id}`)}get zoomLevel(){const e=this.map.node();return e?h.zoomTransform(e).k:1}createZoomBehavior(e,t,o,i){return h.zoom().filter(c=>{if(i===!1)return!1;const T=c.targetTouches?.length>1,y=c.type==="wheel"&&!T&&!c.ctrlKey,g=!T&&c.type==="touchstart";return this.currentTransform&&this.currentTransform.k>1||!(y||g)}).extent([[0,0],[e,t]]).translateExtent([[0,0],[e,t]]).scaleExtent([1,o]).on("zoom",({transform:c})=>{this.currentTransform=c,this.onTransformCallbacks.forEach(T=>T(c))})}zoomIn(){this.map.transition().duration(750).call(this.zoomBehavior.scaleBy,2)}zoomOut(){this.map.transition().duration(750).call(this.zoomBehavior.scaleBy,.5)}zoomToTransform({x:e,y:t,k:o}){const i=new h.ZoomTransform(o,e,t);this.map.transition().duration(750).call(this.zoomBehavior.transform,i)}zoomToBoundingBox(e){const t=this.transformForBoundingBox(e);this.zoomToTransform(t)}transformForBoundingBox(e){const t=Math.min(8,.9/Math.max(e.width/this.width,Math.abs(e.height)/this.height)),o=-(e.x+e.width/2)*t+this.width/2,i=-(e.y+e.height/2)*t+this.height/2;return{x:o,y:i,k:t}}resetZoom(){this.map.transition().duration(750).call(this.zoomBehavior.transform,h.zoomIdentity.scale(1))}onTransform(e){return this.onTransformCallbacks.add(e),()=>this.onTransformCallbacks.delete(e)}}const Je=Xe;var Qe=a("./components/ElectionMap/ZoomHandler.js"),ie=s.createElement;function Me(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,o)}return t}function qe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Me(Object(t),!0).forEach(function(o){(0,m.default)(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Me(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}function Ee({featureId:n,geoFeatures:e,geoPath:t,id:o,selectedFeature:i,style:c,transform:T,visibleFeatures:y,filter:g}){const{fill:d="#ccc",fillOpacity:A="1",stroke:S="white",strokeOpacity:f="1",hoverStroke:E="white",strokeWidth:u=1,hoverStrokeWidth:p=4,strokeLinecap:C="butt",strokeLinejoin:B="round"}=c??{},M=(0,s.useRef)(null),X=(0,s.useMemo)(()=>{const F=y.map(Q=>e[Q]).sort((Q,_)=>(Q.properties.zIndex||0)-(_.properties.zIndex||0));return g?F.filter(g):F},[e,y]);(0,s.useEffect)(()=>{R.default(M.current).selectAll("path").data(X,n).join("path").attr("d",F=>F.path).attr("fill",d).attr("fill-opacity",A).attr("stroke-opacity",f).attr("stroke-linejoin",B).attr("stroke-linecap",C).attr("data-cd-geoid",n).attr("stroke-width",(0,b.default)(u)?u:`calc(${u}px * var(--scale))`).attr("stroke",S)},[n,X,d,S]);const k=i&&e.find(J=>n(J)===n(i));return ie(s.Fragment,null,ie("g",{ref:M,"data-testid":`layer-${o}`,className:"geometries",transform:T}),k&&ie("g",{transform:T},ie("path",{stroke:(0,b.default)(E)?E(k):E,fill:"transparent","data-testid":`layer-${o}-${n(k)}`,strokeWidth:(0,b.default)(p)?p(k):`calc(${p}px * var(--scale))`,d:t(k)})))}Ee.propTypes=qe({},G),Ee.defaultProps={id:"geo",featureId:n=>n.properties.GEOID,objectKey:null,style:null,zoomable:!1};var et=a("./node_modules/d3-geo/src/contains.js"),Fe=s.createElement;function Le(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,o)}return t}function tt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Le(Object(t),!0).forEach(function(o){(0,m.default)(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Le(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}function pe({featureIndex:n,filter:e,geoFeatures:t,height:o,id:i,onFeatureClick:c,onFeatureHover:T,projection:y,transform:g,width:d}){const A=(0,s.useCallback)(u=>{const p=u.currentTarget.getBoundingClientRect();let{clientX:C,clientY:B}=u;u.touches&&(C=u.touches[0].clientX,B=u.touches[0].clientY);const M=C-p.x,X=B-p.y,k=M/g.k,J=X/g.k;return{x:k,y:J}},[g.k]),S=(0,s.useCallback)(({x:u,y:p})=>{const C=y.invert([u,p]);return n.search({boundingBox:[u,p,u,p],width:d,height:o,filter:e&&(M=>e(t[M]))}).map(M=>t[M]).find(M=>et.default(M,C))},[n,e,t,y,d,o]),f=u=>{const p=A(u),C=S(p);c?.(u,C)},E=(0,s.useCallback)(u=>{const p=A(u),C=S(p);T?.(u,C)},[A,S,T]);return Fe("g",{className:"interaction",transform:g,"data-testid":`layer-${i}`,onMouseMove:E,onClick:f,onBlur:u=>u.preventDefault()},Fe("rect",{x:"0",y:"0",height:o,width:d,fill:"transparent"}))}pe.displayName="InteractiveLayer",pe.propTypes=tt({},se),pe.defaultProps={filter:void 0,id:"interactive",featureId:n=>n.properties.GEOID,objectKey:null,onFeatureClick:null,onFeatureHover:null,zoomable:!1};var ce=a("./node_modules/topojson-simplify/src/index.js");function ve(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,o)}return t}function be(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ve(Object(t),!0).forEach(function(o){(0,m.default)(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ve(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}const oe={ZOOMED_OUT:"zoomed-out",MID:"mid",ZOOMED_IN:"zoomed-in"};function ot({k:n,enabled:e}){return(0,s.useMemo)(()=>n>3||!e?oe.ZOOMED_IN:n>1.5?oe.MID:oe.ZOOMED_OUT,[n,e])}function rt({layers:n,geoPath:e,enableZoom:t}){const o=(0,s.useRef)(new Map),i=(0,s.useRef)(null);return(0,s.useMemo)(()=>{const c=new Map;function T({topojson:y,minWeight:g,objectKey:d}){const A=ce.simplify(y,g),{objects:S}=A,f=S[d]??Object.values(S)[0];return Oe.default(y,f).features.map(u=>{const p=e(u);return be(be({},u),{},{path:p})})}return n.forEach(({source:y,type:g,objectKey:d,id:A})=>{if(!D.LAYERS_WITH_SIMPLIFICATION.includes(g)||c.has(A))return;const S=o.current.get(A);if(S&&e===i.current){c.set(A,S);return}if(!t){c.set(A,{[oe.ZOOMED_IN]:T({topojson:y,minWeight:0,objectKey:d})});return}const f=ce.presimplify(y),E=ce.quantile(f,.05),u=ce.quantile(f,.1),p=0;c.set(A,{[oe.ZOOMED_OUT]:T({topojson:f,minWeight:E,objectKey:d}),[oe.MID]:T({topojson:f,minWeight:u,objectKey:d}),[oe.ZOOMED_IN]:T({topojson:f,minWeight:p,objectKey:d})})}),o.current=c,i.current=e,c},[n,e])}function nt({featureIndexes:n,width:e,height:t,boundingBox:o}){return(0,s.useMemo)(()=>{const i=new Map;return n.forEach((c,T)=>{i.set(T,c.search({boundingBox:o,height:t,width:e}))}),i},[n,o,t,e])}var st=a("./node_modules/flatbush/index.js");const at=(n,e)=>{const t=new st.default(e.length);return e.forEach(({bbox:o})=>{t.add(Math.floor(o.x0),Math.floor(o.y0),Math.ceil(o.x1),Math.ceil(o.y1))}),t.finish(),t};var it=a("./node_modules/console-browserify/index.js");class pt{constructor({geoPath:e,width:t,height:o,features:i}){(0,m.default)(this,"geoPath",void 0),(0,m.default)(this,"width",void 0),(0,m.default)(this,"height",void 0),(0,m.default)(this,"features",void 0),(0,m.default)(this,"index",void 0),this.geoPath=e,this.width=t,this.height=o,this.features=i,this.index=this.buildIndex()}buildIndex(){const e=this.features.map(t=>({bbox:new Y.default(this.geoPath.bounds(t))}));return at(this.geoPath,e)}search({boundingBox:e,width:t,height:o,filter:i}){const c=(this.width/t).toPrecision(4),T=(this.height/o).toPrecision(4);c!==T&&it.error("FeatureIndex does not support searches across different aspect ratios. Recreate FeatureIndex.");let y,g,d,A;return Array.isArray(e)?[y,g,d,A]=e:{x:y,y:g,x1:d,y1:A}=e,this.index.search(y*c,g*T,d*c,A*T,i)}}function ct({layers:n,geoPath:e,width:t,height:o}){const i=(0,s.useRef)(new Map),c=(0,s.useRef)((t/o).toPrecision(4));return(0,s.useMemo)(()=>{const T=(t/o).toPrecision(4),y=new Map,g=T!==c.current;return n.forEach(({source:d,type:A,objectKey:S,id:f})=>{if(!D.LAYERS_WITH_TOPOLOGY.includes(A)||y.has(f))return;const E=i.current.get(f);if(!g&&E){y.set(f,E);return}const u=d.type==="FeatureCollection",p=u?d:d.objects[S]??Object.values(d.objects)[0],C=u?p:Oe.default(d,p);y.set(f,new pt({geoPath:e,width:t,height:o,features:C.features}))}),i.current=y,c.current=T,y},[e,o,n,t])}var yt=a("./components/helpers/analytics.js"),w=s.createElement;const lt=({x:n,y:e,k:t},o,i)=>new Y.default({x:-n/t,y:-e/t,width:o/t,height:i/t}),ye=({id:n,enableZoom:e,enableCompression:t,height:o,layers:i,projection:c,selectedFeature:T,width:y,zoomHandler:g,zoomTo:d,backgroundColor:A,maxZoomLevel:S,isInteractive:f=!0})=>{const E=(0,s.useRef)(null),{setReference:u}=(0,yt.useMapAnalytics)(),{0:p,1:C}=(0,s.useState)(h.zoomIdentity),B=(0,s.useMemo)(()=>N.default().projection(c),[c]),M=(0,s.useMemo)(()=>new Je(n,y,o,S,f),[o,y,S,f,n]);(0,s.useEffect)(()=>{if(!e)return;const L=M.onTransform(Ae=>{C(Ae)}),re=g?.attach(M);return()=>{L(),re?.()}},[M,e,g]);const X=L=>{i.filter(re=>re.type===D.LAYER_TYPE.INTERACTIVE).forEach(re=>{re?.onFeatureHover(L,null)})};(0,s.useEffect)(()=>{if(!E.current)return;const L=R.default(E.current);e&&L.call(M.zoomBehavior)},[e,M]);const k=(0,s.useMemo)(()=>lt(p,y,o),[p,y,o]),J=T?"pointer":"default";R.default(E.current).style("cursor",J);const F=ot({k:p.k,enabled:t&&e}),Q=300/p.k,{0:_,1:xe}=(0,s.useState)(k.addOffset(Q));(0,s.useEffect)(()=>{if(!_.contains(k)){const L=k.addOffset(Q);xe(L)}},[k]),(0,s.useEffect)(()=>{const L=k.addOffset(Q);xe(L)},[F]),(0,s.useEffect)(()=>{if(d)if(d instanceof Y.default){const L=d.project(c);M.zoomToBoundingBox(L)}else{const L=d.bbox||new Y.default(B.bounds(d));M.zoomToBoundingBox(L)}else M.resetZoom()},[d,B,c,M]);const Re=ct({layers:i,geoPath:B,width:y,height:o}),Tt=nt({featureIndexes:Re,width:y,height:o,boundingBox:_}),dt=rt({layers:i,geoPath:B,enableZoom:e});return w("div",{ref:u,onMouseLeave:X,className:I().dynamic([["106036818",[1/p.k]]])+" map-container"},w(I(),{id:"106036818",dynamic:[1/p.k]},[`.map-container.__jsx-style-dynamic-selector{--scale:${1/p.k};}`]),w("svg",{ref:E,height:o,width:y,id:M.id,className:I().dynamic([["106036818",[1/p.k]]])+" db"},w("defs",{className:I().dynamic([["106036818",[1/p.k]]])},w("filter",{x:"-0.15",y:"0.1",width:"1.3",height:"0.8",id:"label-background",className:I().dynamic([["106036818",[1/p.k]]])},w("feFlood",{floodColor:"#fff",floodOpacity:"0.85",result:"bg",className:I().dynamic([["106036818",[1/p.k]]])}),w("feMerge",{className:I().dynamic([["106036818",[1/p.k]]])},w("feMergeNode",{in:"bg",className:I().dynamic([["106036818",[1/p.k]]])}),w("feMergeNode",{in:"SourceGraphic",className:I().dynamic([["106036818",[1/p.k]]])})))),A&&w("rect",{x:"0",y:"0",height:o,width:y,fill:A,className:I().dynamic([["106036818",[1/p.k]]])}),i.map((L,re)=>{const{id:Ae}=L,ne=Ae||re,Ot=Re.get(L.id),le=Tt.get(L.id),Pe=dt.get(L.id)?.[F];switch(L.type){case D.LAYER_TYPE.GEO:return w(Ee,(0,l.default)({},L,{geoFeatures:Pe,geoPath:B,key:ne,currentBoundingBox:k,selectedFeature:T,transform:p,visibleFeatures:le}));case D.LAYER_TYPE.LABELS:return w(ae,(0,l.default)({},L,{key:ne,geoPath:B,projection:c,transform:p,boundingBox:_,width:y,height:o,visibleFeatures:le}));case D.LAYER_TYPE.POLY_LABELS:return w(ge,(0,l.default)({},L,{key:ne,geoPath:B,projection:c,transform:p,boundingBox:_,width:y,height:o,visibleFeatures:le}));case D.LAYER_TYPE.INTERACTIVE:return w(pe,(0,l.default)({},L,{geoFeatures:Pe,key:ne,geoPath:B,featureIndex:Ot,transform:p,projection:c,height:o,width:y}));case D.LAYER_TYPE.CIRCLE:return w(me,(0,l.default)({},L,{geoFeatures:Pe,geoPath:B,key:ne,transform:p,visibleFeatures:le}));default:return null}})))};ye.displayName="ElectionMap",ye.propTypes={enableZoom:r().bool,enableCompression:r().bool,height:r().oneOfType([r().string,r().number]).isRequired,layers:r().arrayOf(De).isRequired,maxZoomLevel:r().number,selectedFeature:r().object,projection:r().func,width:r().oneOfType([r().string,r().number]).isRequired,zoomHandler:r().instanceOf(Qe.ZoomHandler),zoomTo:r().object,id:r().string,isInteractive:r().bool},ye.defaultProps={enableZoom:!1,enableCompression:!0,maxZoomLevel:void 0,projection:O.default(),selectedFeature:null,zoomHandler:null,zoomTo:null,id:"election-map"};const ut=ye},"./components/ElectionMap/MapBoundingBox.js":(te,v,a)=>{a.r(v),a.d(v,{default:()=>x});class l{constructor(s){if(Array.isArray(s)){const[[N,O],[h,R]]=s;this.x=N,this.y=O,this.width=h-N,this.height=R-O,this.area=this.width*this.height}else this.width=s.width,this.height=s.height,this.x=s.x,this.y=s.y,this.area=this.width*this.height}get x0(){return this.x}get y0(){return this.y}get x1(){return this.x+this.width}get y1(){return this.y+this.height}contains(s){return s.x0>this.x0&&s.x1<this.x1&&s.y0>this.y0&&s.y1<this.y1}addOffset(s){return new l({x:this.x-s,y:this.y-s,width:this.width+2*s,height:this.height+2*s})}project(s){const N=s([this.x0,this.y0]),O=s([this.x1,this.y1]);return new l([N,O])}unproject(s){const N=s.invert([this.x0,this.y0]),O=s.invert([this.x1,this.y0]),h=s.invert([this.x1,this.y1]),R=s.invert([this.x0,this.y1]);return{type:"Polygon",coordinates:[[N,O,h,R,N]]}}toGeoJSON(){return{type:"Polygon",coordinates:[[[this.x0,this.y0],[this.x0,this.y1],[this.x1,this.y1],[this.x1,this.y0],[this.x0,this.y0]]]}}static merge(s){let N=1/0,O=-1/0,h=-1/0,R=1/0;return s.forEach(({x:j,y:r,width:Y,height:m})=>{j<N&&(N=j),r+m>O&&(O=r+m),j+Y>h&&(h=j+Y),r<R&&(R=r)}),new l({x:N,y:R,width:h-N,height:O-R,area:this.width*this.height})}}const x=l},"./components/ElectionMap/ZoomHandler.js":(te,v,a)=>{a.r(v),a.d(v,{ZoomHandler:()=>I,useZoomHandler:()=>s});var l=a("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),x=a("./node_modules/next/dist/compiled/react/index.js");class I{constructor(){(0,l.default)(this,"mapController",null),(0,l.default)(this,"onTransformCallbacks",new Set),(0,l.default)(this,"onAttachCallbacks",new Set),(0,l.default)(this,"handleTransform",O=>{this.onTransformCallbacks.forEach(h=>h(O))})}onTransform(O){return this.onTransformCallbacks.add(O),()=>this.onTransformCallbacks.delete(O)}onAttach(O){return this.onAttachCallbacks.add(O),()=>this.onAttachCallbacks.delete(O)}get zoomLevel(){return this.mapController?.zoomLevel??1}get attached(){return!!this.mapController}zoomIn(){this.mapController?.zoomIn()}zoomOut(){this.mapController?.zoomOut()}reset(){this.mapController?.resetZoom()}attach(O){return this.detach(),this.mapController=O,this.onAttachCallbacks.forEach(h=>h({attached:!0})),this.handleTransform(O.currentTransform),O.onTransform(this.handleTransform),()=>{this.detach()}}detach(){this.mapController?.onTransformCallbacks.delete(this.handleTransform)&&(this.mapController=null,this.onAttachCallbacks.forEach(O=>O({attached:!1})))}}function s(){const N=(0,x.useMemo)(()=>new I,[]),{0:O,1:h}=(0,x.useState)(N.zoomLevel),{0:R,1:j}=(0,x.useState)(!1);return(0,x.useEffect)(()=>{const r=N.onTransform(m=>{h(m.k)}),Y=N.onAttach(({attached:m})=>{j(m)});return()=>{r(),Y()}},[N]),{attached:R,zoomLevel:O,zoomHandler:N}}},"./components/ElectionMap/constants.js":(te,v,a)=>{a.r(v),a.d(v,{LABEL_LAYER_POSITION:()=>h,LAYERS_WITH_SIMPLIFICATION:()=>O,LAYERS_WITH_TOPOLOGY:()=>N,LAYER_TYPE:()=>s,STATE_SCALE_FACTOR_THRESHOLD:()=>x,STATE_THRESHOLD_OVERRIDES:()=>I,citiesLayer:()=>R});const l=JSON.parse('{"type":"FeatureCollection","features":[{"geometry":{"coordinates":[-149.8631,61.2174],"type":"Point"},"properties":{"NAME":"Anchorage","POSITION":"R","STATE":"AK"},"type":"Feature"},{"geometry":{"coordinates":[-147.716,64.8377778],"type":"Point"},"properties":{"NAME":"Fairbanks","POSITION":"R","STATE":"AK"},"type":"Feature"},{"geometry":{"coordinates":[-134.13,58.39],"type":"Point"},"properties":{"NAME":"Juneau","POSITION":"R","STATE":"AK"},"type":"Feature"},{"geometry":{"coordinates":[-86.75,33.57],"type":"Point"},"properties":{"NAME":"Birmingham","POSITION":"R","STATE":"AL"},"type":"Feature"},{"geometry":{"coordinates":[-86.586,34.7303688],"type":"Point"},"properties":{"NAME":"Huntsville","POSITION":"R","STATE":"AL"},"type":"Feature"},{"geometry":{"coordinates":[-88.043,30.6943566],"type":"Point"},"properties":{"NAME":"Mobile","POSITION":"T","STATE":"AL"},"type":"Feature"},{"geometry":{"coordinates":[-86.28,32.35],"type":"Point"},"properties":{"NAME":"Montgomery","POSITION":"B","STATE":"AL"},"type":"Feature"},{"geometry":{"coordinates":[-94.161,36.0764],"type":"Point"},"properties":{"NAME":"Fayetteville","POSITION":"T","STATE":"AR"},"type":"Feature"},{"geometry":{"coordinates":[-93,34.5],"type":"Point"},"properties":{"NAME":"Hot Springs","POSITION":"L","STATE":"AR"},"type":"Feature"},{"geometry":{"coordinates":[-90.694,35.8281],"type":"Point"},"properties":{"NAME":"Jonesboro","POSITION":"R","STATE":"AR"},"type":"Feature"},{"geometry":{"coordinates":[-92.35,34.72],"type":"Point"},"properties":{"NAME":"Little Rock","POSITION":"T","STATE":"AR"},"type":"Feature"},{"geometry":{"coordinates":[-111.639,35.2013516],"type":"Point"},"properties":{"NAME":"Flagstaff","POSITION":"R","STATE":"AZ"},"type":"Feature"},{"geometry":{"coordinates":[-112.02,33.43],"type":"Point"},"properties":{"NAME":"Phoenix","POSITION":"B","STATE":"AZ"},"type":"Feature"},{"geometry":{"coordinates":[-110.93,32.12],"type":"Point"},"properties":{"NAME":"Tucson","POSITION":"R","STATE":"AZ"},"type":"Feature"},{"geometry":{"coordinates":[-114.628,32.6926512],"type":"Point"},"properties":{"NAME":"Yuma","POSITION":"R","STATE":"AZ"},"type":"Feature"},{"geometry":{"coordinates":[-119.018715,35.373291],"type":"Point"},"properties":{"NAME":"Bakersfield","POSITION":"R","STATE":"CA"},"type":"Feature"},{"geometry":{"coordinates":[-119.787125,36.737797],"type":"Point"},"properties":{"NAME":"Fresno","POSITION":"R","STATE":"CA"},"type":"Feature"},{"geometry":{"coordinates":[-118.237,34.05282],"type":"Point"},"properties":{"NAME":"Los Angeles","POSITION":"B","STATE":"CA"},"type":"Feature"},{"geometry":{"coordinates":[-121.5,38.52],"type":"Point"},"properties":{"NAME":"Sacramento","POSITION":"T","STATE":"CA"},"type":"Feature"},{"geometry":{"coordinates":[-117.17,32.73],"type":"Point"},"properties":{"NAME":"San Diego","POSITION":"L","STATE":"CA"},"type":"Feature"},{"geometry":{"coordinates":[-122.422,37.77302],"type":"Point"},"properties":{"NAME":"San Francisco","POSITION":"L","STATE":"CA"},"type":"Feature"},{"geometry":{"coordinates":[-121.92,37.37],"type":"Point"},"properties":{"NAME":"San Jose","POSITION":"R","STATE":"CA"},"type":"Feature"},{"geometry":{"coordinates":[-104.72,38.82],"type":"Point"},"properties":{"NAME":"Colorado Springs","POSITION":"B","STATE":"CO"},"type":"Feature"},{"geometry":{"coordinates":[-104.984,39.7375],"type":"Point"},"properties":{"NAME":"Denver","POSITION":"L","STATE":"CO"},"type":"Feature"},{"geometry":{"coordinates":[-105.078,40.5592],"type":"Point"},"properties":{"NAME":"Fort Collins","POSITION":"T","STATE":"CO"},"type":"Feature"},{"geometry":{"coordinates":[-108.551,39.0638705],"type":"Point"},"properties":{"NAME":"Grand Junction","POSITION":"T","STATE":"CO"},"type":"Feature"},{"geometry":{"coordinates":[-73.2,41.2],"type":"Point"},"properties":{"NAME":"Bridgeport","POSITION":"T","STATE":"CT"},"type":"Feature"},{"geometry":{"coordinates":[-72.684,41.765],"type":"Point"},"properties":{"NAME":"Hartford","POSITION":"R","STATE":"CT"},"type":"Feature"},{"geometry":{"coordinates":[-72.9,41.3],"type":"Point"},"properties":{"NAME":"New Haven","POSITION":"R","STATE":"CT"},"type":"Feature"},{"geometry":{"coordinates":[-73.539,41.0528],"type":"Point"},"properties":{"NAME":"Stamford","POSITION":"R","STATE":"CT"},"type":"Feature"},{"geometry":{"coordinates":[-77.035,38.890159],"type":"Point"},"properties":{"NAME":"Washington","POSITION":"R","STATE":"DC"},"type":"Feature"},{"geometry":{"coordinates":[-75.428,38.9126],"type":"Point"},"properties":{"NAME":"Milford","POSITION":"R","STATE":"DE"},"type":"Feature"},{"geometry":{"coordinates":[-75.547,39.7458],"type":"Point"},"properties":{"NAME":"Wilmington","POSITION":"R","STATE":"DE"},"type":"Feature"},{"geometry":{"coordinates":[-81.6557,30.3322],"type":"Point"},"properties":{"NAME":"Jacksonville","POSITION":"R","STATE":"FL"},"type":"Feature"},{"geometry":{"coordinates":[-80.1918,25.7617],"type":"Point"},"properties":{"NAME":"Miami","POSITION":"B","STATE":"FL"},"type":"Feature"},{"geometry":{"coordinates":[-81.3792,28.5383],"type":"Point"},"properties":{"NAME":"Orlando","POSITION":"R","STATE":"FL"},"type":"Feature"},{"geometry":{"coordinates":[-84.2807,30.4383],"type":"Point"},"properties":{"NAME":"Tallahassee","POSITION":"B","STATE":"FL"},"type":"Feature"},{"geometry":{"coordinates":[-82.4572,27.9506],"type":"Point"},"properties":{"NAME":"Tampa","POSITION":"R","STATE":"FL"},"type":"Feature"},{"geometry":{"coordinates":[-84.388,33.749],"type":"Point"},"properties":{"NAME":"Atlanta","POSITION":"B","STATE":"GA"},"type":"Feature"},{"geometry":{"coordinates":[-82.0105,33.4735],"type":"Point"},"properties":{"NAME":"Augusta","POSITION":"R","STATE":"GA"},"type":"Feature"},{"geometry":{"coordinates":[-84.9877,32.461],"type":"Point"},"properties":{"NAME":"Columbus","POSITION":"R","STATE":"GA"},"type":"Feature"},{"geometry":{"coordinates":[-83.6324,32.8407],"type":"Point"},"properties":{"NAME":"Macon","POSITION":"R","STATE":"GA"},"type":"Feature"},{"geometry":{"coordinates":[-81.0912,32.0809],"type":"Point"},"properties":{"NAME":"Savannah","POSITION":"B","STATE":"GA"},"type":"Feature"},{"geometry":{"coordinates":[-157.8583,21.3069],"type":"Point"},"properties":{"NAME":"Honolulu","POSITION":"R","STATE":"HI"},"type":"Feature"},{"geometry":{"coordinates":[-91.666,41.977879],"type":"Point"},"properties":{"NAME":"Cedar Rapids","POSITION":"L","STATE":"IA"},"type":"Feature"},{"geometry":{"coordinates":[-90.578,41.533643],"type":"Point"},"properties":{"NAME":"Davenport","POSITION":"T","STATE":"IA"},"type":"Feature"},{"geometry":{"coordinates":[-93.617,41.576],"type":"Point"},"properties":{"NAME":"Des Moines","POSITION":"B","STATE":"IA"},"type":"Feature"},{"geometry":{"coordinates":[-96.4,42.4949942],"type":"Point"},"properties":{"NAME":"Sioux City","POSITION":"R","STATE":"IA"},"type":"Feature"},{"geometry":{"coordinates":[-116.2023,43.615],"type":"Point"},"properties":{"NAME":"Boise","POSITION":"B","STATE":"ID"},"type":"Feature"},{"geometry":{"coordinates":[-112.0408,43.4927],"type":"Point"},"properties":{"NAME":"Idaho Falls","POSITION":"T","STATE":"ID"},"type":"Feature"},{"geometry":{"coordinates":[-112.4506,42.8621],"type":"Point"},"properties":{"NAME":"Pocatello","POSITION":"B","STATE":"ID"},"type":"Feature"},{"geometry":{"coordinates":[-87.6298,41.8781],"type":"Point"},"properties":{"NAME":"Chicago","POSITION":"R","STATE":"IL"},"type":"Feature"},{"geometry":{"coordinates":[-88.08,41.53],"type":"Point"},"properties":{"NAME":"Joliet","POSITION":"L","STATE":"IL"},"type":"Feature"},{"geometry":{"coordinates":[-89.589,40.6936],"type":"Point"},"properties":{"NAME":"Peoria","POSITION":"R","STATE":"IL"},"type":"Feature"},{"geometry":{"coordinates":[-89.094,42.271],"type":"Point"},"properties":{"NAME":"Rockford","POSITION":"L","STATE":"IL"},"type":"Feature"},{"geometry":{"coordinates":[-89.6501,39.7817],"type":"Point"},"properties":{"NAME":"Springfield","POSITION":"R","STATE":"IL"},"type":"Feature"},{"geometry":{"coordinates":[-87.5711,37.9716],"type":"Point"},"properties":{"NAME":"Evansville","POSITION":"T","STATE":"IN"},"type":"Feature"},{"geometry":{"coordinates":[-85.1394,41.0793],"type":"Point"},"properties":{"NAME":"Fort Wayne","POSITION":"B","STATE":"IN"},"type":"Feature"},{"geometry":{"coordinates":[-86.1581,39.7684],"type":"Point"},"properties":{"NAME":"Indianapolis","POSITION":"B","STATE":"IN"},"type":"Feature"},{"geometry":{"coordinates":[-86.252,41.6764],"type":"Point"},"properties":{"NAME":"South Bend","POSITION":"B","STATE":"IN"},"type":"Feature"},{"geometry":{"coordinates":[-95.2353,38.9717],"type":"Point"},"properties":{"NAME":"Lawrence","POSITION":"B","STATE":"KS"},"type":"Feature"},{"geometry":{"coordinates":[-95.6752,39.0473],"type":"Point"},"properties":{"NAME":"Topeka","POSITION":"L","STATE":"KS"},"type":"Feature"},{"geometry":{"coordinates":[-97.3148,37.6979],"type":"Point"},"properties":{"NAME":"Wichita","POSITION":"T","STATE":"KS"},"type":"Feature"},{"geometry":{"coordinates":[-86.4808,36.9685],"type":"Point"},"properties":{"NAME":"Bowling Green","POSITION":"R","STATE":"KY"},"type":"Feature"},{"geometry":{"coordinates":[-84.8733,38.2009],"type":"Point"},"properties":{"NAME":"Frankfort","POSITION":"T","STATE":"KY"},"type":"Feature"},{"geometry":{"coordinates":[-84.5037,38.0406],"type":"Point"},"properties":{"NAME":"Lexington","POSITION":"B","STATE":"KY"},"type":"Feature"},{"geometry":{"coordinates":[-85.7584,38.2527],"type":"Point"},"properties":{"NAME":"Louisville","POSITION":"L","STATE":"KY"},"type":"Feature"},{"geometry":{"coordinates":[-86.7816,36.1627],"type":"Point"},"properties":{"NAME":"Nashville","POSITION":"T","STATE":"KY"},"type":"Feature"},{"geometry":{"coordinates":[-91.1473,30.4711],"type":"Point"},"properties":{"NAME":"Baton Rouge","POSITION":"T","STATE":"LA"},"type":"Feature"},{"geometry":{"coordinates":[-92.0198,30.2241],"type":"Point"},"properties":{"NAME":"Lafayette","POSITION":"B","STATE":"LA"},"type":"Feature"},{"geometry":{"coordinates":[-90.0715,29.9511],"type":"Point"},"properties":{"NAME":"New Orleans","POSITION":"B","STATE":"LA"},"type":"Feature"},{"geometry":{"coordinates":[-93.7502,32.5252],"type":"Point"},"properties":{"NAME":"Shreveport","POSITION":"R","STATE":"LA"},"type":"Feature"},{"geometry":{"coordinates":[-71.0589,42.3601],"type":"Point"},"properties":{"NAME":"Boston","POSITION":"R","STATE":"MA"},"type":"Feature"},{"geometry":{"coordinates":[-71.0184,42.0834],"type":"Point"},"properties":{"NAME":"Brockton","POSITION":"R","STATE":"MA"},"type":"Feature"},{"geometry":{"coordinates":[-71.3162,42.6334],"type":"Point"},"properties":{"NAME":"Lowell","POSITION":"R","STATE":"MA"},"type":"Feature"},{"geometry":{"coordinates":[-72.5898,42.1015],"type":"Point"},"properties":{"NAME":"Springfield","POSITION":"T","STATE":"MA"},"type":"Feature"},{"geometry":{"coordinates":[-71.8023,42.2626],"type":"Point"},"properties":{"NAME":"Worcester","POSITION":"L","STATE":"MA"},"type":"Feature"},{"geometry":{"coordinates":[-76.46922,38.9784],"type":"Point"},"properties":{"NAME":"Annapolis","POSITION":"R","STATE":"MD"},"type":"Feature"},{"geometry":{"coordinates":[-76.6093,39.2992],"type":"Point"},"properties":{"NAME":"Baltimore","POSITION":"T","STATE":"MD"},"type":"Feature"},{"geometry":{"coordinates":[-75.52,39.16],"type":"Point"},"properties":{"NAME":"Dover","POSITION":"R","STATE":"MD"},"type":"Feature"},{"geometry":{"coordinates":[-77.1528,39.084],"type":"Point"},"properties":{"NAME":"Rockville","POSITION":"L","STATE":"MD"},"type":"Feature"},{"geometry":{"coordinates":[-69.7795,44.3106],"type":"Point"},"properties":{"NAME":"Augusta","POSITION":"T","STATE":"ME"},"type":"Feature"},{"geometry":{"coordinates":[-68.7712,44.8016],"type":"Point"},"properties":{"NAME":"Bangor","POSITION":"T","STATE":"ME"},"type":"Feature"},{"geometry":{"coordinates":[-70.2568,43.6591],"type":"Point"},"properties":{"NAME":"Portland","POSITION":"T","STATE":"ME"},"type":"Feature"},{"geometry":{"coordinates":[-83.743,42.2808],"type":"Point"},"properties":{"NAME":"Ann Arbor","POSITION":"B","STATE":"MI"},"type":"Feature"},{"geometry":{"coordinates":[-83.0458,42.3314],"type":"Point"},"properties":{"NAME":"Detroit","POSITION":"R","STATE":"MI"},"type":"Feature"},{"geometry":{"coordinates":[-85.6681,42.9634],"type":"Point"},"properties":{"NAME":"Grand Rapids","POSITION":"T","STATE":"MI"},"type":"Feature"},{"geometry":{"coordinates":[-84.5555,42.7325],"type":"Point"},"properties":{"NAME":"Lansing","POSITION":"B","STATE":"MI"},"type":"Feature"},{"geometry":{"coordinates":[-83.95,43.42],"type":"Point"},"properties":{"NAME":"Saginaw","POSITION":"T","STATE":"MI"},"type":"Feature"},{"geometry":{"coordinates":[-92.1005,46.7867],"type":"Point"},"properties":{"NAME":"Duluth","POSITION":"L","STATE":"MN"},"type":"Feature"},{"geometry":{"coordinates":[-93.265,44.9778],"type":"Point"},"properties":{"NAME":"Minneapolis","POSITION":"L","STATE":"MN"},"type":"Feature"},{"geometry":{"coordinates":[-92.4802,44.0121],"type":"Point"},"properties":{"NAME":"Rochester","POSITION":"R","STATE":"MN"},"type":"Feature"},{"geometry":{"coordinates":[-93.09,44.9537],"type":"Point"},"properties":{"NAME":"St. Paul","POSITION":"R","STATE":"MN"},"type":"Feature"},{"geometry":{"coordinates":[-92.3341,38.9517],"type":"Point"},"properties":{"NAME":"Columbia","POSITION":"T","STATE":"MO"},"type":"Feature"},{"geometry":{"coordinates":[-92.1735,38.5767],"type":"Point"},"properties":{"NAME":"Jefferson City","POSITION":"B","STATE":"MO"},"type":"Feature"},{"geometry":{"coordinates":[-94.5786,39.0997],"type":"Point"},"properties":{"NAME":"Kansas City","POSITION":"T","STATE":"MO"},"type":"Feature"},{"geometry":{"coordinates":[-93.2923,37.209],"type":"Point"},"properties":{"NAME":"Springfield","POSITION":"R","STATE":"MO"},"type":"Feature"},{"geometry":{"coordinates":[-90.1994,38.627],"type":"Point"},"properties":{"NAME":"St. Louis","POSITION":"R","STATE":"MO"},"type":"Feature"},{"geometry":{"coordinates":[-88.8853,30.396],"type":"Point"},"properties":{"NAME":"Biloxi","POSITION":"T","STATE":"MS"},"type":"Feature"},{"geometry":{"coordinates":[-90.1848,32.2988],"type":"Point"},"properties":{"NAME":"Jackson","POSITION":"B","STATE":"MS"},"type":"Feature"},{"geometry":{"coordinates":[88.7034,34.2576],"type":"Point"},"properties":{"NAME":"Tupelo","POSITION":"R","STATE":"MS"},"type":"Feature"},{"geometry":{"coordinates":[-108.5007,45.7833],"type":"Point"},"properties":{"NAME":"Billings","POSITION":"R","STATE":"MT"},"type":"Feature"},{"geometry":{"coordinates":[-111.0429,46.677],"type":"Point"},"properties":{"NAME":"Bozeman","POSITION":"R","STATE":"MT"},"type":"Feature"},{"geometry":{"coordinates":[-111.3008,47.5053],"type":"Point"},"properties":{"NAME":"Great Falls","POSITION":"R","STATE":"MT"},"type":"Feature"},{"geometry":{"coordinates":[-112.0391,46.5891],"type":"Point"},"properties":{"NAME":"Helena","POSITION":"B","STATE":"MT"},"type":"Feature"},{"geometry":{"coordinates":[-113.994,46.8721],"type":"Point"},"properties":{"NAME":"Missoula","POSITION":"R","STATE":"MT"},"type":"Feature"},{"geometry":{"coordinates":[-82.5515,35.5951],"type":"Point"},"properties":{"NAME":"Asheville","POSITION":"T","STATE":"NC"},"type":"Feature"},{"geometry":{"coordinates":[-80.8431,35.2271],"type":"Point"},"properties":{"NAME":"Charlotte","POSITION":"T","STATE":"NC"},"type":"Feature"},{"geometry":{"coordinates":[-78.8784,35.0527],"type":"Point"},"properties":{"NAME":"Fayetteville","POSITION":"B","STATE":"NC"},"type":"Feature"},{"geometry":{"coordinates":[-79.792,36.0726],"type":"Point"},"properties":{"NAME":"Greensboro","POSITION":"T","STATE":"NC"},"type":"Feature"},{"geometry":{"coordinates":[-76.2858,36.8507],"type":"Point"},"properties":{"NAME":"Norfolk","POSITION":"R","STATE":"NC"},"type":"Feature"},{"geometry":{"coordinates":[-78.6382,35.7796],"type":"Point"},"properties":{"NAME":"Raleigh","POSITION":"R","STATE":"NC"},"type":"Feature"},{"geometry":{"coordinates":[-100.7837,46.8083],"type":"Point"},"properties":{"NAME":"Bismarck","POSITION":"B","STATE":"ND"},"type":"Feature"},{"geometry":{"coordinates":[-96.7898,46.8772],"type":"Point"},"properties":{"NAME":"Fargo","POSITION":"T","STATE":"ND"},"type":"Feature"},{"geometry":{"coordinates":[-97.0329,47.9253],"type":"Point"},"properties":{"NAME":"Grand Forks","POSITION":"L","STATE":"ND"},"type":"Feature"},{"geometry":{"coordinates":[-101.2923,48.233],"type":"Point"},"properties":{"NAME":"Minot","POSITION":"L","STATE":"ND"},"type":"Feature"},{"geometry":{"coordinates":[-98.342,40.9264],"type":"Point"},"properties":{"NAME":"Grand Island","POSITION":"T","STATE":"NE"},"type":"Feature"},{"geometry":{"coordinates":[-98.9245,40.6941],"type":"Point"},"properties":{"NAME":"Kearney","POSITION":"B","STATE":"NE"},"type":"Feature"},{"geometry":{"coordinates":[-96.7026,40.8136],"type":"Point"},"properties":{"NAME":"Lincoln","POSITION":"B","STATE":"NE"},"type":"Feature"},{"geometry":{"coordinates":[-95.9345,41.2565],"type":"Point"},"properties":{"NAME":"Omaha","POSITION":"L","STATE":"NE"},"type":"Feature"},{"geometry":{"coordinates":[-71.5376,43.2081],"type":"Point"},"properties":{"NAME":"Concord","POSITION":"T","STATE":"NH"},"type":"Feature"},{"geometry":{"coordinates":[-70.8737,43.1979],"type":"Point"},"properties":{"NAME":"Dover","POSITION":"R","STATE":"NH"},"type":"Feature"},{"geometry":{"coordinates":[-71.4548,42.9956],"type":"Point"},"properties":{"NAME":"Manchester","POSITION":"L","STATE":"NH"},"type":"Feature"},{"geometry":{"coordinates":[-71.4676,42.7654],"type":"Point"},"properties":{"NAME":"Nashua","POSITION":"R","STATE":"NH"},"type":"Feature"},{"geometry":{"coordinates":[-75.1196,39.9259],"type":"Point"},"properties":{"NAME":"Camden","POSITION":"R","STATE":"NJ"},"type":"Feature"},{"geometry":{"coordinates":[-74.86,40.51],"type":"Point"},"properties":{"NAME":"Flemington","POSITION":"B","STATE":"NJ"},"type":"Feature"},{"geometry":{"coordinates":[-74.1724,40.7357],"type":"Point"},"properties":{"NAME":"Newark","POSITION":"L","STATE":"NJ"},"type":"Feature"},{"geometry":{"coordinates":[-74.7597,40.2206],"type":"Point"},"properties":{"NAME":"Trenton","POSITION":"R","STATE":"NJ"},"type":"Feature"},{"geometry":{"coordinates":[-106.6504,35.0844],"type":"Point"},"properties":{"NAME":"Albuquerque","POSITION":"B","STATE":"NM"},"type":"Feature"},{"geometry":{"coordinates":[-108.2187,36.7281],"type":"Point"},"properties":{"NAME":"Farmington","POSITION":"R","STATE":"NM"},"type":"Feature"},{"geometry":{"coordinates":[-106.7637,32.3199],"type":"Point"},"properties":{"NAME":"Las Cruces","POSITION":"R","STATE":"NM"},"type":"Feature"},{"geometry":{"coordinates":[-104.523,33.3943],"type":"Point"},"properties":{"NAME":"Roswell","POSITION":"R","STATE":"NM"},"type":"Feature"},{"geometry":{"coordinates":[-105.9378,35.687],"type":"Point"},"properties":{"NAME":"Santa Fe","POSITION":"R","STATE":"NM"},"type":"Feature"},{"geometry":{"coordinates":[-119.7674,39.1638],"type":"Point"},"properties":{"NAME":"Carson City","POSITION":"B","STATE":"NV"},"type":"Feature"},{"geometry":{"coordinates":[-115.1398,36.1699],"type":"Point"},"properties":{"NAME":"Las Vegas","POSITION":"T","STATE":"NV"},"type":"Feature"},{"geometry":{"coordinates":[-119.8149,39.5308],"type":"Point"},"properties":{"NAME":"Reno","POSITION":"T","STATE":"NV"},"type":"Feature"},{"geometry":{"coordinates":[-73.7562,42.6526],"type":"Point"},"properties":{"NAME":"Albany","POSITION":"R","STATE":"NY"},"type":"Feature"},{"geometry":{"coordinates":[-75.92,42.099],"type":"Point"},"properties":{"NAME":"Binghamton","POSITION":"L","STATE":"NY"},"type":"Feature"},{"geometry":{"coordinates":[-78.8784,42.8864],"type":"Point"},"properties":{"NAME":"Buffalo","POSITION":"R","STATE":"NY"},"type":"Feature"},{"geometry":{"coordinates":[-74.006,40.7128],"type":"Point"},"properties":{"NAME":"New York","POSITION":"B","STATE":"NY"},"type":"Feature"},{"geometry":{"coordinates":[-77.6088,43.1566],"type":"Point"},"properties":{"NAME":"Rochester","POSITION":"T","STATE":"NY"},"type":"Feature"},{"geometry":{"coordinates":[-76.1474,43.0481],"type":"Point"},"properties":{"NAME":"Syracuse","POSITION":"T","STATE":"NY"},"type":"Feature"},{"geometry":{"coordinates":[-84.512,39.1031],"type":"Point"},"properties":{"NAME":"Cincinnati","POSITION":"T","STATE":"OH"},"type":"Feature"},{"geometry":{"coordinates":[-81.6944,41.4993],"type":"Point"},"properties":{"NAME":"Cleveland","POSITION":"T","STATE":"OH"},"type":"Feature"},{"geometry":{"coordinates":[-82.9988,39.9612],"type":"Point"},"properties":{"NAME":"Columbus","POSITION":"T","STATE":"OH"},"type":"Feature"},{"geometry":{"coordinates":[-83.5379,41.6528],"type":"Point"},"properties":{"NAME":"Toledo","POSITION":"T","STATE":"OH"},"type":"Feature"},{"geometry":{"coordinates":[-80.649299,41.096258],"type":"Point"},"properties":{"NAME":"Youngstown","POSITION":"L","STATE":"OH"},"type":"Feature"},{"geometry":{"coordinates":[-98.3959,34.6036],"type":"Point"},"properties":{"NAME":"Lawton","POSITION":"R","STATE":"OK"},"type":"Feature"},{"geometry":{"coordinates":[-97.5164,35.4676],"type":"Point"},"properties":{"NAME":"Oklahoma City","POSITION":"L","STATE":"OK"},"type":"Feature"},{"geometry":{"coordinates":[-95.9928,36.154],"type":"Point"},"properties":{"NAME":"Tulsa","POSITION":"T","STATE":"OK"},"type":"Feature"},{"geometry":{"coordinates":[-121.3153,44.0582],"type":"Point"},"properties":{"NAME":"Bend","POSITION":"R","STATE":"OR"},"type":"Feature"},{"geometry":{"coordinates":[-123.0868,44.0521],"type":"Point"},"properties":{"NAME":"Eugene","POSITION":"B","STATE":"OR"},"type":"Feature"},{"geometry":{"coordinates":[-122.8756,42.3265],"type":"Point"},"properties":{"NAME":"Medford","POSITION":"R","STATE":"OR"},"type":"Feature"},{"geometry":{"coordinates":[-122.675,45.5051],"type":"Point"},"properties":{"NAME":"Portland","POSITION":"R","STATE":"OR"},"type":"Feature"},{"geometry":{"coordinates":[-123.0351,44.9429],"type":"Point"},"properties":{"NAME":"Salem","POSITION":"B","STATE":"OR"},"type":"Feature"},{"geometry":{"coordinates":[-75.4714,40.6023],"type":"Point"},"properties":{"NAME":"Allentown","POSITION":"T","STATE":"PA"},"type":"Feature"},{"geometry":{"coordinates":[-80.0851,42.1292],"type":"Point"},"properties":{"NAME":"Erie","POSITION":"R","STATE":"PA"},"type":"Feature"},{"geometry":{"coordinates":[-76.8867,40.2732],"type":"Point"},"properties":{"NAME":"Harrisburg","POSITION":"L","STATE":"PA"},"type":"Feature"},{"geometry":{"coordinates":[-75.1652,39.9526],"type":"Point"},"properties":{"NAME":"Philadelphia","POSITION":"L","STATE":"PA"},"type":"Feature"},{"geometry":{"coordinates":[-79.9959,40.4406],"type":"Point"},"properties":{"NAME":"Pittsburgh","POSITION":"T","STATE":"PA"},"type":"Feature"},{"geometry":{"coordinates":[-75.6624,41.409],"type":"Point"},"properties":{"NAME":"Scranton","POSITION":"B","STATE":"PA"},"type":"Feature"},{"geometry":{"coordinates":[-71.4128,41.824],"type":"Point"},"properties":{"NAME":"Providence","POSITION":"R","STATE":"RI"},"type":"Feature"},{"geometry":{"coordinates":[-79.9311,32.7765],"type":"Point"},"properties":{"NAME":"Charleston","POSITION":"B","STATE":"SC"},"type":"Feature"},{"geometry":{"coordinates":[-81.0348,34.0007],"type":"Point"},"properties":{"NAME":"Columbia","POSITION":"B","STATE":"SC"},"type":"Feature"},{"geometry":{"coordinates":[-82.394,34.8526],"type":"Point"},"properties":{"NAME":"Greenville","POSITION":"B","STATE":"SC"},"type":"Feature"},{"geometry":{"coordinates":[-81.0251,34.9249],"type":"Point"},"properties":{"NAME":"Rock Hill","POSITION":"B","STATE":"SC"},"type":"Feature"},{"geometry":{"coordinates":[-98.4865,45.4647],"type":"Point"},"properties":{"NAME":"Aberdeen","POSITION":"L","STATE":"SD"},"type":"Feature"},{"geometry":{"coordinates":[-100.3538,44.3668],"type":"Point"},"properties":{"NAME":"Pierre","POSITION":"T","STATE":"SD"},"type":"Feature"},{"geometry":{"coordinates":[-103.231,44.0805],"type":"Point"},"properties":{"NAME":"Rapid City","POSITION":"B","STATE":"SD"},"type":"Feature"},{"geometry":{"coordinates":[-96.7283,43.5473],"type":"Point"},"properties":{"NAME":"Sioux Falls","POSITION":"L","STATE":"SD"},"type":"Feature"},{"geometry":{"coordinates":[-97.1151,44.8994],"type":"Point"},"properties":{"NAME":"Watertown","POSITION":"L","STATE":"SD"},"type":"Feature"},{"geometry":{"coordinates":[-85.3097,35.0456],"type":"Point"},"properties":{"NAME":"Chattanooga","POSITION":"T","STATE":"TN"},"type":"Feature"},{"geometry":{"coordinates":[-83.9207,35.9606],"type":"Point"},"properties":{"NAME":"Knoxville","POSITION":"R","STATE":"TN"},"type":"Feature"},{"geometry":{"coordinates":[-90.049,35.1495],"type":"Point"},"properties":{"NAME":"Memphis","POSITION":"R","STATE":"TN"},"type":"Feature"},{"geometry":{"coordinates":[-101.831,35.222],"type":"Point"},"properties":{"NAME":"Amarillo","POSITION":"T","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-97.7431,30.2672],"type":"Point"},"properties":{"NAME":"Austin","POSITION":"T","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-97.5,25.9],"type":"Point"},"properties":{"NAME":"Brownsville","POSITION":"T","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-97.3964,27.8006],"type":"Point"},"properties":{"NAME":"Corpus Christi","POSITION":"R","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-96.797,32.7767],"type":"Point"},"properties":{"NAME":"Dallas","POSITION":"R","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-106.485,31.7619],"type":"Point"},"properties":{"NAME":"El Paso","POSITION":"B","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-95.3698,29.7604],"type":"Point"},"properties":{"NAME":"Houston","POSITION":"R","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-99.5076,27.5036],"type":"Point"},"properties":{"NAME":"Laredo","POSITION":"B","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-101.85525,33.577809],"type":"Point"},"properties":{"NAME":"Lubbock","POSITION":"T","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-102.08,31.99],"type":"Point"},"properties":{"NAME":"Midland","POSITION":"R","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-98.4936,29.4241],"type":"Point"},"properties":{"NAME":"San Antonio","POSITION":"L","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-97.147,31.55],"type":"Point"},"properties":{"NAME":"Waco","POSITION":"R","STATE":"TX"},"type":"Feature"},{"geometry":{"coordinates":[-111.6585,40.2338],"type":"Point"},"properties":{"NAME":"Provo","POSITION":"B","STATE":"UT"},"type":"Feature"},{"geometry":{"coordinates":[-111.891,40.7608],"type":"Point"},"properties":{"NAME":"Salt Lake City","POSITION":"L","STATE":"UT"},"type":"Feature"},{"geometry":{"coordinates":[-82.189,36.595],"type":"Point"},"properties":{"NAME":"Bristol","POSITION":"T","STATE":"VA"},"type":"Feature"},{"geometry":{"coordinates":[-77.436,37.5407],"type":"Point"},"properties":{"NAME":"Richmond","POSITION":"T","STATE":"VA"},"type":"Feature"},{"geometry":{"coordinates":[-79.9414,37.271],"type":"Point"},"properties":{"NAME":"Roanoke","POSITION":"B","STATE":"VA"},"type":"Feature"},{"geometry":{"coordinates":[-75.978,36.8529],"type":"Point"},"properties":{"NAME":"Virginia Beach","POSITION":"B","STATE":"VA"},"type":"Feature"},{"geometry":{"coordinates":[-73.2121,44.4759],"type":"Point"},"properties":{"NAME":"Burlington","POSITION":"T","STATE":"VT"},"type":"Feature"},{"geometry":{"coordinates":[-72.5754,44.2601],"type":"Point"},"properties":{"NAME":"Montpelier","POSITION":"B","STATE":"VT"},"type":"Feature"},{"geometry":{"coordinates":[-72.9726,43.6106],"type":"Point"},"properties":{"NAME":"Rutland","POSITION":"R","STATE":"VT"},"type":"Feature"},{"geometry":{"coordinates":[-122.9007,47.0379],"type":"Point"},"properties":{"NAME":"Olympia","POSITION":"B","STATE":"WA"},"type":"Feature"},{"geometry":{"coordinates":[-122.3321,47.6062],"type":"Point"},"properties":{"NAME":"Seattle","POSITION":"R","STATE":"WA"},"type":"Feature"},{"geometry":{"coordinates":[-117.426,47.6588],"type":"Point"},"properties":{"NAME":"Spokane","POSITION":"L","STATE":"WA"},"type":"Feature"},{"geometry":{"coordinates":[-120.31,47.42],"type":"Point"},"properties":{"NAME":"Wenatchee","POSITION":"R","STATE":"WA"},"type":"Feature"},{"geometry":{"coordinates":[-91.4985,44.8113],"type":"Point"},"properties":{"NAME":"Eau Claire","POSITION":"T","STATE":"WI"},"type":"Feature"},{"geometry":{"coordinates":[-88.0133,44.5133],"type":"Point"},"properties":{"NAME":"Green Bay","POSITION":"L","STATE":"WI"},"type":"Feature"},{"geometry":{"coordinates":[-89.4012,43.0731],"type":"Point"},"properties":{"NAME":"Madison","POSITION":"B","STATE":"WI"},"type":"Feature"},{"geometry":{"coordinates":[-87.9065,43.0389],"type":"Point"},"properties":{"NAME":"Milwaukee","POSITION":"T","STATE":"WI"},"type":"Feature"},{"geometry":{"coordinates":[81.633,38.35],"type":"Point"},"properties":{"NAME":"Charleston","POSITION":"R","STATE":"WV"},"type":"Feature"},{"geometry":{"coordinates":[-94.4611,43.6522],"type":"Point"},"properties":{"NAME":"Fairmont","POSITION":"T","STATE":"WV"},"type":"Feature"},{"geometry":{"coordinates":[-73.4257,40.8682],"type":"Point"},"properties":{"NAME":"Huntington","POSITION":"R","STATE":"WV"},"type":"Feature"},{"geometry":{"coordinates":[-79.9559,39.6295],"type":"Point"},"properties":{"NAME":"Morgantown","POSITION":"R","STATE":"WV"},"type":"Feature"},{"geometry":{"coordinates":[-81.5615,39.2667],"type":"Point"},"properties":{"NAME":"Parkersburg","POSITION":"R","STATE":"WV"},"type":"Feature"},{"geometry":{"coordinates":[-106.3252,42.8501],"type":"Point"},"properties":{"NAME":"Casper","POSITION":"R","STATE":"WY"},"type":"Feature"},{"geometry":{"coordinates":[-104.8202,41.14],"type":"Point"},"properties":{"NAME":"Cheyenne","POSITION":"T","STATE":"WY"},"type":"Feature"},{"geometry":{"coordinates":[-110.7624,43.2799],"type":"Point"},"properties":{"NAME":"Jackson","POSITION":"R","STATE":"WY"},"type":"Feature"},{"geometry":{"coordinates":[-109.2029,41.5875],"type":"Point"},"properties":{"NAME":"Rock Springs","POSITION":"R","STATE":"WY"},"type":"Feature"}]}'),x=3,I={CA:2,NV:2.75,TX:2},s={INTERACTIVE:"interactive",GEO:"geo",LABELS:"labels",POLY_LABELS:"polyLabels",CIRCLE:"circle"},N=[s.GEO,s.INTERACTIVE,s.LABELS,s.POLY_LABELS],O=[s.GEO,s.INTERACTIVE,s.CIRCLE],h={RIGHT:"R",BOTTOM:"B",LEFT:"L",TOP:"T",CENTER:"C"},R={id:"cities",featureId:({properties:{NAME:j,STATE:r}})=>`${j} ${r}`,type:s.LABELS,source:l,filter(j,r){const Y=I[j.properties.STATE]||x;return r>=Y},label(j){return j.properties.NAME},position(j){return j.properties.POSITION}}},"./components/helpers/analytics.js":(te,v,a)=>{a.r(v),a.d(v,{MAP_TYPE:()=>N,MapAnalyticsContextProvider:()=>h,roundHoverDuration:()=>R,useEmbedAnalytics:()=>Y,useMapAnalytics:()=>j});var l=a("./node_modules/next/dist/compiled/react/index.js"),x=a("./node_modules/@nbcnews/analytics-framework/dist/analytics-framework.min.js"),I=a("./components/providers/EmbedContext.js"),s=l.createElement;(0,x.stub)("register","elections_hover_map",{allowDuplicate:!0});const N={REGULAR:"regular",SIZE_OF_LEAD:"size of lead",REMAINING_VOTE:"remaining vote"},O=(0,l.createContext)(null);function h({children:m,mapType:W=N.REGULAR,raceName:q=""}){const b=(0,l.useMemo)(()=>({mapType:W,raceName:q}),[W,q]);return s(O.Provider,{value:b},m)}h.displayName="MapAnalyticsContextProvider";function R(m){return m<10?5:Math.round(m/10)*10}function j(){const m=(0,l.useContext)(O),{0:W,1:q}=(0,l.useState)(null),{0:b,1:D}=(0,l.useState)(0),ee=(0,l.useRef)(new Set);return(0,l.useEffect)(()=>{if(!m||!b)return;const{raceName:z,mapType:G}=m,K=R(b/1e3);K<5||ee.current.has(K)||(ee.current.add(K),(0,x.stub)("track","elections_hover_map",{duration:K,mapType:G,raceName:z}))},[b,m]),(0,l.useEffect)(()=>{if(!W||!m)return;let z=0;const G=()=>{z=Date.now()},K=()=>{if(!z)return;const se=Date.now()-z;D(ue=>ue+se)};return W.addEventListener("mouseenter",G),W.addEventListener("mouseleave",K),()=>{W.removeEventListener("mouseenter",G),W.removeEventListener("mouseleave",K)}},[W,m]),{setReference:(0,l.useCallback)(z=>{q(z)},[])}}const r=["nbcnews.com","telemundo.com"];function Y(){const{isPartner:m}=(0,l.useContext)(I.default);(0,l.useEffect)(()=>{const W=q=>{const b=m?"cid":"icid",ee=q.target?.closest(`[data-${b}]`)?.getAttribute(`data-${b}`);if(!ee)return;const H=`BI_UI_${b}`,z=r.find(K=>window.location.hostname.includes(K))??r[0],G=new Date;G.setMinutes(G.getMinutes()+30),document.cookie=`${H}=${ee}; expires=${G.toUTCString()}; path=/; domain=${z}`};return window.addEventListener("click",W),()=>{window.removeEventListener("click",W)}},[m])}},"./components/hooks/useIsSafari.js":(te,v,a)=>{a.r(v),a.d(v,{default:()=>I});var l=a("./node_modules/next/dist/compiled/react/index.js"),x=a("./helpers/MobileDetection.js");function I(){const{0:s,1:N}=(0,l.useState)(!1);return(0,l.useEffect)(()=>{N(x.default.iOS()||x.default.Safari())},[]),s}},"./components/providers/EmbedContext.js":(te,v,a)=>{a.r(v),a.d(v,{default:()=>x});var l=a("./node_modules/next/dist/compiled/react/index.js");const x=l.createContext({isEmbed:!1,isPartner:!1,isInSpanish:!1,useLinkTarget:!1})},"./helpers/MobileDetection.js":(te,v,a)=>{a.r(v),a.d(v,{default:()=>x});const l={hasUserAgent(){return typeof navigator<"u"?navigator.userAgent||" ":!1},Android(){return this.hasUserAgent()&&navigator.userAgent.match(/Android/i)},BlackBerry(){return this.hasUserAgent()&&navigator.userAgent.match(/BlackBerry/i)},iOS(){return this.hasUserAgent()&&(navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},Safari(){return this.hasUserAgent()&&navigator.userAgent.match(/^((?!chrome|android).)*safari/i)},Opera(){return this.hasUserAgent()&&navigator.userAgent.match(/Opera Mini/i)},Windows(){return this.hasUserAgent()&&navigator.userAgent.match(/IEMobile/i)},any(){return l.Android()||l.BlackBerry()||l.iOS()||l.Opera()||l.Windows()}},x=l}}]);
