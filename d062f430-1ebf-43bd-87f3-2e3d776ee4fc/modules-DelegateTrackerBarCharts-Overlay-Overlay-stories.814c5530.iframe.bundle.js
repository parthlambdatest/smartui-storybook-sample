"use strict";(globalThis.webpackChunkfirecracker=globalThis.webpackChunkfirecracker||[]).push([[9126],{"./components/modules/DelegateTrackerBarCharts/Overlay/Overlay.stories.js":(P,o,t)=>{t.r(o),t.d(o,{Overlay:()=>y,OverlayWithPastElections:()=>e,__namedExportsOrder:()=>u,default:()=>D});var l=t("./node_modules/@babel/runtime/helpers/esm/extends.js"),i=t("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),E=t("./node_modules/next/dist/compiled/react/index.js"),m=t("./components/modules/DelegateTrackerBarCharts/Overlay/Overlay.js"),n=t("./server/v2/format/formatDelegates.js"),d=t("./helpers/primaries.js"),a=t("./server/tests/elections2024/mocks/season_delegates/zero.json"),s=t("./server/tests/elections2024/mocks/season_delegates/during.json"),r=t("./server/tests/elections2024/mocks/season_delegates/nominee.json");const f=["candidate","dataset"];var _=E.createElement;const g={zero:a,during:s,nominee:r},O=Object.entries(a.season_level_delegate).flatMap(([c,h])=>h.season_delegates.map(j=>({candidate:j,party:c}))),D={title:"Embeds/Delegate Tracker/Overlay",component:m.default,args:{candidate:"Donald Trump",dataset:"zero",droppedOutNames:["Asa Hutchinson"],incumbentName:"Joe Biden",isTouch:!0},argTypes:{candidate:{control:{type:"select"},options:O.map(c=>c.candidate.candidate_name).sort()},dataset:{control:{type:"select"},options:Object.keys(g)}}},y=c=>{let{candidate:h,dataset:j}=c,C=(0,i.default)(c,f);const T=O.find(v=>v.candidate.candidate_name===h),I=g[j],p=(0,n.formatNationalDelegateRace)({delegates:I,electionSeason:"2024",party:T.party}),M=(0,d.getStateLevelDelegates)(I.state_level_data),A=(0,n.formatStateDelegateRace)({delegates:M,electionSeason:"2024",party:T.party});return _(m.default,(0,l.default)({candidate:p.candidates.find(v=>v.name===h),delegatesByState:A,party:T.party,delegatesNeeded:p.delegatesNeeded},C))};y.displayName="Overlay";const e=c=>_(y,c);e.displayName="OverlayWithPastElections",e.args={candidate:"Nikki Haley",dataset:"during"};const u=["Overlay","OverlayWithPastElections"]},"./helpers/primaries.js":(P,o,t)=>{t.r(o),t.d(o,{getStateLevelDelegates:()=>m,mapDelegatesToCandidatesAndState:()=>E,mappedParty:()=>i});var l=t("./helpers/constants.js");const i=n=>{if(l.DEMOCRATIC_ELECTION_TYPES.includes(n))return"dem";if(l.REPUBLICAN_ELECTION_TYPES.includes(n))return"rep"},E=({summary:n,stateAbbr:d,stateData:a})=>{const s=Object.values(a).find(_=>_.state_code===d&&_.event_type===n.electionTypeCode)||{candidates_delegates:[],available_total:0},{candidates_delegates:r,available_total:f}=s;return{totalDelegates:f,candidates:n.candidates.map(_=>{const g=_.code,O=r.find(D=>D.candidate_code===g);return O&&(_.delegates=O.event_total),_})}},m=n=>{const d={};return Object.keys(n).forEach(a=>{l.PRIMARY_ELECTION_TYPE_CODES.some(s=>a.includes(`-${s}`))&&(d[a]=n[a])}),d}},"./node_modules/lodash-es/orderBy.js":(P,o,t)=>{t.r(o),t.d(o,{default:()=>m});var l=t("./node_modules/lodash-es/_baseOrderBy.js"),i=t("./node_modules/lodash-es/isArray.js");function E(n,d,a,s){return n==null?[]:((0,i.default)(d)||(d=d==null?[]:[d]),a=s?void 0:a,(0,i.default)(a)||(a=a==null?[]:[a]),(0,l.default)(n,d,a))}const m=E},"./node_modules/lodash-es/toInteger.js":(P,o,t)=>{t.r(o),t.d(o,{default:()=>a});var l=t("./node_modules/lodash-es/toNumber.js"),i=1/0,E=17976931348623157e292;function m(s){if(!s)return s===0?s:0;if(s=(0,l.default)(s),s===i||s===-i){var r=s<0?-1:1;return r*E}return s===s?s:0}const n=m;function d(s){var r=n(s),f=r%1;return r===r?f?r-f:r:0}const a=d},"./node_modules/lodash-es/toNumber.js":(P,o,t)=>{t.r(o),t.d(o,{default:()=>y});var l=/\s/;function i(e){for(var u=e.length;u--&&l.test(e.charAt(u)););return u}const E=i;var m=/^\s+/;function n(e){return e&&e.slice(0,E(e)+1).replace(m,"")}const d=n;var a=t("./node_modules/lodash-es/isObject.js"),s=t("./node_modules/lodash-es/isSymbol.js"),r=0/0,f=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,g=/^0o[0-7]+$/i,O=parseInt;function D(e){if(typeof e=="number")return e;if((0,s.default)(e))return r;if((0,a.default)(e)){var u=typeof e.valueOf=="function"?e.valueOf():e;e=(0,a.default)(u)?u+"":u}if(typeof e!="string")return e===0?e:+e;e=d(e);var c=_.test(e);return c||g.test(e)?O(e.slice(2),c?2:8):f.test(e)?r:+e}const y=D}}]);
