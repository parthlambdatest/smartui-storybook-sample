"use strict";(globalThis.webpackChunkfirecracker=globalThis.webpackChunkfirecracker||[]).push([[915],{"./components/DelegatesAwarded/DelegateTable.stories.js":(B,r,e)=>{e.r(r),e.d(r,{Tables:()=>V,__namedExportsOrder:()=>oe,default:()=>ae});var o=e("./node_modules/next/dist/compiled/react/index.js"),g=e("./node_modules/styled-jsx/style.js"),l=e.n(g),b=e("./node_modules/lodash-es/orderBy.js"),m=o.createElement;const v=u=>{const{children:x,className:h}=u;return m("div",{className:`jsx-1367171404 delegates-awarded ${h}`},m(l(),{id:"1367171404"},[".delegates-awarded.jsx-1367171404{width:calc(100vw - 32px);overflow:scroll;}","@media screen and (min-width:426px){.delegates-awarded.jsx-1367171404{width:100%;}}"]),x)};v.displayName="DelegatesAwarded";const i=v;var n=e("./components/hooks/useResizeObserver.js"),p=e("./components/icons/ChevronThinRight.js"),c=o.createElement;const y=u=>{const x=(0,o.useRef)(null),{children:h}=u,{0:d,1:w}=(0,o.useState)(!1),{0:C,1:N}=(0,o.useState)(!1),f=()=>{const O=x.current;if(!O){N(!1);return}const P=O.scrollLeft;P<=0?w(!1):w(!0);const F=O.scrollWidth-O.offsetWidth;P>=F?N(!1):N(!0)},D=()=>{x.current&&(x.current.scrollLeft-=75,f())},S=()=>{x.current&&(x.current.scrollLeft+=75,f())};return(0,o.useEffect)(()=>{f()},[]),(0,n.default)({container:x,onResize:f}),c(o.Fragment,null,c(l(),{id:"2986938281"},[".delegates-awarded-results-column.jsx-2986938281{overflow-x:scroll;padding-bottom:0;padding-right:8px;z-index:0;}",".scroll-container.jsx-2986938281::-webkit-scrollbar{-webkit-appearance:none;height:0;}",".scroll-container.jsx-2986938281::-webkit-scrollbar-thumb{border-radius:8px;background-color:rgba(0,0,0,0.5);-webkit-box-shadow:0 0 1px rgba(255,255,255,0.5);}",".button.jsx-2986938281{top:20px;margin:0;padding:0;background-color:white;border:1px solid black;z-index:1;position:absolute;}",".button.jsx-2986938281:hover{background-color:#ebebeb;}",".left-button.jsx-2986938281{left:-40px;}",".left-button.jsx-2986938281 svg{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);}",".right-button.jsx-2986938281{right:0;}",".fade-out.jsx-2986938281{position:absolute;width:100px;height:100px;right:0;background-image:linear-gradient( to right, rgba(255,255,255,0), rgba(255,255,255,0.75) );}"]),d&&c("div",{className:"jsx-2986938281 relative dn di-m"},c("button",{type:"button",id:"buttonLeft",onClick:()=>D(),className:"jsx-2986938281 left-button button h2 w2 f7 oswald pointer df items-center justify-around gray-100"},c(p.default,null))),c("div",{id:"results-columns",onScroll:()=>f(),ref:x,className:"jsx-2986938281 delegates-awarded-results-column scroll-container w-100"},h),C&&c("div",{className:"jsx-2986938281 relative dn di-m"},c("div",{className:"jsx-2986938281 fade-out"}),c("button",{type:"button",id:"buttonRight",onClick:()=>S(),className:"jsx-2986938281 right-button button h2 w2 f7 oswald pointer df items-center justify-around gray-100"},c(p.default,null))))};var E=e("./node_modules/classnames/index.js"),T=e.n(E),M=e("./components/Checkmark.js"),s=e("./components/Headshot/Headshot.js"),j=e("./helpers/timeUtilities.js"),a=o.createElement;const k=u=>(0,b.default)(u,["totalNumberOfDelegatesAwarded","order"],["desc","asc"]),L=({candidatesToRender:u,electionDayRaceResults:x})=>{const h=k(u);return a("div",{className:"jsx-1413789133 delegates-awarded-state-results"},a(l(),{id:"1413789133"},[".delegates-awarded-state-results.jsx-1413789133{width:100%;min-width:400px;}",".table.jsx-1413789133{border-collapse:collapse;}",".row.jsx-1413789133{box-sizing:border-box;height:32px;border-top:1px solid #ebebeb;}",".col--numeric.jsx-1413789133{width:75px;}",".table.jsx-1413789133{border-collapse:collapse;}",".tbody.jsx-1413789133{box-sizing:border-box;width:75px;}",".check.jsx-1413789133{position:relative;right:10px;bottom:-38px;width:0px;height:0px;}",".winner-box.jsx-1413789133{height:24px;width:69px;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".results-header.jsx-1413789133{height:128px;}",".header-bottom.jsx-1413789133{border-bottom:1.5px solid #2a2a2a;z-index:1;}",".dropped-out.jsx-1413789133{top:41px;position:absolute;background-color:#ebebeb;color:#2a2a2a;white-space:nowrap;}",".headshot.jsx-1413789133{position:relative;}",".grayscale.jsx-1413789133 img{-webkit-filter:grayscale(1);filter:grayscale(1);}"]),a("table",{className:"jsx-1413789133 table w-100"},a("thead",{className:"jsx-1413789133"},a("tr",{className:"jsx-1413789133 header-bottom"},a("th",{className:"jsx-1413789133 dn"},"Date"),a("th",{className:"jsx-1413789133 dn"},"State"),a("th",{className:"jsx-1413789133 dn"},"Total delegates"),h.map(d=>a("th",{key:`${d.lastName}-headshot`,className:"jsx-1413789133 results-header"},a("div",{className:"jsx-1413789133 "+(T()("headshot df justify-center",{grayscale:d.isDroppedOut})||"")},a(s.default,{alt:`Headshot of ${d.name}`,height:56,width:48,backgroundHeight:48,backgroundWidth:48,candidateColor:d.colorHex,headshotUrl:d.headshotUrl}),d.isWinner&&a("div",{className:"jsx-1413789133 check"},a(M.default,{shouldDisplay:!0,nonpartisanWinner:!0,addMargin:!1,height:"16px",width:"16px"})),d.isDroppedOut&&a("div",{className:"jsx-1413789133 dropped-out ttu oswald fw4 f1"},"DROPPED OUT")),a("div",{className:"jsx-1413789133 headshot-label ws-nowrap f3 oswald fw4 pa1 tc"},d.lastName),a("div",{className:"jsx-1413789133 total-delegates col--numeric tc black oswald f4 fw4 pa1 mh-auto"},d.delegatesAwarded))))),a("tbody",{className:"jsx-1413789133"},x.map(d=>{const{candidateResultsByLastName:w}=d;let N=(0,j.getDate)(d.raceDateString).format("MMM DD");return N=`${N.slice(0,3)} ${N.slice(-2)}`,a("tr",{key:`${d.eventID}-Results`,className:"jsx-1413789133 row"},a("td",{className:"jsx-1413789133 dn"},N),a("td",{className:"jsx-1413789133 dn"},d.stateAbbr),a("td",{className:"jsx-1413789133 dn"},d.availableDelegates),h.map(f=>{const D=w[f.lastName]||{},{isWinner:S,delegatesAwarded:O}=D;return a("td",{key:`${f.lastName}-delegates`,className:"jsx-1413789133 col col--numeric oswald f3 fw4 tc black"},S?a("div",{style:{backgroundColor:`${f.colorHex}4C`},className:"jsx-1413789133 winner-box"},O):O)}))}))))};L.displayName="DelegatesAwardedStateResults";const U=L;var z=e("./components/TextByBreakpoint.js"),I=e("./helpers/stateNameUtilities.js"),t=o.createElement;const R={NAME:"name",DATE:"date"},_={[R.NAME]:u=>(0,I.getStateNameByStateAbbreviation)(u.stateAbbr),[R.DATE]:u=>u.raceDateString},q=(u,x,h)=>(0,b.default)(x,[_[u]],[h?"asc":"desc"]),H=({candidates:u,raceResults:x})=>{const{0:h,1:d}=(0,o.useState)(!0),{0:w,1:C}=(0,o.useState)(R.DATE),N=D=>{d(w===D?!h:!0),C(D)},f=q(w,x,h);return t("div",{"data-update":"true",className:"jsx-98348028 adjust-size"},t(l(),{id:"98348028"},[".adjust-size.jsx-98348028{width:100%;}",".row.jsx-98348028 td{height:32px;}",".data-row.jsx-98348028{height:32px;}",".table.jsx-98348028{border-collapse:collapse;aria-hidden:true;}",".col--numeric.jsx-98348028{width:75px;padding-bottom:2px;}",".col--numeric-top.jsx-98348028{vertical-align:bottom;padding-bottom:12px;}",".col--numeric-m.jsx-98348028{white-space:nowrap;overflow:hidden;vertical-align:bottom;}",".col--date.jsx-98348028{white-space:nowrap;width:75px;}",".col--date-top.jsx-98348028{vertical-align:bottom;white-space:nowrap;padding:0px 8px 12px 8px;}",".col--state.jsx-98348028{white-space:nowrap;overflow:hidden;min-width:43px;}","@media screen and (max-width:47.375em){.col--state.jsx-98348028{text-align:center;}}",".col--state-top.jsx-98348028{vertical-align:bottom;white-space:nowrap;min-width:43px;padding:0px 8px 12px 8px;}",".box-overline.jsx-98348028{border-top:1px solid #ebebeb;}",".header-bottom.jsx-98348028{border-bottom:1.5px solid #2a2a2a;z-index:1;}",".top-row.jsx-98348028{width:100%;height:128px;-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;}",".sort-button.jsx-98348028{background:none;border:none;padding:0px 1px 0px 0px;}",".sort-button.jsx-98348028:hover{opacity:70%;}",".sort-triangle.jsx-98348028{display:inline-block;font-size:0.3rem;}",".line-height-local.jsx-98348028{line-height:1.15;}",".col-header.jsx-98348028{text-align:left;}",".conditional_no_ul.jsx-98348028{padding-bottom:2px;}"]),t(i,{className:"df"},t("div",{id:"label-columns",className:"jsx-98348028"},t("table",{className:"jsx-98348028 table"},t("thead",{className:"jsx-98348028"},t("tr",{className:"jsx-98348028 top-row header-bottom"},t("th",{className:"jsx-98348028 col col--date-top"},t("div",{className:"jsx-98348028 col-header"},t("button",{type:"button",onClick:()=>N(R.DATE),className:"jsx-98348028 sort-button oswald f3 fw4 tl underline pointer black"},"Date"),t("div",{className:"jsx-98348028 sort-triangle"},t("div",{className:"jsx-98348028 "+((w===R.DATE&&h?"black":"gray-40")||"")},"\u25B2"),t("div",{className:"jsx-98348028 "+((w===R.DATE&&!h?"black":"gray-40")||"")},"\u25BC")))),t("th",{className:"jsx-98348028 col col--state-top"},t("div",{className:"jsx-98348028 col-header"},t("button",{type:"button",onClick:()=>N(R.NAME),className:"jsx-98348028 sort-button oswald f3 fw4 tl underline pointer black"},"State"),t("div",{className:"jsx-98348028 sort-triangle"},t("div",{className:"jsx-98348028 "+((w===R.NAME&&h?"black":"gray-40")||"")},"\u25B2"),t("div",{className:"jsx-98348028 "+((w===R.NAME&&!h?"black":"gray-40")||"")},"\u25BC")))),t("th",{className:"jsx-98348028 col oswald ph2 col--numeric-top line-height-local"},t("div",{className:"jsx-98348028 f3 fw4 tc line-height-local conditional_no_ul"},t("div",{className:"jsx-98348028 line-height-local di-m dn col--numeric"},"Total delegates"),t("div",{className:"jsx-98348028 di dn-m col--numeric col--numeric-m"},"Total del."))))),t("tbody",{className:"jsx-98348028"},f.map((D,S)=>{const{raceDateString:O,stateAbbr:P,availableDelegates:F,linkToStateSubPage:Z}=D,Q=(0,I.getStateNameByStateAbbreviation)(P);let W=(0,j.getDate)(O).format("MMM DD");W=`${W.slice(0,3)} ${W.slice(-2)}`;let K=!0;return f[S-1]!==void 0&&f[S-1].raceDateString===D.raceDateString&&(K=!1),t("tr",{key:D.eventID,className:"jsx-98348028 row data-row"},t("td",{className:`jsx-98348028 col col--date oswald ph2 f3 fw3 ttu ${K&&"box-overline"}`},K&&W),t("td",{className:"jsx-98348028 col col--state oswald box-overline ph2 f3 fw3"},Z&&t("a",{href:D.linkToStateSubPage,"data-icid":"delegate_tracker",className:"jsx-98348028 di tc black"},t(z.default,{className:"underline",s:`${P} >`,m:`${Q} >`})),!Z&&t(o.Fragment,null,t("div",{className:"jsx-98348028 di-m dn"}," ",Q),t("div",{className:"jsx-98348028 di dn-m tc"}," ",P))),t("td",{className:"jsx-98348028 col col--numeric oswald box-overline f3 fw3 tc"},F))})))),t(y,null,t(U,{candidatesToRender:u,electionDayRaceResults:f,winningCandidateColor:"#0471E6"}))))};H.displayName="DelegateTable";const X=H;var ee=e("./server/tests/elections2024/mocks/season_delegates/zero.json"),te=e("./server/tests/elections2024/mocks/season_delegates/during.json"),se=e("./server/tests/elections2024/mocks/season_delegates/nominee.json"),G=e("./server/v2/format/formatDelegates.js"),Y=e("./helpers/constants.js"),$=o.createElement;const J={zero:ee,during:te,nominee:se},ae={component:X,title:"Features/Delegate Tracker/Tables",args:{dataset:"during",incumbentName:"Joe Biden",droppedOutNames:["Mike Pence","Larry Elder","Perry Johnson","Will Hurd","Francis Suarez"],party:Y.DELEGATE_PARTY.REP,maxCandidates:-1},argTypes:{dataset:{control:{type:"select"},options:Object.keys(J)},party:{control:{type:"select"},options:Object.values(Y.DELEGATE_PARTY)},maxCandidates:{control:"number",description:"When 0, show all candidates"}}},V=({dataset:u,incumbentName:x,droppedOutNames:h,maxCandidates:d,party:w})=>{const C=J[u],N=(0,G.formatNationalDelegateRace)({delegates:C,electionSeason:"2024",party:w,incumbentName:x,droppedOutNames:u==="zero"?[]:h}),f=(0,G.formatStateDelegateRace)({delegates:C.state_level_data,electionSeason:"2024",party:w,incumbentName:x,droppedOutNames:h}),D=d>0?N.candidates.slice(0,d):N.candidates;return $("div",{className:"table-width"},$("style",null,`
      .table-width {
        width: 100%;
      }
      `),$(X,{candidates:D,raceResults:f.races}))};V.displayName="Tables";const oe=["Tables"]},"./components/TextByBreakpoint.js":(B,r,e)=>{e.r(r),e.d(r,{default:()=>p});var o=e("./node_modules/next/dist/compiled/react/index.js"),g=e("./node_modules/prop-types/index.js"),l=e.n(g),b=e("./node_modules/classnames/index.js"),m=e.n(b),v=e("./node_modules/react-i18next/dist/es/index.js"),i=o.createElement;const n=({t:c,s:A,m:y,l:E,xl:T,wrappingElement:M,displayType:s,className:j})=>{if(!A&&!y&&!E&&!T)return null;const a=M,k=s!=="dib"?"dib":s,L=m()({[s]:A,"dn-m":y,"dn-l":E,"dn-xl":T},j),U=m()({dn:A,[`${k}-m`]:y,"dn-l":E,"dn-xl":T},j),z=m()({dn:A,"dn-m":y,[`${k}-l`]:E,"dn-xl":T},j),I=m()({dn:A,"dn-m":y,"dn-l":E,[`${k}-xl`]:T},j);return i(o.Fragment,null,A&&i(a,{"data-testid":"text--s",className:L},c(A)),y&&i(a,{"data-testid":"text--m",className:U},c(y)),E&&i(a,{"data-testid":"text--l",className:z},c(E)),T&&i(a,{"data-testid":"text--xl",className:I},c(T)))};n.propTypes={className:l().string,s:l().string,m:l().string,l:l().string,xl:l().string,wrappingElement:l().string,displayType:l().oneOf(["dib","di","db","df"])},n.defaultProps={className:null,s:"",m:"",l:"",xl:"",wrappingElement:"span",displayType:"dib"};const p=(0,v.withTranslation)()(n)},"./components/hooks/useResizeObserver.js":(B,r,e)=>{e.r(r),e.d(r,{default:()=>g});var o=e("./node_modules/next/dist/compiled/react/index.js");function g({container:l,onResize:b}){(0,o.useEffect)(()=>{if(!l.current)return;const m=new ResizeObserver(b);return m.observe(l.current),()=>{m.disconnect()}},[b])}},"./components/icons/ChevronThinRight.js":(B,r,e)=>{e.r(r),e.d(r,{default:()=>b});var o=e("./node_modules/next/dist/compiled/react/index.js"),g=o.createElement;const l=({className:m})=>g("svg",{className:`chevron-thin-right ${m}`,width:"6",height:"10",viewBox:"0 0 13 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M9.85519 10.8005L0.571793 1.70003L2.00001 0.299957L12.7116 10.8005L2.00001 21.301L0.571794 19.901L9.85519 10.8005Z"}));l.displayName="ChevronThinRight";const b=l},"./node_modules/lodash-es/orderBy.js":(B,r,e)=>{e.r(r),e.d(r,{default:()=>b});var o=e("./node_modules/lodash-es/_baseOrderBy.js"),g=e("./node_modules/lodash-es/isArray.js");function l(m,v,i,n){return m==null?[]:((0,g.default)(v)||(v=v==null?[]:[v]),i=n?void 0:i,(0,g.default)(i)||(i=i==null?[]:[i]),(0,o.default)(m,v,i))}const b=l},"./node_modules/lodash-es/toInteger.js":(B,r,e)=>{e.r(r),e.d(r,{default:()=>i});var o=e("./node_modules/lodash-es/toNumber.js"),g=1/0,l=17976931348623157e292;function b(n){if(!n)return n===0?n:0;if(n=(0,o.default)(n),n===g||n===-g){var p=n<0?-1:1;return p*l}return n===n?n:0}const m=b;function v(n){var p=m(n),c=p%1;return p===p?c?p-c:p:0}const i=v},"./node_modules/lodash-es/toNumber.js":(B,r,e)=>{e.r(r),e.d(r,{default:()=>M});var o=/\s/;function g(s){for(var j=s.length;j--&&o.test(s.charAt(j)););return j}const l=g;var b=/^\s+/;function m(s){return s&&s.slice(0,l(s)+1).replace(b,"")}const v=m;var i=e("./node_modules/lodash-es/isObject.js"),n=e("./node_modules/lodash-es/isSymbol.js"),p=0/0,c=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,y=/^0o[0-7]+$/i,E=parseInt;function T(s){if(typeof s=="number")return s;if((0,n.default)(s))return p;if((0,i.default)(s)){var j=typeof s.valueOf=="function"?s.valueOf():s;s=(0,i.default)(j)?j+"":j}if(typeof s!="string")return s===0?s:+s;s=v(s);var a=A.test(s);return a||y.test(s)?E(s.slice(2),a?2:8):c.test(s)?p:+s}const M=T}}]);
