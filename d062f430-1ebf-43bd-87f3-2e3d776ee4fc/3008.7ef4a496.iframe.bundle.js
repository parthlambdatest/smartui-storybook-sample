"use strict";(globalThis.webpackChunkfirecracker=globalThis.webpackChunkfirecracker||[]).push([[3008],{"./components/MapKey/constants.js":(N,E,t)=>{t.r(E),t.d(E,{BUTTON_LABELS:()=>C,VIZ_VIEWS:()=>_});const _={DEFAULT:"default",SIZE_OF_LEAD:"size-of-lead",REMAINING_VOTE:"remaining-votes"},C={[_.SIZE_OF_LEAD]:"Size of lead",[_.REMAINING_VOTE]:"Est. Remaining votes"}},"./components/modules/ResultsSummary/CallStrip.js":(N,E,t)=>{t.r(E),t.d(E,{PRESIDENTIAL_CANDIDATE_CALL_STATUS:()=>M,default:()=>V});var _=t("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),C=t("./node_modules/next/dist/compiled/react/index.js"),d=t("./node_modules/classnames/index.js"),R=t.n(d),A=t("./node_modules/prop-types/index.js"),O=t.n(A),D=t("./node_modules/next/amp.js"),b=t.n(D),T=t("./node_modules/react-i18next/dist/es/index.js"),n=t("./helpers/getCallStatus.js"),B=t("./components/Checkmark.js"),g=t("./components/modules/ResultsSummary/utils.js"),G=t("./components/providers/PageContext.js"),W=C.createElement;function K(c,P){var i=Object.keys(c);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(c);P&&(u=u.filter(function(L){return Object.getOwnPropertyDescriptor(c,L).enumerable})),i.push.apply(i,u)}return i}function I(c){for(var P=1;P<arguments.length;P++){var i=arguments[P]!=null?arguments[P]:{};P%2?K(Object(i),!0).forEach(function(u){(0,_.default)(c,u,i[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach(function(u){Object.defineProperty(c,u,Object.getOwnPropertyDescriptor(i,u))})}return c}const M="presidential-candidate-nominated",Y=I(I({},n.callStatusMapping),{},{[M]:"Presumptive Nominee",O:"Advancing to Runoff",M:"Advancing to General Election"}),m=({t:c,allowMultiWinners:P,callStatusCode:i,className:u,pollsCloseFormatted:L,pollsCloseUTC:H,winners:f=[],delegatesNeededToWin:h=null,callStatusMappings:x=null})=>{const{hidePollsClose:U}=(0,C.useContext)(G.default),z=(0,D.useAmp)(),v=(0,g.goesToRunoff)({allowMultiWinners:P,callStatusCode:i}),J=(0,g.useCountdown)({pollsCloseUTC:H});let S=I(I({},Y),x)[i];const j=!v&&f?.length>0,F=!i&&L;if(F&&U||(F?S=z?L:J??L:!j&&h&&(S=`${h} ${c("Needed To Win")}`),!S))return null;const w=R()("status ph2 pv1 f3 df items-center lh-none ttu",u,{"bg-midnight-blue white":!i&&L,"bg-FFD60C":i,"has-delegates-text bg-FFD60C":!j&&h});return W("div",{className:w,"data-testid":"call-strip"},c(S),W(B.default,{nonpartisanWinner:!0,shouldDisplay:j,width:"16px",height:"16px"}))};m.displayName="CallStrip",m.propTypes={allowMultiWinners:O().bool,callStatusCode:O().string,className:O().string,pollsCloseFormatted:O().string,pollsCloseUTC:O().string,winners:O().array,delegatesNeededToWin:O().number,callStatusMappings:O().object};const V=(0,T.withTranslation)()(m)},"./components/modules/ResultsSummary/utils.js":(N,E,t)=>{t.r(E),t.d(E,{COLUMN_HEADER_LABELS:()=>J,COLUMN_HEADER_TYPE:()=>v,COUNTDOWN_THRESHOLD_SECONDS:()=>x,calculateCountdown:()=>U,formatPrimaryWinnerMessage:()=>u,getColumnHeaderId:()=>S,getFirstInitialName:()=>k,getLongestInitials:()=>oe,getLongestName:()=>re,getPartyAbbreviation:()=>ie,getPartyFromElectionTypeCode:()=>j,getPartyInitial:()=>Ee,getRaceCallText:()=>L,getRaceCharacterization:()=>P,getRaceSummaryId:()=>h,getRaceTitleOverride:()=>F,getSkipButtonText:()=>H,getValueForRow:()=>le,goesToRunoff:()=>Y,isMultiWinner:()=>M,isPartisanRace:()=>i,isPresidentialPrimary:()=>m,showDelegateCount:()=>w,showPartyName:()=>ae,useCountdown:()=>z});var _=t("./node_modules/dayjs/plugin/utc.js"),C=t.n(_),d=t("./node_modules/dayjs/plugin/relativeTime.js"),R=t.n(d),A=t("./node_modules/next/dist/compiled/react/index.js"),O=t("./node_modules/lodash-es/kebabCase.js"),D=t("./node_modules/lodash-es/padStart.js"),b=t("./node_modules/lodash-es/orderBy.js"),T=t("./lib/dayjsCustom.js"),n=t("./helpers/constants.js"),B=t("./helpers/pluralize.js"),g=t("./helpers/stateNameUtilities.js"),G=t("./helpers/determineOfficeType.js"),W=t("./server/v2/helpers/geography.js"),K=t("./components/MapKey/constants.js"),I=t("./server/v2/helpers/isNonPartisanRace.js");T.dayJsCustom.extend(R()),T.dayJsCustom.extend(C());function M({allowMultiWinners:e,callStatusCode:s}){return e&&n.RUNOFF_CALL_STATUSES.includes(s)}function Y({allowMultiWinners:e,callStatusCode:s}){return!e&&n.RUNOFF_CALL_STATUSES.includes(s)}function m({officeCode:e,electionTypeCode:s}){return e===n.OFFICE_CODES.PRESIDENT&&n.PRIMARY_ELECTION_TYPE_CODES.includes(s)}const V=[n.CALL_STATUSES.TOO_EARLY_TO_CALL,n.CALL_STATUSES.TOO_CLOSE_TO_CALL],c=({stateAbbr:e,officeCode:s,isRunoff:a})=>`${(0,g.getStateNameByStateAbbreviation)(e)} ${(0,G.default)(s).toLowerCase()}${a?" runoff":""} election`;function P({callStatusCode:e}){if(!V.includes(e))return"";let s;switch(e){case n.CALL_STATUSES.TOO_CLOSE_TO_CALL:s="Too close to call";break;case n.CALL_STATUSES.TOO_EARLY_TO_CALL:s="Too early to call";break;default:s=""}return s.toUpperCase()}function i(e){return n.DEMOCRATIC_ELECTION_TYPES.includes(e)||n.REPUBLICAN_ELECTION_TYPES.includes(e)}function u(e,s,a){const o=[n.ELECTION_TYPE_CODES.DEMOCRATIC_CAUCUS,n.ELECTION_TYPE_CODES.REPUBLICAN_CAUCUS].includes(a)?"caucus":"primary";return`the ${e} ${o}${s?" special":""}`}function L({allowMultiWinners:e,winningCandidates:s,callStatusCode:a,stateAbbr:o,electionTypeCode:r,officeCode:l}){const p=Y({allowMultiWinners:e,callStatusCode:a}),y=M({allowMultiWinners:e,callStatusCode:a}),_e=n.RUNOFF_ELECTION_TYPE_CODES.includes(r),q=n.WINNING_CALL_STATUSES.includes(a)&&e&&s.length,ee=!s.length||!n.WINNING_CALL_STATUSES.includes(a)&&!y&&!p;if(i(r)&&ee)return"";if(ee)return P({callStatusCode:a});const te=n.PRIMARY_ELECTION_TYPE_CODES.includes(r),se=n.SPECIAL_ELECTION_TYPE_CODES.includes(r),ue=y||p?`${(0,B.default)("is",s.length)} advancing`:(0,B.default)("wins",s.length),ce=(0,g.getStateNameByStateAbbreviation)(o);let $="";y||p?$=y?`to the ${se?"special":"general"} election`:"to the runoff":te&&!q?$=u(ce,se,r):$=`the ${c({stateAbbr:o,officeCode:l,isRunoff:_e})}`;const de=s.map(Z=>Z.name.toUpperCase()),ne=`${new Intl.ListFormat("en",{style:"long",type:"conjunction"}).format(de)} ${ue} ${$}`,Oe=te&&!y&&!q;return s.length>1||!Oe?ne:ne.toUpperCase()}function H({electionTypeCode:e,officeCode:s,geography:a}){const o=(0,W.getSingularReportingType)(a);let r="";const l=m({electionTypeCode:e,officeCode:s});return n.DEMOCRATIC_ELECTION_TYPES.includes(e)?r=l?"REPUBLICANS":"DEM ":n.REPUBLICAN_ELECTION_TYPES.includes(e)&&(r=l?"DEMOCRATS":"GOP "),l?`Skip to ${r||"results"}`:`Skip to ${r}${o} results`}const f={REP:"republican-primary",DEM:"democratic-primary"},h=({electionTypeCode:e,officeCode:s,raceName:a,invertParty:o=!1})=>{let r=a;const l=o&&m({electionTypeCode:e,officeCode:s});return n.DEMOCRATIC_ELECTION_TYPES.includes(e)?r=l?f.REP:f.DEM:n.REPUBLICAN_ELECTION_TYPES.includes(e)&&(r=l?f.DEM:f.REP),(0,O.default)(r)},x=3600;function U({pollsCloseTime:e}){const s=T.dayJsCustom.utc(e),a=(0,T.dayJsCustom)(s).diff((0,T.dayJsCustom)(),"s");if(a>=x)return null;if(a<=0)return"";const o=parseInt(a/60%60,10),r=parseInt(a%60,10);return`Polls close in ${(0,D.default)(o,2,"0")}:${(0,D.default)(r,2,"0")}`}function z({pollsCloseUTC:e}){const s=(0,A.useMemo)(()=>T.dayJsCustom.utc(e),[e]),{0:a,1:o}=(0,A.useState)(U({pollsCloseTime:s}));return(0,A.useEffect)(()=>{const r=setInterval(()=>{const l=U({pollsCloseTime:s});o(l),l===""&&clearInterval(r)},1e3);return()=>{clearInterval(r)}},[s]),a}const v={AREA:"area",CANDIDATE:"candidate",DELEGATES:"delegates",VOTES:"votes",PERCENTAGE:"percentage"},J={VOTE_LEAD:"Vote lead",PCT_LEAD:"Margin",REMAINING_VOTE:"Estimated remaining votes"};function S({id:e,type:s}){return`${e}-column-${s}`}function j(e){return n.DEMOCRATIC_ELECTION_TYPES.includes(e)?"Democrats":n.REPUBLICAN_ELECTION_TYPES.includes(e)?"Republicans":null}function F({stateAbbr:e,officeCode:s,electionTypeCode:a}){const o=s===n.OFFICE_CODES.PRESIDENT,r=a===n.ELECTION_TYPE_CODES.REPUBLICAN_CAUCUS,l=a===n.ELECTION_TYPE_CODES.REPUBLICAN_PRIMARY,p=["NV","MI"].includes(e);return o&&r&&p?"Republican Caucus":o&&l&&p?"Republican Primary":null}function w({electionTypeCode:e,officeCode:s,stateAbbr:a}){const o=s===n.OFFICE_CODES.PRESIDENT,r=e===n.ELECTION_TYPE_CODES.REPUBLICAN_PRIMARY;return o&&r&&a==="NV"?!1:m({officeCode:s,electionTypeCode:e})}const X=[n.ELECTION_TYPE_CODES.JUNGLE_PRIMARY_SPECIAL,n.ELECTION_TYPE_CODES.JUNGLE_PRIMARY,n.ELECTION_TYPE_CODES.GENERAL_SPECIAL_ELECTION],Q=["none of these candidates","no preference","write-ins","none of above","uncommitted"];function ae({electionTypeCode:e,officeCode:s,stateAbbr:a,name:o}){return X.includes(e)&&!(0,I.default)({officeCode:s,stateAbbr:a})&&!Q.includes(o.toLowerCase())}function k(e){return!e.firstName||Q.includes(e.name.toLowerCase())?e.lastName:`${e.firstName[0]}. ${e.lastName}`}function re(e){return(0,b.default)(e,[s=>s.name.length],["desc"])[0]?.name??""}function oe(e){return(0,b.default)(e.map(s=>k(s)),[s=>s.length],["desc"])[0]??""}function ie(e){if(!e)return"IND";switch(e.toLowerCase()){case"gop":case"rep":return"GOP";case"dem":return"DEM";default:return"IND"}}function Ee(e){switch(e?.toLowerCase()){case"gop":case"rep":return"R";case"dem":return"D";default:return"I"}}const le=({percentVote:e,votes:s,leadByVotes:a,leadByPercent:o,valueType:r,view:l})=>{switch(l){case K.VIZ_VIEWS.SIZE_OF_LEAD:return r===v.PERCENTAGE?o:a;default:return r===v.PERCENTAGE?e:s}}},"./components/providers/PageContext.js":(N,E,t)=>{t.r(E),t.d(E,{default:()=>d});var _=t("./node_modules/next/dist/compiled/react/index.js");const d=(0,_.createContext)({url:"",datePublished:"",electionSeason:"",electionType:"",hidePollsClose:!1})},"./helpers/pluralize.js":(N,E,t)=>{t.r(E),t.d(E,{SINGULAR_TO_PLURAL:()=>_,default:()=>C});const _={seat:"seats",race:"races",is:"are",wins:"win",advances:"advance",day:"days",delegate:"delegates",primary:"primaries",candidate:"candidates",republican:"republicans",democrat:"democrats",municipality:"municipalities","legislative district":"legislative districts","congressional district":"congressional districts",township:"townships",district:"districts",ward:"wards",county:"counties",superdelegate:"superdelegates",vote:"votes"};function C(d,R){return R===1?d:_[d]??d}},"./server/v2/helpers/isNonPartisanRace.js":(N,E,t)=>{t.r(E),t.d(E,{default:()=>A});var _=t("./node_modules/lodash.get/index.js"),C=t.n(_),d=t("./helpers/constants.js");const R={[d.OFFICE_CODES.MAYOR]:["LC","CH"],[d.OFFICE_CODES.SUPREME_COURT]:["WI"]};function A({officeCode:O,stateAbbr:D}){return C()(R,[O],[]).includes(D)}}}]);
