"use strict";(globalThis.webpackChunkfirecracker=globalThis.webpackChunkfirecracker||[]).push([[9974],{"./components/LiveBlog/LiveBlogMobile.stories.js":(Z,L,t)=>{t.r(L),t.d(L,{Mobile:()=>M,MobileEventEnded:()=>K,__namedExportsOrder:()=>J,default:()=>$});var E=t("./node_modules/@babel/runtime/helpers/esm/extends.js"),S=t("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),w=t("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),T=t("./node_modules/styled-jsx/style.js"),h=t.n(T),m=t("./node_modules/next/dist/compiled/react/index.js"),R=t("./node_modules/classnames/index.js"),j=t.n(R),z=t("./node_modules/prop-types/index.js"),O=t.n(z),A=t("./node_modules/react-i18next/dist/es/index.js"),k=t("./components/props/bento.propsShape.js"),I=t("./components/LiveBlog/LiveBlogHeader.js"),D=t("./components/LiveBlog/LiveBlogCard.js"),F=t("./node_modules/lodash.debounce/index.js"),C=t.n(F);const P=311;function G(l){const{0:e,1:n}=(0,m.useState)(0);return(0,m.useEffect)(()=>{if(!l.current)return;const s=a=>{const i=a?.[0]?.contentRect?.width;if(!i)return;const c=Math.floor(i/P);n(c)},g=C()(s,100),r=new ResizeObserver(g);return r.observe(l.current),()=>{r.disconnect()}},[]),e}function V({container:l,cardsPerPage:e,pages:n}){const{0:s,1:g}=(0,m.useState)(1);return(0,m.useEffect)(()=>{const r=l.current;if(!r)return;const a=c=>{const u=P*e,y=Math.ceil((c.target.scrollLeft-7)/u);if(c.target.scrollLeft+c.target.offsetWidth===c.target.scrollWidth){g(n);return}g(y||1)};a({target:r});const i=C()(a,50);return r.addEventListener("scroll",i),()=>{r.removeEventListener("scroll",i)}},[e,n]),s}var W=t("./lib/getIcidString.js"),H=t("./components/CTALinkChevronRight.js"),d=m.createElement;function b({className:l,liveBlog:e,maxCards:n,liveBlogTitle:s}){const g=e?.flag==="LIVE COVERAGE",r=n?e?.cards?.slice(0,n):e?.cards,a=r?.length,i=(0,m.useRef)(null),c=G(i),u=a&&c?Math.ceil(a/c):0,y=V({container:i,cardsPerPage:c,pages:u}),{t:Q}=(0,A.useTranslation)();if(!e?.cards?.length)return null;const{url:{primary:X}}=e,Y=v=>()=>{const o=v*c,f=i.current?.querySelector(`[data-index="${o}"]`);f&&i.current.scrollTo({left:f.offsetLeft,behavior:"smooth"})};return d(m.Fragment,null,d(h(),{id:"1454389032"},[".lbm-page{background:none;padding:3px;}",".lbm-container{margin-inline:-20px;}",".lbm-cards{-webkit-scroll-snap-type:x mandatory;-moz-scroll-snap-type:x mandatory;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;margin-top:10px;position:relative;}",".lbm-cards::-webkit-scrollbar{display:none;}",".lbm-card{-webkit-flex:0 0 311px;-ms-flex:0 0 311px;flex:0 0 311px;-webkit-scroll-snap-align:center;-moz-scroll-snap-align:center;-ms-scroll-snap-align:center;scroll-snap-align:center;-webkit-scroll-margin:8px;-moz-scroll-margin:8px;-ms-scroll-margin:8px;scroll-margin:8px;position:relative;}",".lbm-card:first-child{-webkit-scroll-margin:20px;-moz-scroll-margin:20px;-ms-scroll-margin:20px;scroll-margin:20px;-webkit-scroll-snap-align:start;-moz-scroll-snap-align:start;-ms-scroll-snap-align:start;scroll-snap-align:start;}",".lbm-card:last-child{-webkit-scroll-margin:20px;-moz-scroll-margin:20px;-ms-scroll-margin:20px;scroll-margin:20px;-webkit-scroll-snap-align:end;-moz-scroll-snap-align:end;-ms-scroll-snap-align:end;scroll-snap-align:end;}",".lbm-card::before{content:'';display:block;width:calc(100% + 24px);height:1px;background:#ccc;position:absolute;top:15px;left:0;}",".lbm-card:first-child::before{left:16px;}",".lbm-card:last-child::before{background:linear-gradient( 90deg, rgba(204,204,204,1) 0%, rgba(204,204,204,0) 100% );width:100%;}",".lbm-card:first-child:last-child::before{display:none;}",".lbm-card .lb-card-avatar{margin-left:12px;margin-bottom:2px;}",".lbm-pip{width:9px;height:9px;}",".lbm-pagination{min-height:15px;margin-top:10px;}",".lbm-pip-inactive{border:1px solid #ccc;}",".lbm-header .lb-title{margin-bottom:0;}",".lbm-live-blog-button{margin-top:10px;}",".lbm-live-blog-button a{margin-top:0;}","@media screen and (min-width:758px){.lbm-container{margin-inline:-30px;}}"]),d("div",{"data-testid":"liveblog-mobile","data-icid":W.STRING_LIVEBLOG_TRACKER,className:"jsx-1454389032 "+(j()("lbm-container mobile relative mv8 -mh6 pb3 bg-gray-20 pt2",l)||"")},d(I.default,{id:"mobile-live-blog",isLive:g,liveBlogTitle:s,timestamp:r[0]?.date?.publishedAt,className:"ml5 lbm-header"}),d("ul",{ref:i,className:"jsx-1454389032 lbm-cards df overflow-x-auto w-100 mb0 pl0 lst-none"},r.map((v,o)=>d(D.default,{key:`lbm-${v.id}`,card:v,index:o,className:j()("lbm-card",{ml5:a>1&&o===0,ml3:o!==0,mr5:a>1&&o===a-1,"mh-auto":a===1}),alignContent:"start"}))),u>1&&d("div",{className:"jsx-1454389032 lbm-pagination df items-center justify-center"},Array(u).fill(null).map((v,o)=>{const f=o+1===y;return d("button",{"aria-label":`Go to page ${o}`,"aria-selected":f,key:o,role:"tab",type:"button",onClick:Y(o),className:"jsx-1454389032 lbm-page m0 df b-none pointer items-center justify-center"},d("div",{"data-index":o,className:"jsx-1454389032 "+(j()("lbm-pip br-100",f?"bg-clear-blue":"lbm-pip-inactive")||"")}))})),d(H.default,{url:X,className:"lbm-live-blog-button db tc f3 fw4 oswald blue-40",textClassName:"ttu"},Q("MORE POSTS"))))}b.propTypes={className:O().string,liveBlog:k.BentoLiveBlog,maxCards:O().number},b.defaultProps={className:null,liveBlog:null,maxCards:10};var B=t("./components/LiveBlog/mock.json");const U=["isLive"];var p=m.createElement;function N(l,e){var n=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);e&&(s=s.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),n.push.apply(n,s)}return n}function x(l){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N(Object(n),!0).forEach(function(s){(0,S.default)(l,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(s){Object.defineProperty(l,s,Object.getOwnPropertyDescriptor(n,s))})}return l}const $={component:b,title:"Features/Curations/Live Blog/Mobile",args:{maxCards:4},parameters:{controls:{exclude:["liveBlog"]}}},M=l=>{let{isLive:e}=l,n=(0,w.default)(l,U);const s=x(x({},B),{},{flag:e?"LIVE COVERAGE":""});return p(m.Fragment,null,p(h(),{id:"954818601"},[".live-blog.jsx-954818601{margin:0 30px;}"]),p("p",{className:"jsx-954818601"},"Note: Use your browser's mobile view to enable touch manipulation."),p("div",{className:"jsx-954818601 live-blog"},p(b,(0,E.default)({liveBlog:s},n))))};M.args={isLive:!0};const K=l=>{const e=x(x({},B),{},{flag:""});return p(m.Fragment,null,p(h(),{id:"954818601"},[".live-blog.jsx-954818601{margin:0 30px;}"]),p("p",{className:"jsx-954818601"},"Note: Use your browser's mobile view to enable touch manipulation."),p("div",{className:"jsx-954818601 live-blog"},p(b,(0,E.default)({liveBlog:e},l))))},J=["Mobile","MobileEventEnded"]}}]);
