(globalThis.webpackChunkfirecracker=globalThis.webpackChunkfirecracker||[]).push([[4038],{"./node_modules/@nbcnews/analytics-framework/dist/analytics-framework.min.js":(Ft,ct,K)=>{"use strict";K.r(ct),K.d(ct,{$tInit:()=>W,stub:()=>ft});function q($){return $&&$.Math===Math&&$}function V(){return q(typeof window=="object"&&window)||q(typeof self=="object"&&self)||q(typeof K.g=="object"&&K.g)||function(){return this}()||Function("return this")()}const ft=function(){const $=V();return $.$t===void 0&&Object.defineProperty($,"$t",{value:function(){const j=function it(...Z){const U=Z,w="getSaves";return U.length>=1&&w!==U[0]&&it.storedCommands.push(U),w===U[0]?it.storedCommands:""};return j.storedCommands=[],j.stub="2.0",j}(),configurable:!0,enumerable:!0,writable:!0}),$.$t}(),W=function($={remoteEnabled:!1,trustedDomains:[]}){const j=V(),it=j.document;var Z=function(){var h=function(s){return typeof h[s]=="function"?h[s].apply(h,Array.prototype.slice.call(arguments,1)):arguments.length>0?h.get.apply(h,arguments):h.list.apply(h,arguments)},P=function(s,a){h.errorLog.push(s),(!a||h.debug>=1)&&c("$t error - "+s)},c=j.console?function(){j.console.log.apply(j.console,arguments)}:function(){},k=function(s,a){for(var d in s=s||{},a)typeof a[d]=="object"?s[d]=k(s[d],a[d]):s[d]=a[d];return s},S=function(s,a){var d=!1;return/^[^a-zA-Z_$]|[^0-9a-zA-Z_$]/.test(s)&&(d="validation: "+s+" is not a valid variable name"),a||h.eventLog[s]===void 0||(d="validation: "+s+" is already registered"),!d||(P(d),!1)},b={exp:36e5,key:"ts_data.",save:function(s,a,d){var O=new Date().getTime(),F={eventData:a,timestamp:O};O=d?O+d:O+this.exp;var R=/\w+\.\w+$/.exec(j.location.hostname);return this.cookie.set({name:this.key+s,value:JSON.stringify(F),path:"/",expires:new Date(O),domain:R}),a},load:function(s){var a=null;return!!(a=this.cookie.get(this.key+s))&&(a=JSON.parse(a),new Date().getTime()<a.timestamp?a.eventData:void 0)},listEvents:function(){var s,a=[];for(var d in s=this.cookie.keys())isNaN(d)||(d=s[d]),d.indexOf(this.key)!=-1&&a.push(d.split(this.key)[1]);return a},cookie:{get:function(s){var a=it.cookie.split(s+"=");return a.length===2&&decodeURI(a.pop().split(";").shift())},set:function(s){var a=s.name+"="+encodeURI(s.value)+";";s.expires&&(a+="expires="+s.expires.toUTCString()+";"),a+=s.path?"path="+s.path+";":"",a+=s.domain?"domain="+s.domain+";":"",a+=s.secure?"secure;":"",a+=s.httpOnly?"httpOnly;":"",it.cookie=a},keys:function(){var s=[],a=it.cookie;if(a==="")return s;for(var d=a.split("; "),O=d.length;O--;){var F=d[O].split("=");s[O]=F[0]}return s}}},A={listeners:{},trigger:function(s,a,d){if(this.listeners[a]&&this.listeners[a].length>0)for(var O=0;this.listeners[a][O];O++){var F=this.listeners[a][O];try{F.apply(h,[{type:a},d])}catch(R){P("Cant execute callback for: "+a+". "+R.stack)}}},bind:function(s,a,d){this.listeners[a]===void 0&&(this.listeners[a]=[]),this.listeners[a].push(d)}},G=function(s){if(s=s.split("."),j[s[0]]!==void 0){for(var a=j[s[0]],d=1;s.length>d;d++){if(a===null||a[s[d]]===void 0)return P("TRAM convert - undefined - "+s.join().replace(/,/g,"."),!0),!1;a=a[s[d]]}return!function(O){if(typeof O=="object"){for(var F in O)if(O.hasOwnProperty(F))return!1;return!0}return!1}(a)&&a||!1}return P("TRAM convert - missing root obj - "+s[0],!0),!1},E={},_={uniqueKey:"$t_nbc_crossEvent",srcUrl:[j.location.protocol,"//",j.location.host,j.location.pathname].join(""),listen:function(){var s=this.uniqueKey,a=this.srcUrl,d=j.addEventListener?"addEventListener":"attachEvent",O=j[d];O(d=="attachEvent"?"onmessage":"message",function(F){if($.trustedDomains.includes(F.origin)&&typeof F.data=="string"&&F.data.substring(0,s.length)===s){var R=function(mt){try{return JSON.parse(mt)}catch{return null}}(F.data.replace(s,""));R&&R.action&&R.srcUrl!==a&&(R.action[0]!=="track"&&R.action[0]!=="register"||(h.apply(h,R.action),parent!==j&&parent.postMessage(F.data,"*")))}},!1)},send:function(s,a){var d=this.uniqueKey,O={action:s,srcUrl:this.srcUrl};parent.postMessage(d+JSON.stringify(O),a||"*")}},y={};return h.version=function(){const s="3.1.3",a="[VIWEB]{version}-web[/VIWEB]";let d="2.4.1";return isNaN(parseInt(s))||(d=s),isNaN(parseInt(a.replace("-web","")))||(d=a),d}(),h.debug=0,h.errorLog=[],h.eventLog={},h.track=function(s,a,d){if(this.eventLog[s]!==void 0){if(typeof d!="object"&&(d={}),a=a||!0,this.eventLog[s]=a,d.persistent){var O=!1;d.expires&&(O=1e3*d.expires),b.save(s,a,O)}if(s.indexOf("_")!==0&&A.trigger(this,"eventTracked",{eventType:s,eventData:a}),y[s]&&y[s].remote){if(typeof a=="object"&&!a.$t_remote){var F=[j.location.protocol,"//",j.location.host,j.location.pathname].join("");k(a,{$t_remote:F})}_.send(["track",s,a],y[s].targetOrigin)}return A.trigger(this,s,a),(this.debug==1&&s.indexOf("_")!==0||this.debug==2)&&c("*Tracking service: "+s+" triggered"),!0}return P("unable to track: "+s),!1},h.register=function(s,a){typeof a!="object"&&(a={}),a=y[s[R]]=k(y[s[R]]||{},a);for(var d="",O=b.listEvents(),F={},R=0;O[R];R++)F[O[R]]=!0;for(typeof s=="string"&&(s=[s]),R=0;s[R];R++){if(F[s[R]]===!0)return!0;S(s[R],a.allowDuplicate)?(this.eventLog[s[R]]=null,a.remote&&_.send(["register",s[R],a])):d+=s[R]+","}return!d||(P("could not register: "+d),!1)},h.registeredEvents=function(s){s=s||"";var a=!1,d=[];for(var O in s.indexOf("_")===0&&(a=!0,s=s.substr(1)),h.eventLog)O.indexOf(s)==-1||O.indexOf("_")===0&&!a||d.push(O);return d},h.bindTrack=function(s){A.bind(this,"eventTracked",s)},h.on=function(s,a){typeof s=="string"&&(s=[s]);for(var d=0;s[d];d++)A.bind(this,s[d],a)},h.load=function(s,a,d){E[s]===void 0?typeof a=="string"?(E[s]={},E[s].info={ref:a,options:d}):P("TRAM load - object reference must be string"):P("TRAM load - object name taken")},h.get=function(s,a){var d=s.split(".")[0];if(a=a!==void 0?a:"",h.eventLog[d]||E[d]){h.eventLog[d]&&(s="$t."+s,d="$t"),s=s.replace(d,E[d].info.ref);var O=G(s);return O||a}return a},h.list=function(s){if(s)h.eventLog[s]?(c(s+" : event info"),c(h.eventLog[s])):E[s]?window[E[s].info.ref.split(".")[0]]!==void 0?(c(s+" : "+E[s].info.ref),c(G(E[s].info.ref))):c(s+" : "+E[s].info.ref+" : Not present"):c(s+" :  Empty or not defined");else{for(var a in c("%cversion: %s","font-weight:bold;",h.version),c("%cevents:","font-weight:bold;"),h.eventLog)if(a.indexOf("_")!==0||h.debug==2){var d=y[a]&&y[a].remote?"(remote)":"";h.eventLog[a]?c("%c* %s %s fired %O","color:#B80;",a,d,h.eventLog[a]):(d=y[a]&&y[a].remote?"(remote)":"",c("%s %s",a,d))}for(var O in c("%cTRAM objects:","font-weight:bold;"),E)c("%s : %s : %O",O,E[O].info.ref,G(E[O].info.ref));h.errorLog.length>0&&c("%clog: %O","font-weight:bold;",h.errorLog)}},function(){var s=b.listEvents();if(!s)return!1;for(var a=0;s[a];a++){var d=b.load(s[a]);d&&(h.eventLog[s[a]]=d)}}(),h.load("$t","$t.eventLog"),$.remoteEnabled&&_.listen(),h};if(j.$t!==void 0){if(!parseFloat(j.$t.version)>0){var U=j.$t("getSaves");Object.defineProperty(j,"$t",{value:Z(),configurable:!1,enumerable:!0,writable:!0});for(var w=0;U[w];w++)j.$t.apply(j.$t,U[w])}}else Object.defineProperty(j,"$t",{value:Z(),configurable:!1,enumerable:!0,writable:!0});return j.$t}},"./node_modules/@turf/area/dist/es/index.js":(Ft,ct,K)=>{"use strict";K.r(ct),K.d(ct,{default:()=>ft});var q=K("./node_modules/@turf/meta/dist/es/index.js"),V=6378137;function ft(Z){return(0,q.geomReduce)(Z,function(U,w){return U+W(w)},0)}function W(Z){var U=0,w;switch(Z.type){case"Polygon":return $(Z.coordinates);case"MultiPolygon":for(w=0;w<Z.coordinates.length;w++)U+=$(Z.coordinates[w]);return U;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function $(Z){var U=0;if(Z&&Z.length>0){U+=Math.abs(j(Z[0]));for(var w=1;w<Z.length;w++)U-=Math.abs(j(Z[w]))}return U}function j(Z){var U,w,h,P,c,k,S,b=0,A=Z.length;if(A>2){for(S=0;S<A;S++)S===A-2?(P=A-2,c=A-1,k=0):S===A-1?(P=A-1,c=0,k=1):(P=S,c=S+1,k=S+2),U=Z[P],w=Z[c],h=Z[k],b+=(it(h[0])-it(U[0]))*Math.sin(it(w[1]));b=b*V*V/2}return b}function it(Z){return Z*Math.PI/180}},"./node_modules/@turf/helpers/dist/es/index.js":(Ft,ct,K)=>{"use strict";K.r(ct),K.d(ct,{areaFactors:()=>W,bearingToAzimuth:()=>s,convertArea:()=>F,convertLength:()=>O,degreesToRadians:()=>d,earthRadius:()=>q,factors:()=>V,feature:()=>$,featureCollection:()=>c,geometry:()=>j,geometryCollection:()=>A,isNumber:()=>R,isObject:()=>mt,lengthToDegrees:()=>y,lengthToRadians:()=>_,lineString:()=>h,lineStrings:()=>P,multiLineString:()=>k,multiPoint:()=>S,multiPolygon:()=>b,point:()=>it,points:()=>Z,polygon:()=>U,polygons:()=>w,radiansToDegrees:()=>a,radiansToLength:()=>E,round:()=>G,unitsFactors:()=>ft,validateBBox:()=>wt,validateId:()=>St});var q=63710088e-1,V={centimeters:q*100,centimetres:q*100,degrees:q/111325,feet:q*3.28084,inches:q*39.37,kilometers:q/1e3,kilometres:q/1e3,meters:q,metres:q,miles:q/1609.344,millimeters:q*1e3,millimetres:q*1e3,nauticalmiles:q/1852,radians:1,yards:q*1.0936},ft={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/q,yards:1.0936133},W={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function $(D,p,g){g===void 0&&(g={});var C={type:"Feature"};return(g.id===0||g.id)&&(C.id=g.id),g.bbox&&(C.bbox=g.bbox),C.properties=p||{},C.geometry=D,C}function j(D,p,g){switch(g===void 0&&(g={}),D){case"Point":return it(p).geometry;case"LineString":return h(p).geometry;case"Polygon":return U(p).geometry;case"MultiPoint":return S(p).geometry;case"MultiLineString":return k(p).geometry;case"MultiPolygon":return b(p).geometry;default:throw new Error(D+" is invalid")}}function it(D,p,g){if(g===void 0&&(g={}),!D)throw new Error("coordinates is required");if(!Array.isArray(D))throw new Error("coordinates must be an Array");if(D.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(D[0])||!R(D[1]))throw new Error("coordinates must contain numbers");var C={type:"Point",coordinates:D};return $(C,p,g)}function Z(D,p,g){return g===void 0&&(g={}),c(D.map(function(C){return it(C,p)}),g)}function U(D,p,g){g===void 0&&(g={});for(var C=0,ot=D;C<ot.length;C++){var H=ot[C];if(H.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var nt=0;nt<H[H.length-1].length;nt++)if(H[H.length-1][nt]!==H[0][nt])throw new Error("First and last Position are not equivalent.")}var N={type:"Polygon",coordinates:D};return $(N,p,g)}function w(D,p,g){return g===void 0&&(g={}),c(D.map(function(C){return U(C,p)}),g)}function h(D,p,g){if(g===void 0&&(g={}),D.length<2)throw new Error("coordinates must be an array of two or more positions");var C={type:"LineString",coordinates:D};return $(C,p,g)}function P(D,p,g){return g===void 0&&(g={}),c(D.map(function(C){return h(C,p)}),g)}function c(D,p){p===void 0&&(p={});var g={type:"FeatureCollection"};return p.id&&(g.id=p.id),p.bbox&&(g.bbox=p.bbox),g.features=D,g}function k(D,p,g){g===void 0&&(g={});var C={type:"MultiLineString",coordinates:D};return $(C,p,g)}function S(D,p,g){g===void 0&&(g={});var C={type:"MultiPoint",coordinates:D};return $(C,p,g)}function b(D,p,g){g===void 0&&(g={});var C={type:"MultiPolygon",coordinates:D};return $(C,p,g)}function A(D,p,g){g===void 0&&(g={});var C={type:"GeometryCollection",geometries:D};return $(C,p,g)}function G(D,p){if(p===void 0&&(p=0),p&&!(p>=0))throw new Error("precision must be a positive number");var g=Math.pow(10,p||0);return Math.round(D*g)/g}function E(D,p){p===void 0&&(p="kilometers");var g=V[p];if(!g)throw new Error(p+" units is invalid");return D*g}function _(D,p){p===void 0&&(p="kilometers");var g=V[p];if(!g)throw new Error(p+" units is invalid");return D/g}function y(D,p){return a(_(D,p))}function s(D){var p=D%360;return p<0&&(p+=360),p}function a(D){var p=D%(2*Math.PI);return p*180/Math.PI}function d(D){var p=D%360;return p*Math.PI/180}function O(D,p,g){if(p===void 0&&(p="kilometers"),g===void 0&&(g="kilometers"),!(D>=0))throw new Error("length must be a positive number");return E(_(D,p),g)}function F(D,p,g){if(p===void 0&&(p="meters"),g===void 0&&(g="kilometers"),!(D>=0))throw new Error("area must be a positive number");var C=W[p];if(!C)throw new Error("invalid original units");var ot=W[g];if(!ot)throw new Error("invalid final units");return D/C*ot}function R(D){return!isNaN(D)&&D!==null&&!Array.isArray(D)}function mt(D){return!!D&&D.constructor===Object}function wt(D){if(!D)throw new Error("bbox is required");if(!Array.isArray(D))throw new Error("bbox must be an Array");if(D.length!==4&&D.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");D.forEach(function(p){if(!R(p))throw new Error("bbox must only contain numbers")})}function St(D){if(!D)throw new Error("id is required");if(["string","number"].indexOf(typeof D)===-1)throw new Error("id must be a number or a string")}},"./node_modules/@turf/intersect/dist/es/index.js":(Ft,ct,K)=>{"use strict";K.r(ct),K.d(ct,{default:()=>$});var q=K("./node_modules/@turf/helpers/dist/es/index.js"),V=K("./node_modules/@turf/invariant/dist/es/index.js"),ft=K("./node_modules/polygon-clipping/dist/polygon-clipping.umd.js"),W=K.n(ft);function $(j,it,Z){Z===void 0&&(Z={});var U=(0,V.getGeom)(j),w=(0,V.getGeom)(it),h=W().intersection(U.coordinates,w.coordinates);return h.length===0?null:h.length===1?(0,q.polygon)(h[0],Z.properties):(0,q.multiPolygon)(h,Z.properties)}},"./node_modules/@turf/invariant/dist/es/index.js":(Ft,ct,K)=>{"use strict";K.r(ct),K.d(ct,{collectionOf:()=>it,containsNumber:()=>W,featureOf:()=>j,geojsonType:()=>$,getCoord:()=>V,getCoords:()=>ft,getGeom:()=>Z,getType:()=>U});var q=K("./node_modules/@turf/helpers/dist/es/index.js");function V(w){if(!w)throw new Error("coord is required");if(!Array.isArray(w)){if(w.type==="Feature"&&w.geometry!==null&&w.geometry.type==="Point")return w.geometry.coordinates;if(w.type==="Point")return w.coordinates}if(Array.isArray(w)&&w.length>=2&&!Array.isArray(w[0])&&!Array.isArray(w[1]))return w;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ft(w){if(Array.isArray(w))return w;if(w.type==="Feature"){if(w.geometry!==null)return w.geometry.coordinates}else if(w.coordinates)return w.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function W(w){if(w.length>1&&(0,q.isNumber)(w[0])&&(0,q.isNumber)(w[1]))return!0;if(Array.isArray(w[0])&&w[0].length)return W(w[0]);throw new Error("coordinates must only contain numbers")}function $(w,h,P){if(!h||!P)throw new Error("type and name required");if(!w||w.type!==h)throw new Error("Invalid input to "+P+": must be a "+h+", given "+w.type)}function j(w,h,P){if(!w)throw new Error("No feature passed");if(!P)throw new Error(".featureOf() requires a name");if(!w||w.type!=="Feature"||!w.geometry)throw new Error("Invalid input to "+P+", Feature with geometry required");if(!w.geometry||w.geometry.type!==h)throw new Error("Invalid input to "+P+": must be a "+h+", given "+w.geometry.type)}function it(w,h,P){if(!w)throw new Error("No featureCollection passed");if(!P)throw new Error(".collectionOf() requires a name");if(!w||w.type!=="FeatureCollection")throw new Error("Invalid input to "+P+", FeatureCollection required");for(var c=0,k=w.features;c<k.length;c++){var S=k[c];if(!S||S.type!=="Feature"||!S.geometry)throw new Error("Invalid input to "+P+", Feature with geometry required");if(!S.geometry||S.geometry.type!==h)throw new Error("Invalid input to "+P+": must be a "+h+", given "+S.geometry.type)}}function Z(w){return w.type==="Feature"?w.geometry:w}function U(w,h){return w.type==="FeatureCollection"?"FeatureCollection":w.type==="GeometryCollection"?"GeometryCollection":w.type==="Feature"&&w.geometry!==null?w.geometry.type:w.type}},"./node_modules/@turf/meta/dist/es/index.js":(Ft,ct,K)=>{"use strict";K.r(ct),K.d(ct,{coordAll:()=>Z,coordEach:()=>V,coordReduce:()=>ft,featureEach:()=>j,featureReduce:()=>it,findPoint:()=>G,findSegment:()=>A,flattenEach:()=>h,flattenReduce:()=>P,geomEach:()=>U,geomReduce:()=>w,lineEach:()=>S,lineReduce:()=>b,propEach:()=>W,propReduce:()=>$,segmentEach:()=>c,segmentReduce:()=>k});var q=K("./node_modules/@turf/helpers/dist/es/index.js");function V(E,_,y){if(E!==null)for(var s,a,d,O,F,R,mt,wt=0,St=0,D,p=E.type,g=p==="FeatureCollection",C=p==="Feature",ot=g?E.features.length:1,H=0;H<ot;H++){mt=g?E.features[H].geometry:C?E.geometry:E,D=mt?mt.type==="GeometryCollection":!1,F=D?mt.geometries.length:1;for(var nt=0;nt<F;nt++){var N=0,st=0;if(O=D?mt.geometries[nt]:mt,O!==null){R=O.coordinates;var gt=O.type;switch(wt=y&&(gt==="Polygon"||gt==="MultiPolygon")?1:0,gt){case null:break;case"Point":if(_(R,St,H,N,st)===!1)return!1;St++,N++;break;case"LineString":case"MultiPoint":for(s=0;s<R.length;s++){if(_(R[s],St,H,N,st)===!1)return!1;St++,gt==="MultiPoint"&&N++}gt==="LineString"&&N++;break;case"Polygon":case"MultiLineString":for(s=0;s<R.length;s++){for(a=0;a<R[s].length-wt;a++){if(_(R[s][a],St,H,N,st)===!1)return!1;St++}gt==="MultiLineString"&&N++,gt==="Polygon"&&st++}gt==="Polygon"&&N++;break;case"MultiPolygon":for(s=0;s<R.length;s++){for(st=0,a=0;a<R[s].length;a++){for(d=0;d<R[s][a].length-wt;d++){if(_(R[s][a][d],St,H,N,st)===!1)return!1;St++}st++}N++}break;case"GeometryCollection":for(s=0;s<O.geometries.length;s++)if(V(O.geometries[s],_,y)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ft(E,_,y,s){var a=y;return V(E,function(d,O,F,R,mt){O===0&&y===void 0?a=d:a=_(a,d,O,F,R,mt)},s),a}function W(E,_){var y;switch(E.type){case"FeatureCollection":for(y=0;y<E.features.length&&_(E.features[y].properties,y)!==!1;y++);break;case"Feature":_(E.properties,0);break}}function $(E,_,y){var s=y;return W(E,function(a,d){d===0&&y===void 0?s=a:s=_(s,a,d)}),s}function j(E,_){if(E.type==="Feature")_(E,0);else if(E.type==="FeatureCollection")for(var y=0;y<E.features.length&&_(E.features[y],y)!==!1;y++);}function it(E,_,y){var s=y;return j(E,function(a,d){d===0&&y===void 0?s=a:s=_(s,a,d)}),s}function Z(E){var _=[];return V(E,function(y){_.push(y)}),_}function U(E,_){var y,s,a,d,O,F,R,mt,wt,St,D=0,p=E.type==="FeatureCollection",g=E.type==="Feature",C=p?E.features.length:1;for(y=0;y<C;y++){for(F=p?E.features[y].geometry:g?E.geometry:E,mt=p?E.features[y].properties:g?E.properties:{},wt=p?E.features[y].bbox:g?E.bbox:void 0,St=p?E.features[y].id:g?E.id:void 0,R=F?F.type==="GeometryCollection":!1,O=R?F.geometries.length:1,a=0;a<O;a++){if(d=R?F.geometries[a]:F,d===null){if(_(null,D,mt,wt,St)===!1)return!1;continue}switch(d.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(_(d,D,mt,wt,St)===!1)return!1;break}case"GeometryCollection":{for(s=0;s<d.geometries.length;s++)if(_(d.geometries[s],D,mt,wt,St)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function w(E,_,y){var s=y;return U(E,function(a,d,O,F,R){d===0&&y===void 0?s=a:s=_(s,a,d,O,F,R)}),s}function h(E,_){U(E,function(y,s,a,d,O){var F=y===null?null:y.type;switch(F){case null:case"Point":case"LineString":case"Polygon":return _((0,q.feature)(y,a,{bbox:d,id:O}),s,0)===!1?!1:void 0}var R;switch(F){case"MultiPoint":R="Point";break;case"MultiLineString":R="LineString";break;case"MultiPolygon":R="Polygon";break}for(var mt=0;mt<y.coordinates.length;mt++){var wt=y.coordinates[mt],St={type:R,coordinates:wt};if(_((0,q.feature)(St,a),s,mt)===!1)return!1}})}function P(E,_,y){var s=y;return h(E,function(a,d,O){d===0&&O===0&&y===void 0?s=a:s=_(s,a,d,O)}),s}function c(E,_){h(E,function(y,s,a){var d=0;if(y.geometry){var O=y.geometry.type;if(!(O==="Point"||O==="MultiPoint")){var F,R=0,mt=0,wt=0;if(V(y,function(St,D,p,g,C){if(F===void 0||s>R||g>mt||C>wt){F=St,R=s,mt=g,wt=C,d=0;return}var ot=(0,q.lineString)([F,St],y.properties);if(_(ot,s,a,C,d)===!1)return!1;d++,F=St})===!1)return!1}}})}function k(E,_,y){var s=y,a=!1;return c(E,function(d,O,F,R,mt){a===!1&&y===void 0?s=d:s=_(s,d,O,F,R,mt),a=!0}),s}function S(E,_){if(!E)throw new Error("geojson is required");h(E,function(y,s,a){if(y.geometry!==null){var d=y.geometry.type,O=y.geometry.coordinates;switch(d){case"LineString":if(_(y,s,a,0,0)===!1)return!1;break;case"Polygon":for(var F=0;F<O.length;F++)if(_((0,q.lineString)(O[F],y.properties),s,a,F)===!1)return!1;break}}})}function b(E,_,y){var s=y;return S(E,function(a,d,O,F){d===0&&y===void 0?s=a:s=_(s,a,d,O,F)}),s}function A(E,_){if(_=_||{},!(0,q.isObject)(_))throw new Error("options is invalid");var y=_.featureIndex||0,s=_.multiFeatureIndex||0,a=_.geometryIndex||0,d=_.segmentIndex||0,O=_.properties,F;switch(E.type){case"FeatureCollection":y<0&&(y=E.features.length+y),O=O||E.features[y].properties,F=E.features[y].geometry;break;case"Feature":O=O||E.properties,F=E.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":F=E;break;default:throw new Error("geojson is invalid")}if(F===null)return null;var R=F.coordinates;switch(F.type){case"Point":case"MultiPoint":return null;case"LineString":return d<0&&(d=R.length+d-1),(0,q.lineString)([R[d],R[d+1]],O,_);case"Polygon":return a<0&&(a=R.length+a),d<0&&(d=R[a].length+d-1),(0,q.lineString)([R[a][d],R[a][d+1]],O,_);case"MultiLineString":return s<0&&(s=R.length+s),d<0&&(d=R[s].length+d-1),(0,q.lineString)([R[s][d],R[s][d+1]],O,_);case"MultiPolygon":return s<0&&(s=R.length+s),a<0&&(a=R[s].length+a),d<0&&(d=R[s][a].length-d-1),(0,q.lineString)([R[s][a][d],R[s][a][d+1]],O,_)}throw new Error("geojson is invalid")}function G(E,_){if(_=_||{},!(0,q.isObject)(_))throw new Error("options is invalid");var y=_.featureIndex||0,s=_.multiFeatureIndex||0,a=_.geometryIndex||0,d=_.coordIndex||0,O=_.properties,F;switch(E.type){case"FeatureCollection":y<0&&(y=E.features.length+y),O=O||E.features[y].properties,F=E.features[y].geometry;break;case"Feature":O=O||E.properties,F=E.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":F=E;break;default:throw new Error("geojson is invalid")}if(F===null)return null;var R=F.coordinates;switch(F.type){case"Point":return(0,q.point)(R,O,_);case"MultiPoint":return s<0&&(s=R.length+s),(0,q.point)(R[s],O,_);case"LineString":return d<0&&(d=R.length+d),(0,q.point)(R[d],O,_);case"Polygon":return a<0&&(a=R.length+a),d<0&&(d=R[a].length+d),(0,q.point)(R[a][d],O,_);case"MultiLineString":return s<0&&(s=R.length+s),d<0&&(d=R[s].length+d),(0,q.point)(R[s][d],O,_);case"MultiPolygon":return s<0&&(s=R.length+s),a<0&&(a=R[s].length+a),d<0&&(d=R[s][a].length-d),(0,q.point)(R[s][a][d],O,_)}throw new Error("geojson is invalid")}},"./node_modules/d3-geo/src/contains.js":(Ft,ct,K)=>{"use strict";K.r(ct),K.d(ct,{default:()=>P});var q=K("./node_modules/d3-geo/src/polygonContains.js"),V=K("./node_modules/d3-geo/src/distance.js"),ft=K("./node_modules/d3-geo/src/math.js"),W={Feature:function(c,k){return j(c.geometry,k)},FeatureCollection:function(c,k){for(var S=c.features,b=-1,A=S.length;++b<A;)if(j(S[b].geometry,k))return!0;return!1}},$={Sphere:function(){return!0},Point:function(c,k){return it(c.coordinates,k)},MultiPoint:function(c,k){for(var S=c.coordinates,b=-1,A=S.length;++b<A;)if(it(S[b],k))return!0;return!1},LineString:function(c,k){return Z(c.coordinates,k)},MultiLineString:function(c,k){for(var S=c.coordinates,b=-1,A=S.length;++b<A;)if(Z(S[b],k))return!0;return!1},Polygon:function(c,k){return U(c.coordinates,k)},MultiPolygon:function(c,k){for(var S=c.coordinates,b=-1,A=S.length;++b<A;)if(U(S[b],k))return!0;return!1},GeometryCollection:function(c,k){for(var S=c.geometries,b=-1,A=S.length;++b<A;)if(j(S[b],k))return!0;return!1}};function j(c,k){return c&&$.hasOwnProperty(c.type)?$[c.type](c,k):!1}function it(c,k){return(0,V.default)(c,k)===0}function Z(c,k){for(var S,b,A,G=0,E=c.length;G<E;G++){if(b=(0,V.default)(c[G],k),b===0||G>0&&(A=(0,V.default)(c[G],c[G-1]),A>0&&S<=A&&b<=A&&(S+b-A)*(1-Math.pow((S-b)/A,2))<ft.epsilon2*A))return!0;S=b}return!1}function U(c,k){return!!(0,q.default)(c.map(w),h(k))}function w(c){return c=c.map(h),c.pop(),c}function h(c){return[c[0]*ft.radians,c[1]*ft.radians]}function P(c,k){return(c&&W.hasOwnProperty(c.type)?W[c.type]:j)(c,k)}},"./node_modules/d3-geo/src/distance.js":(Ft,ct,K)=>{"use strict";K.r(ct),K.d(ct,{default:()=>W});var q=K("./node_modules/d3-geo/src/length.js"),V=[null,null],ft={type:"LineString",coordinates:V};function W($,j){return V[0]=$,V[1]=j,(0,q.default)(ft)}},"./node_modules/d3-geo/src/length.js":(Ft,ct,K)=>{"use strict";K.r(ct),K.d(ct,{default:()=>k});var q=K("./node_modules/d3-array/src/fsum.js"),V=K("./node_modules/d3-geo/src/math.js"),ft=K("./node_modules/d3-geo/src/noop.js"),W=K("./node_modules/d3-geo/src/stream.js"),$,j,it,Z,U={sphere:ft.default,point:ft.default,lineStart:w,lineEnd:ft.default,polygonStart:ft.default,polygonEnd:ft.default};function w(){U.point=P,U.lineEnd=h}function h(){U.point=U.lineEnd=ft.default}function P(S,b){S*=V.radians,b*=V.radians,j=S,it=(0,V.sin)(b),Z=(0,V.cos)(b),U.point=c}function c(S,b){S*=V.radians,b*=V.radians;var A=(0,V.sin)(b),G=(0,V.cos)(b),E=(0,V.abs)(S-j),_=(0,V.cos)(E),y=(0,V.sin)(E),s=G*y,a=Z*A-it*G*_,d=it*A+Z*G*_;$.add((0,V.atan2)((0,V.sqrt)(s*s+a*a),d)),j=S,it=A,Z=G}function k(S){return $=new q.Adder,(0,W.default)(S,U),+$}},"./node_modules/d3-zoom/src/index.js":(Ft,ct,K)=>{"use strict";K.r(ct),K.d(ct,{ZoomTransform:()=>Zt,zoom:()=>Xn,zoomIdentity:()=>Pe,zoomTransform:()=>Te});var q={value:function(){}};function V(){for(var t=0,i=arguments.length,o={},f;t<i;++t){if(!(f=arguments[t]+"")||f in o||/[\s.]/.test(f))throw new Error("illegal type: "+f);o[f]=[]}return new ft(o)}function ft(t){this._=t}function W(t,i){return t.trim().split(/^|\s+/).map(function(o){var f="",m=o.indexOf(".");if(m>=0&&(f=o.slice(m+1),o=o.slice(0,m)),o&&!i.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:f}})}ft.prototype=V.prototype={constructor:ft,on:function(t,i){var o=this._,f=W(t+"",o),m,L=-1,I=f.length;if(arguments.length<2){for(;++L<I;)if((m=(t=f[L]).type)&&(m=$(o[m],t.name)))return m;return}if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++L<I;)if(m=(t=f[L]).type)o[m]=j(o[m],t.name,i);else if(i==null)for(m in o)o[m]=j(o[m],t.name,null);return this},copy:function(){var t={},i=this._;for(var o in i)t[o]=i[o].slice();return new ft(t)},call:function(t,i){if((m=arguments.length-2)>0)for(var o=new Array(m),f=0,m,L;f<m;++f)o[f]=arguments[f+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(L=this._[t],f=0,m=L.length;f<m;++f)L[f].value.apply(i,o)},apply:function(t,i,o){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var f=this._[t],m=0,L=f.length;m<L;++m)f[m].value.apply(i,o)}};function $(t,i){for(var o=0,f=t.length,m;o<f;++o)if((m=t[o]).name===i)return m.value}function j(t,i,o){for(var f=0,m=t.length;f<m;++f)if(t[f].name===i){t[f]=q,t=t.slice(0,f).concat(t.slice(f+1));break}return o!=null&&t.push({name:i,value:o}),t}const it=V;var Z=K("./node_modules/d3-selection/src/select.js");const U={passive:!1},w={capture:!0,passive:!1};function h(t){t.stopImmediatePropagation()}function P(t){t.preventDefault(),t.stopImmediatePropagation()}function c(t){var i=t.document.documentElement,o=(0,Z.default)(t).on("dragstart.drag",P,w);"onselectstart"in i?o.on("selectstart.drag",P,w):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function k(t,i){var o=t.document.documentElement,f=(0,Z.default)(t).on("dragstart.drag",null);i&&(f.on("click.drag",P,w),setTimeout(function(){f.on("click.drag",null)},0)),"onselectstart"in o?f.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}var S=Math.SQRT2,b=2,A=4,G=1e-12;function E(t){return((t=Math.exp(t))+1/t)/2}function _(t){return((t=Math.exp(t))-1/t)/2}function y(t){return((t=Math.exp(2*t))-1)/(t+1)}function s(t,i){var o=t[0],f=t[1],m=t[2],L=i[0],I=i[1],Q=i[2],J=L-o,Y=I-f,X=J*J+Y*Y,ut,at;if(X<G)at=Math.log(Q/m)/S,ut=function(Ht){return[o+Ht*J,f+Ht*Y,m*Math.exp(S*Ht*at)]};else{var yt=Math.sqrt(X),$t=(Q*Q-m*m+A*X)/(2*m*b*yt),Nt=(Q*Q-m*m-A*X)/(2*Q*b*yt),Kt=Math.log(Math.sqrt($t*$t+1)-$t),bt=Math.log(Math.sqrt(Nt*Nt+1)-Nt);at=(bt-Kt)/S,ut=function(Ht){var ce=Ht*at,me=E(Kt),be=m/(b*yt)*(me*y(S*ce+Kt)-_(Kt));return[o+be*J,f+be*Y,m*me/E(S*ce+Kt)]}}return ut.duration=at*1e3,ut}var a=K("./node_modules/d3-selection/src/pointer.js"),d=K("./node_modules/d3-selection/src/selection/index.js"),O=0,F=0,R=0,mt=1e3,wt,St,D=0,p=0,g=0,C=typeof performance=="object"&&performance.now?performance:Date,ot=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function H(){return p||(ot(nt),p=C.now()+g)}function nt(){p=0}function N(){this._call=this._time=this._next=null}N.prototype=st.prototype={constructor:N,restart:function(t,i,o){if(typeof t!="function")throw new TypeError("callback is not a function");o=(o==null?H():+o)+(i==null?0:+i),!this._next&&St!==this&&(St?St._next=this:wt=this,St=this),this._call=t,this._time=o,Rt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rt())}};function st(t,i,o){var f=new N;return f.restart(t,i,o),f}function gt(){H(),++O;for(var t=wt,i;t;)(i=p-t._time)>=0&&t._call.call(null,i),t=t._next;--O}function et(){p=(D=C.now())+g,O=F=0;try{gt()}finally{O=0,kt(),p=0}}function dt(){var t=C.now(),i=t-D;i>mt&&(g-=i,D=t)}function kt(){for(var t,i=wt,o,f=1/0;i;)i._call?(f>i._time&&(f=i._time),t=i,i=i._next):(o=i._next,i._next=null,i=t?t._next=o:wt=o);St=t,Rt(f)}function Rt(t){if(!O){F&&(F=clearTimeout(F));var i=t-p;i>24?(t<1/0&&(F=setTimeout(et,t-C.now()-g)),R&&(R=clearInterval(R))):(R||(D=C.now(),R=setInterval(dt,mt)),O=1,ot(et))}}function Ct(t,i,o){var f=new N;return i=i==null?0:+i,f.restart(function(m){f.stop(),t(m+i)},i,o),f}var ee=it("start","end","cancel","interrupt"),ne=[],re=0,Lt=1,ie=2,vt=3,Xt=4,we=5,pe=6;function v(t,i,o,f,m,L){var I=t.__transition;if(!I)t.__transition={};else if(o in I)return;u(t,o,{name:i,index:f,group:m,on:ee,tween:ne,time:L.time,delay:L.delay,duration:L.duration,ease:L.ease,timer:null,state:re})}function r(t,i){var o=n(t,i);if(o.state>re)throw new Error("too late; already scheduled");return o}function e(t,i){var o=n(t,i);if(o.state>vt)throw new Error("too late; already running");return o}function n(t,i){var o=t.__transition;if(!o||!(o=o[i]))throw new Error("transition not found");return o}function u(t,i,o){var f=t.__transition,m;f[i]=o,o.timer=st(L,0,o.time);function L(Y){o.state=Lt,o.timer.restart(I,o.delay,o.time),o.delay<=Y&&I(Y-o.delay)}function I(Y){var X,ut,at,yt;if(o.state!==Lt)return J();for(X in f)if(yt=f[X],yt.name===o.name){if(yt.state===vt)return Ct(I);yt.state===Xt?(yt.state=pe,yt.timer.stop(),yt.on.call("interrupt",t,t.__data__,yt.index,yt.group),delete f[X]):+X<i&&(yt.state=pe,yt.timer.stop(),yt.on.call("cancel",t,t.__data__,yt.index,yt.group),delete f[X])}if(Ct(function(){o.state===vt&&(o.state=Xt,o.timer.restart(Q,o.delay,o.time),Q(Y))}),o.state=ie,o.on.call("start",t,t.__data__,o.index,o.group),o.state===ie){for(o.state=vt,m=new Array(at=o.tween.length),X=0,ut=-1;X<at;++X)(yt=o.tween[X].value.call(t,t.__data__,o.index,o.group))&&(m[++ut]=yt);m.length=ut+1}}function Q(Y){for(var X=Y<o.duration?o.ease.call(null,Y/o.duration):(o.timer.restart(J),o.state=we,1),ut=-1,at=m.length;++ut<at;)m[ut].call(t,X);o.state===we&&(o.on.call("end",t,t.__data__,o.index,o.group),J())}function J(){o.state=pe,o.timer.stop(),delete f[i];for(var Y in f)return;delete t.__transition}}function l(t,i){var o=t.__transition,f,m,L=!0,I;if(o){i=i==null?null:i+"";for(I in o){if((f=o[I]).name!==i){L=!1;continue}m=f.state>ie&&f.state<we,f.state=pe,f.timer.stop(),f.on.call(m?"interrupt":"cancel",t,t.__data__,f.index,f.group),delete o[I]}L&&delete t.__transition}}function x(t){return this.each(function(){l(this,t)})}var T=K("./node_modules/d3-interpolate/src/number.js"),z=180/Math.PI,tt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ht(t,i,o,f,m,L){var I,Q,J;return(I=Math.sqrt(t*t+i*i))&&(t/=I,i/=I),(J=t*o+i*f)&&(o-=t*J,f-=i*J),(Q=Math.sqrt(o*o+f*f))&&(o/=Q,f/=Q,J/=Q),t*f<i*o&&(t=-t,i=-i,J=-J,I=-I),{translateX:m,translateY:L,rotate:Math.atan2(i,t)*z,skewX:Math.atan(J)*z,scaleX:I,scaleY:Q}}var pt,_t,Et,It;function Mt(t){return t==="none"?tt:(pt||(pt=document.createElement("DIV"),_t=document.documentElement,Et=document.defaultView),pt.style.transform=t,t=Et.getComputedStyle(_t.appendChild(pt),null).getPropertyValue("transform"),_t.removeChild(pt),t=t.slice(7,-1).split(","),ht(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function Ot(t){return t==null||(It||(It=document.createElementNS("http://www.w3.org/2000/svg","g")),It.setAttribute("transform",t),!(t=It.transform.baseVal.consolidate()))?tt:(t=t.matrix,ht(t.a,t.b,t.c,t.d,t.e,t.f))}function Bt(t,i,o,f){function m(Y){return Y.length?Y.pop()+" ":""}function L(Y,X,ut,at,yt,$t){if(Y!==ut||X!==at){var Nt=yt.push("translate(",null,i,null,o);$t.push({i:Nt-4,x:(0,T.default)(Y,ut)},{i:Nt-2,x:(0,T.default)(X,at)})}else(ut||at)&&yt.push("translate("+ut+i+at+o)}function I(Y,X,ut,at){Y!==X?(Y-X>180?X+=360:X-Y>180&&(Y+=360),at.push({i:ut.push(m(ut)+"rotate(",null,f)-2,x:(0,T.default)(Y,X)})):X&&ut.push(m(ut)+"rotate("+X+f)}function Q(Y,X,ut,at){Y!==X?at.push({i:ut.push(m(ut)+"skewX(",null,f)-2,x:(0,T.default)(Y,X)}):X&&ut.push(m(ut)+"skewX("+X+f)}function J(Y,X,ut,at,yt,$t){if(Y!==ut||X!==at){var Nt=yt.push(m(yt)+"scale(",null,",",null,")");$t.push({i:Nt-4,x:(0,T.default)(Y,ut)},{i:Nt-2,x:(0,T.default)(X,at)})}else(ut!==1||at!==1)&&yt.push(m(yt)+"scale("+ut+","+at+")")}return function(Y,X){var ut=[],at=[];return Y=t(Y),X=t(X),L(Y.translateX,Y.translateY,X.translateX,X.translateY,ut,at),I(Y.rotate,X.rotate,ut,at),Q(Y.skewX,X.skewX,ut,at),J(Y.scaleX,Y.scaleY,X.scaleX,X.scaleY,ut,at),Y=X=null,function(yt){for(var $t=-1,Nt=at.length,Kt;++$t<Nt;)ut[(Kt=at[$t]).i]=Kt.x(yt);return ut.join("")}}}var Gt=Bt(Mt,"px, ","px)","deg)"),Yt=Bt(Ot,", ",")",")"),Dt=K("./node_modules/d3-selection/src/namespace.js");function Wt(t,i){var o,f;return function(){var m=e(this,t),L=m.tween;if(L!==o){f=o=L;for(var I=0,Q=f.length;I<Q;++I)if(f[I].name===i){f=f.slice(),f.splice(I,1);break}}m.tween=f}}function de(t,i,o){var f,m;if(typeof o!="function")throw new Error;return function(){var L=e(this,t),I=L.tween;if(I!==f){m=(f=I).slice();for(var Q={name:i,value:o},J=0,Y=m.length;J<Y;++J)if(m[J].name===i){m[J]=Q;break}J===Y&&m.push(Q)}L.tween=m}}function oe(t,i){var o=this._id;if(t+="",arguments.length<2){for(var f=n(this.node(),o).tween,m=0,L=f.length,I;m<L;++m)if((I=f[m]).name===t)return I.value;return null}return this.each((i==null?Wt:de)(o,t,i))}function jt(t,i,o){var f=t._id;return t.each(function(){var m=e(this,f);(m.value||(m.value={}))[i]=o.apply(this,arguments)}),function(m){return n(m,f).value[i]}}var Vt=K("./node_modules/d3-color/src/color.js"),he=K("./node_modules/d3-interpolate/src/rgb.js"),se=K("./node_modules/d3-interpolate/src/string.js");function ye(t,i){var o;return(typeof i=="number"?T.default:i instanceof Vt.default?he.default:(o=(0,Vt.default)(i))?(i=o,he.default):se.default)(t,i)}function ve(t){return function(){this.removeAttribute(t)}}function ge(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xe(t,i,o){var f,m=o+"",L;return function(){var I=this.getAttribute(t);return I===m?null:I===f?L:L=i(f=I,o)}}function Le(t,i,o){var f,m=o+"",L;return function(){var I=this.getAttributeNS(t.space,t.local);return I===m?null:I===f?L:L=i(f=I,o)}}function Ce(t,i,o){var f,m,L;return function(){var I,Q=o(this),J;return Q==null?void this.removeAttribute(t):(I=this.getAttribute(t),J=Q+"",I===J?null:I===f&&J===m?L:(m=J,L=i(f=I,Q)))}}function ze(t,i,o){var f,m,L;return function(){var I,Q=o(this),J;return Q==null?void this.removeAttributeNS(t.space,t.local):(I=this.getAttributeNS(t.space,t.local),J=Q+"",I===J?null:I===f&&J===m?L:(m=J,L=i(f=I,Q)))}}function Ne(t,i){var o=(0,Dt.default)(t),f=o==="transform"?Yt:ye;return this.attrTween(t,typeof i=="function"?(o.local?ze:Ce)(o,f,jt(this,"attr."+t,i)):i==null?(o.local?ge:ve)(o):(o.local?Le:xe)(o,f,i))}function Fe(t,i){return function(o){this.setAttribute(t,i.call(this,o))}}function De(t,i){return function(o){this.setAttributeNS(t.space,t.local,i.call(this,o))}}function Be(t,i){var o,f;function m(){var L=i.apply(this,arguments);return L!==f&&(o=(f=L)&&De(t,L)),o}return m._value=i,m}function Ge(t,i){var o,f;function m(){var L=i.apply(this,arguments);return L!==f&&(o=(f=L)&&Fe(t,L)),o}return m._value=i,m}function Ue(t,i){var o="attr."+t;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(i==null)return this.tween(o,null);if(typeof i!="function")throw new Error;var f=(0,Dt.default)(t);return this.tween(o,(f.local?Be:Ge)(f,i))}function Xe(t,i){return function(){r(this,t).delay=+i.apply(this,arguments)}}function Ye(t,i){return i=+i,function(){r(this,t).delay=i}}function Ve(t){var i=this._id;return arguments.length?this.each((typeof t=="function"?Xe:Ye)(i,t)):n(this.node(),i).delay}function $e(t,i){return function(){e(this,t).duration=+i.apply(this,arguments)}}function Ke(t,i){return i=+i,function(){e(this,t).duration=i}}function We(t){var i=this._id;return arguments.length?this.each((typeof t=="function"?$e:Ke)(i,t)):n(this.node(),i).duration}function je(t,i){if(typeof i!="function")throw new Error;return function(){e(this,t).ease=i}}function Qe(t){var i=this._id;return arguments.length?this.each(je(i,t)):n(this.node(),i).ease}function qe(t,i){return function(){var o=i.apply(this,arguments);if(typeof o!="function")throw new Error;e(this,t).ease=o}}function Je(t){if(typeof t!="function")throw new Error;return this.each(qe(this._id,t))}var Ze=K("./node_modules/d3-selection/src/matcher.js");function He(t){typeof t!="function"&&(t=(0,Ze.default)(t));for(var i=this._groups,o=i.length,f=new Array(o),m=0;m<o;++m)for(var L=i[m],I=L.length,Q=f[m]=[],J,Y=0;Y<I;++Y)(J=L[Y])&&t.call(J,J.__data__,Y,L)&&Q.push(J);return new Jt(f,this._parents,this._name,this._id)}function tn(t){if(t._id!==this._id)throw new Error;for(var i=this._groups,o=t._groups,f=i.length,m=o.length,L=Math.min(f,m),I=new Array(f),Q=0;Q<L;++Q)for(var J=i[Q],Y=o[Q],X=J.length,ut=I[Q]=new Array(X),at,yt=0;yt<X;++yt)(at=J[yt]||Y[yt])&&(ut[yt]=at);for(;Q<f;++Q)I[Q]=i[Q];return new Jt(I,this._parents,this._name,this._id)}function en(t){return(t+"").trim().split(/^|\s+/).every(function(i){var o=i.indexOf(".");return o>=0&&(i=i.slice(0,o)),!i||i==="start"})}function nn(t,i,o){var f,m,L=en(i)?r:e;return function(){var I=L(this,t),Q=I.on;Q!==f&&(m=(f=Q).copy()).on(i,o),I.on=m}}function rn(t,i){var o=this._id;return arguments.length<2?n(this.node(),o).on.on(t):this.each(nn(o,t,i))}function on(t){return function(){var i=this.parentNode;for(var o in this.__transition)if(+o!==t)return;i&&i.removeChild(this)}}function sn(){return this.on("end.remove",on(this._id))}var un=K("./node_modules/d3-selection/src/selector.js");function an(t){var i=this._name,o=this._id;typeof t!="function"&&(t=(0,un.default)(t));for(var f=this._groups,m=f.length,L=new Array(m),I=0;I<m;++I)for(var Q=f[I],J=Q.length,Y=L[I]=new Array(J),X,ut,at=0;at<J;++at)(X=Q[at])&&(ut=t.call(X,X.__data__,at,Q))&&("__data__"in X&&(ut.__data__=X.__data__),Y[at]=ut,v(Y[at],i,o,at,Y,n(X,o)));return new Jt(L,this._parents,i,o)}var ln=K("./node_modules/d3-selection/src/selectorAll.js");function fn(t){var i=this._name,o=this._id;typeof t!="function"&&(t=(0,ln.default)(t));for(var f=this._groups,m=f.length,L=[],I=[],Q=0;Q<m;++Q)for(var J=f[Q],Y=J.length,X,ut=0;ut<Y;++ut)if(X=J[ut]){for(var at=t.call(X,X.__data__,ut,J),yt,$t=n(X,o),Nt=0,Kt=at.length;Nt<Kt;++Nt)(yt=at[Nt])&&v(yt,i,o,Nt,at,$t);L.push(at),I.push(X)}return new Jt(L,I,i,o)}var hn=d.default.prototype.constructor;function cn(){return new hn(this._groups,this._parents)}var Ee=K("./node_modules/d3-selection/src/selection/style.js");function dn(t,i){var o,f,m;return function(){var L=(0,Ee.styleValue)(this,t),I=(this.style.removeProperty(t),(0,Ee.styleValue)(this,t));return L===I?null:L===o&&I===f?m:m=i(o=L,f=I)}}function ke(t){return function(){this.style.removeProperty(t)}}function vn(t,i,o){var f,m=o+"",L;return function(){var I=(0,Ee.styleValue)(this,t);return I===m?null:I===f?L:L=i(f=I,o)}}function gn(t,i,o){var f,m,L;return function(){var I=(0,Ee.styleValue)(this,t),Q=o(this),J=Q+"";return Q==null&&(J=Q=(this.style.removeProperty(t),(0,Ee.styleValue)(this,t))),I===J?null:I===f&&J===m?L:(m=J,L=i(f=I,Q))}}function pn(t,i){var o,f,m,L="style."+i,I="end."+L,Q;return function(){var J=e(this,t),Y=J.on,X=J.value[L]==null?Q||(Q=ke(i)):void 0;(Y!==o||m!==X)&&(f=(o=Y).copy()).on(I,m=X),J.on=f}}function yn(t,i,o){var f=(t+="")=="transform"?Gt:ye;return i==null?this.styleTween(t,dn(t,f)).on("end.style."+t,ke(t)):typeof i=="function"?this.styleTween(t,gn(t,f,jt(this,"style."+t,i))).each(pn(this._id,t)):this.styleTween(t,vn(t,f,i),o).on("end.style."+t,null)}function mn(t,i,o){return function(f){this.style.setProperty(t,i.call(this,f),o)}}function wn(t,i,o){var f,m;function L(){var I=i.apply(this,arguments);return I!==m&&(f=(m=I)&&mn(t,I,o)),f}return L._value=i,L}function xn(t,i,o){var f="style."+(t+="");if(arguments.length<2)return(f=this.tween(f))&&f._value;if(i==null)return this.tween(f,null);if(typeof i!="function")throw new Error;return this.tween(f,wn(t,i,o??""))}function En(t){return function(){this.textContent=t}}function _n(t){return function(){var i=t(this);this.textContent=i??""}}function bn(t){return this.tween("text",typeof t=="function"?_n(jt(this,"text",t)):En(t==null?"":t+""))}function Sn(t){return function(i){this.textContent=t.call(this,i)}}function Pn(t){var i,o;function f(){var m=t.apply(this,arguments);return m!==o&&(i=(o=m)&&Sn(m)),i}return f._value=t,f}function An(t){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Pn(t))}function Mn(){for(var t=this._name,i=this._id,o=Ie(),f=this._groups,m=f.length,L=0;L<m;++L)for(var I=f[L],Q=I.length,J,Y=0;Y<Q;++Y)if(J=I[Y]){var X=n(J,i);v(J,t,o,Y,I,{time:X.time+X.delay+X.duration,delay:0,duration:X.duration,ease:X.ease})}return new Jt(f,this._parents,t,o)}function kn(){var t,i,o=this,f=o._id,m=o.size();return new Promise(function(L,I){var Q={value:I},J={value:function(){--m===0&&L()}};o.each(function(){var Y=e(this,f),X=Y.on;X!==t&&(i=(t=X).copy(),i._.cancel.push(Q),i._.interrupt.push(Q),i._.end.push(J)),Y.on=i}),m===0&&L()})}var In=0;function Jt(t,i,o,f){this._groups=t,this._parents=i,this._name=o,this._id=f}function Tn(t){return(0,d.default)().transition(t)}function Ie(){return++In}var ue=d.default.prototype;Jt.prototype=Tn.prototype={constructor:Jt,select:an,selectAll:fn,selectChild:ue.selectChild,selectChildren:ue.selectChildren,filter:He,merge:tn,selection:cn,transition:Mn,call:ue.call,nodes:ue.nodes,node:ue.node,size:ue.size,empty:ue.empty,each:ue.each,on:rn,attr:Ne,attrTween:Ue,style:yn,styleTween:xn,text:bn,textTween:An,remove:sn,tween:oe,delay:Ve,duration:We,ease:Qe,easeVarying:Je,end:kn,[Symbol.iterator]:ue[Symbol.iterator]};function Qn(t){return t*t*t}function qn(t){return--t*t*t+1}function Rn(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var On={time:null,delay:0,duration:250,ease:Rn};function Ln(t,i){for(var o;!(o=t.__transition)||!(o=o[i]);)if(!(t=t.parentNode))throw new Error(`transition ${i} not found`);return o}function Cn(t){var i,o;t instanceof Jt?(i=t._id,t=t._name):(i=Ie(),(o=On).time=H(),t=t==null?null:t+"");for(var f=this._groups,m=f.length,L=0;L<m;++L)for(var I=f[L],Q=I.length,J,Y=0;Y<Q;++Y)(J=I[Y])&&v(J,t,i,Y,I,o||Ln(J,i));return new Jt(f,this._parents,t,i)}d.default.prototype.interrupt=x,d.default.prototype.transition=Cn;var zn=[null];function Jn(t,i){var o=t.__transition,f,m;if(o){i=i==null?null:i+"";for(m in o)if((f=o[m]).state>Lt&&f.name===i)return new Jt([[t]],zn,i,+m)}return null}const Se=t=>()=>t;function Nn(t,{sourceEvent:i,target:o,transform:f,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:f,enumerable:!0,configurable:!0},_:{value:m}})}function Zt(t,i,o){this.k=t,this.x=i,this.y=o}Zt.prototype={constructor:Zt,scale:function(t){return t===1?this:new Zt(this.k*t,this.x,this.y)},translate:function(t,i){return t===0&i===0?this:new Zt(this.k,this.x+this.k*t,this.y+this.k*i)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Pe=new Zt(1,0,0);Te.prototype=Zt.prototype;function Te(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Pe;return t.__zoom}function Ae(t){t.stopImmediatePropagation()}function _e(t){t.preventDefault(),t.stopImmediatePropagation()}function Fn(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Dn(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Re(){return this.__zoom||Pe}function Bn(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Gn(){return navigator.maxTouchPoints||"ontouchstart"in this}function Un(t,i,o){var f=t.invertX(i[0][0])-o[0][0],m=t.invertX(i[1][0])-o[1][0],L=t.invertY(i[0][1])-o[0][1],I=t.invertY(i[1][1])-o[1][1];return t.translate(m>f?(f+m)/2:Math.min(0,f)||Math.max(0,m),I>L?(L+I)/2:Math.min(0,L)||Math.max(0,I))}function Xn(){var t=Fn,i=Dn,o=Un,f=Bn,m=Gn,L=[0,1/0],I=[[-1/0,-1/0],[1/0,1/0]],Q=250,J=s,Y=it("start","zoom","end"),X,ut,at,yt=500,$t=150,Nt=0,Kt=10;function bt(M){M.property("__zoom",Re).on("wheel.zoom",Yn,{passive:!1}).on("mousedown.zoom",Vn).on("dblclick.zoom",$n).filter(m).on("touchstart.zoom",Kn).on("touchmove.zoom",Wn).on("touchend.zoom touchcancel.zoom",jn).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}bt.transform=function(M,rt,B,lt){var xt=M.selection?M.selection():M;xt.property("__zoom",Re),M!==xt?be(M,rt,B,lt):xt.interrupt().each(function(){ae(this,arguments).event(lt).start().zoom(null,typeof rt=="function"?rt.apply(this,arguments):rt).end()})},bt.scaleBy=function(M,rt,B,lt){bt.scaleTo(M,function(){var xt=this.__zoom.k,Pt=typeof rt=="function"?rt.apply(this,arguments):rt;return xt*Pt},B,lt)},bt.scaleTo=function(M,rt,B,lt){bt.transform(M,function(){var xt=i.apply(this,arguments),Pt=this.__zoom,At=B==null?me(xt):typeof B=="function"?B.apply(this,arguments):B,Tt=Pt.invert(At),zt=typeof rt=="function"?rt.apply(this,arguments):rt;return o(ce(Ht(Pt,zt),At,Tt),xt,I)},B,lt)},bt.translateBy=function(M,rt,B,lt){bt.transform(M,function(){return o(this.__zoom.translate(typeof rt=="function"?rt.apply(this,arguments):rt,typeof B=="function"?B.apply(this,arguments):B),i.apply(this,arguments),I)},null,lt)},bt.translateTo=function(M,rt,B,lt,xt){bt.transform(M,function(){var Pt=i.apply(this,arguments),At=this.__zoom,Tt=lt==null?me(Pt):typeof lt=="function"?lt.apply(this,arguments):lt;return o(Pe.translate(Tt[0],Tt[1]).scale(At.k).translate(typeof rt=="function"?-rt.apply(this,arguments):-rt,typeof B=="function"?-B.apply(this,arguments):-B),Pt,I)},lt,xt)};function Ht(M,rt){return rt=Math.max(L[0],Math.min(L[1],rt)),rt===M.k?M:new Zt(rt,M.x,M.y)}function ce(M,rt,B){var lt=rt[0]-B[0]*M.k,xt=rt[1]-B[1]*M.k;return lt===M.x&&xt===M.y?M:new Zt(M.k,lt,xt)}function me(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function be(M,rt,B,lt){M.on("start.zoom",function(){ae(this,arguments).event(lt).start()}).on("interrupt.zoom end.zoom",function(){ae(this,arguments).event(lt).end()}).tween("zoom",function(){var xt=this,Pt=arguments,At=ae(xt,Pt).event(lt),Tt=i.apply(xt,Pt),zt=B==null?me(Tt):typeof B=="function"?B.apply(xt,Pt):B,te=Math.max(Tt[1][0]-Tt[0][0],Tt[1][1]-Tt[0][1]),Ut=xt.__zoom,Qt=typeof rt=="function"?rt.apply(xt,Pt):rt,le=J(Ut.invert(zt).concat(te/Ut.k),Qt.invert(zt).concat(te/Qt.k));return function(qt){if(qt===1)qt=Qt;else{var fe=le(qt),Me=te/fe[2];qt=new Zt(Me,zt[0]-fe[0]*Me,zt[1]-fe[1]*Me)}At.zoom(null,qt)}})}function ae(M,rt,B){return!B&&M.__zooming||new Oe(M,rt)}function Oe(M,rt){this.that=M,this.args=rt,this.active=0,this.sourceEvent=null,this.extent=i.apply(M,rt),this.taps=0}Oe.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,rt){return this.mouse&&M!=="mouse"&&(this.mouse[1]=rt.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=rt.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=rt.invert(this.touch1[0])),this.that.__zoom=rt,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var rt=(0,Z.default)(this.that).datum();Y.call(M,this.that,new Nn(M,{sourceEvent:this.sourceEvent,target:bt,type:M,transform:this.that.__zoom,dispatch:Y}),rt)}};function Yn(M,...rt){if(!t.apply(this,arguments))return;var B=ae(this,rt).event(M),lt=this.__zoom,xt=Math.max(L[0],Math.min(L[1],lt.k*Math.pow(2,f.apply(this,arguments)))),Pt=(0,a.default)(M);if(B.wheel)(B.mouse[0][0]!==Pt[0]||B.mouse[0][1]!==Pt[1])&&(B.mouse[1]=lt.invert(B.mouse[0]=Pt)),clearTimeout(B.wheel);else{if(lt.k===xt)return;B.mouse=[Pt,lt.invert(Pt)],l(this),B.start()}_e(M),B.wheel=setTimeout(At,$t),B.zoom("mouse",o(ce(Ht(lt,xt),B.mouse[0],B.mouse[1]),B.extent,I));function At(){B.wheel=null,B.end()}}function Vn(M,...rt){if(at||!t.apply(this,arguments))return;var B=M.currentTarget,lt=ae(this,rt,!0).event(M),xt=(0,Z.default)(M.view).on("mousemove.zoom",zt,!0).on("mouseup.zoom",te,!0),Pt=(0,a.default)(M,B),At=M.clientX,Tt=M.clientY;c(M.view),Ae(M),lt.mouse=[Pt,this.__zoom.invert(Pt)],l(this),lt.start();function zt(Ut){if(_e(Ut),!lt.moved){var Qt=Ut.clientX-At,le=Ut.clientY-Tt;lt.moved=Qt*Qt+le*le>Nt}lt.event(Ut).zoom("mouse",o(ce(lt.that.__zoom,lt.mouse[0]=(0,a.default)(Ut,B),lt.mouse[1]),lt.extent,I))}function te(Ut){xt.on("mousemove.zoom mouseup.zoom",null),k(Ut.view,lt.moved),_e(Ut),lt.event(Ut).end()}}function $n(M,...rt){if(t.apply(this,arguments)){var B=this.__zoom,lt=(0,a.default)(M.changedTouches?M.changedTouches[0]:M,this),xt=B.invert(lt),Pt=B.k*(M.shiftKey?.5:2),At=o(ce(Ht(B,Pt),lt,xt),i.apply(this,rt),I);_e(M),Q>0?(0,Z.default)(this).transition().duration(Q).call(be,At,lt,M):(0,Z.default)(this).call(bt.transform,At,lt,M)}}function Kn(M,...rt){if(t.apply(this,arguments)){var B=M.touches,lt=B.length,xt=ae(this,rt,M.changedTouches.length===lt).event(M),Pt,At,Tt,zt;for(Ae(M),At=0;At<lt;++At)Tt=B[At],zt=(0,a.default)(Tt,this),zt=[zt,this.__zoom.invert(zt),Tt.identifier],xt.touch0?!xt.touch1&&xt.touch0[2]!==zt[2]&&(xt.touch1=zt,xt.taps=0):(xt.touch0=zt,Pt=!0,xt.taps=1+!!X);X&&(X=clearTimeout(X)),Pt&&(xt.taps<2&&(ut=zt[0],X=setTimeout(function(){X=null},yt)),l(this),xt.start())}}function Wn(M,...rt){if(this.__zooming){var B=ae(this,rt).event(M),lt=M.changedTouches,xt=lt.length,Pt,At,Tt,zt;for(_e(M),Pt=0;Pt<xt;++Pt)At=lt[Pt],Tt=(0,a.default)(At,this),B.touch0&&B.touch0[2]===At.identifier?B.touch0[0]=Tt:B.touch1&&B.touch1[2]===At.identifier&&(B.touch1[0]=Tt);if(At=B.that.__zoom,B.touch1){var te=B.touch0[0],Ut=B.touch0[1],Qt=B.touch1[0],le=B.touch1[1],qt=(qt=Qt[0]-te[0])*qt+(qt=Qt[1]-te[1])*qt,fe=(fe=le[0]-Ut[0])*fe+(fe=le[1]-Ut[1])*fe;At=Ht(At,Math.sqrt(qt/fe)),Tt=[(te[0]+Qt[0])/2,(te[1]+Qt[1])/2],zt=[(Ut[0]+le[0])/2,(Ut[1]+le[1])/2]}else if(B.touch0)Tt=B.touch0[0],zt=B.touch0[1];else return;B.zoom("touch",o(ce(At,Tt,zt),B.extent,I))}}function jn(M,...rt){if(this.__zooming){var B=ae(this,rt).event(M),lt=M.changedTouches,xt=lt.length,Pt,At;for(Ae(M),at&&clearTimeout(at),at=setTimeout(function(){at=null},yt),Pt=0;Pt<xt;++Pt)At=lt[Pt],B.touch0&&B.touch0[2]===At.identifier?delete B.touch0:B.touch1&&B.touch1[2]===At.identifier&&delete B.touch1;if(B.touch1&&!B.touch0&&(B.touch0=B.touch1,delete B.touch1),B.touch0)B.touch0[1]=this.__zoom.invert(B.touch0[0]);else if(B.end(),B.taps===2&&(At=(0,a.default)(At,this),Math.hypot(ut[0]-At[0],ut[1]-At[1])<Kt)){var Tt=(0,Z.default)(this).on("dblclick.zoom");Tt&&Tt.apply(this,arguments)}}}return bt.wheelDelta=function(M){return arguments.length?(f=typeof M=="function"?M:Se(+M),bt):f},bt.filter=function(M){return arguments.length?(t=typeof M=="function"?M:Se(!!M),bt):t},bt.touchable=function(M){return arguments.length?(m=typeof M=="function"?M:Se(!!M),bt):m},bt.extent=function(M){return arguments.length?(i=typeof M=="function"?M:Se([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),bt):i},bt.scaleExtent=function(M){return arguments.length?(L[0]=+M[0],L[1]=+M[1],bt):[L[0],L[1]]},bt.translateExtent=function(M){return arguments.length?(I[0][0]=+M[0][0],I[1][0]=+M[1][0],I[0][1]=+M[0][1],I[1][1]=+M[1][1],bt):[[I[0][0],I[0][1]],[I[1][0],I[1][1]]]},bt.constrain=function(M){return arguments.length?(o=M,bt):o},bt.duration=function(M){return arguments.length?(Q=+M,bt):Q},bt.interpolate=function(M){return arguments.length?(J=M,bt):J},bt.on=function(){var M=Y.on.apply(Y,arguments);return M===Y?bt:M},bt.clickDistance=function(M){return arguments.length?(Nt=(M=+M)*M,bt):Math.sqrt(Nt)},bt.tapDistance=function(M){return arguments.length?(Kt=+M,bt):Kt},bt}},"./node_modules/flatbush/index.js":(Ft,ct,K)=>{"use strict";K.r(ct),K.d(ct,{default:()=>W});class q{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(h,P){let c=this.length++;for(;c>0;){const k=c-1>>1,S=this.values[k];if(P>=S)break;this.ids[c]=this.ids[k],this.values[c]=S,c=k}this.ids[c]=h,this.values[c]=P}pop(){if(this.length===0)return;const h=this.ids[0];if(this.length--,this.length>0){const P=this.ids[0]=this.ids[this.length],c=this.values[0]=this.values[this.length],k=this.length>>1;let S=0;for(;S<k;){let b=(S<<1)+1;const A=b+1;let G=this.ids[b],E=this.values[b];const _=this.values[A];if(A<this.length&&_<E&&(b=A,G=this.ids[A],E=_),E>=c)break;this.ids[S]=G,this.values[S]=E,S=b}this.ids[S]=P,this.values[S]=c}return h}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const V=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ft=3;class W{static from(h,P=0){if(P%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!h||h.byteLength===void 0||h.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[c,k]=new Uint8Array(h,P+0,2);if(c!==251)throw new Error("Data does not appear to be in a Flatbush format.");const S=k>>4;if(S!==ft)throw new Error(`Got v${S} data when expected v${ft}.`);const b=V[k&15];if(!b)throw new Error("Unrecognized array type.");const[A]=new Uint16Array(h,P+2,1),[G]=new Uint32Array(h,P+4,1);return new W(G,A,b,void 0,h,P)}constructor(h,P=16,c=Float64Array,k=ArrayBuffer,S,b=0){if(h===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(h)||h<=0)throw new Error(`Unexpected numItems value: ${h}.`);this.numItems=+h,this.nodeSize=Math.min(Math.max(+P,2),65535),this.byteOffset=b;let A=h,G=A;this._levelBounds=[A*4];do A=Math.ceil(A/this.nodeSize),G+=A,this._levelBounds.push(G*4);while(A!==1);this.ArrayType=c,this.IndexArrayType=G<16384?Uint16Array:Uint32Array;const E=V.indexOf(this.ArrayType),_=G*4*this.ArrayType.BYTES_PER_ELEMENT;if(E<0)throw new Error(`Unexpected typed array class: ${c}.`);S&&S.byteLength!==void 0&&!S.buffer?(this.data=S,this._boxes=new this.ArrayType(this.data,b+8,G*4),this._indices=new this.IndexArrayType(this.data,b+8+_,G),this._pos=G*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new k(8+_+G*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,G*4),this._indices=new this.IndexArrayType(this.data,8+_,G),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(ft<<4)+E]),new Uint16Array(this.data,2,1)[0]=P,new Uint32Array(this.data,4,1)[0]=h),this._queue=new q}add(h,P,c=h,k=P){const S=this._pos>>2,b=this._boxes;return this._indices[S]=S,b[this._pos++]=h,b[this._pos++]=P,b[this._pos++]=c,b[this._pos++]=k,h<this.minX&&(this.minX=h),P<this.minY&&(this.minY=P),c>this.maxX&&(this.maxX=c),k>this.maxY&&(this.maxY=k),S}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const h=this._boxes;if(this.numItems<=this.nodeSize){h[this._pos++]=this.minX,h[this._pos++]=this.minY,h[this._pos++]=this.maxX,h[this._pos++]=this.maxY;return}const P=this.maxX-this.minX||1,c=this.maxY-this.minY||1,k=new Uint32Array(this.numItems),S=65536-1;for(let b=0,A=0;b<this.numItems;b++){const G=h[A++],E=h[A++],_=h[A++],y=h[A++],s=Math.floor(S*((G+_)/2-this.minX)/P),a=Math.floor(S*((E+y)/2-this.minY)/c);k[b]=U(s,a)}it(k,h,this._indices,0,this.numItems-1,this.nodeSize);for(let b=0,A=0;b<this._levelBounds.length-1;b++){const G=this._levelBounds[b];for(;A<G;){const E=A;let _=h[A++],y=h[A++],s=h[A++],a=h[A++];for(let d=1;d<this.nodeSize&&A<G;d++)_=Math.min(_,h[A++]),y=Math.min(y,h[A++]),s=Math.max(s,h[A++]),a=Math.max(a,h[A++]);this._indices[this._pos>>2]=E,h[this._pos++]=_,h[this._pos++]=y,h[this._pos++]=s,h[this._pos++]=a}}}search(h,P,c,k,S){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let b=this._boxes.length-4;const A=[],G=[];for(;b!==void 0;){const E=Math.min(b+this.nodeSize*4,j(b,this._levelBounds));for(let _=b;_<E;_+=4){if(c<this._boxes[_]||k<this._boxes[_+1]||h>this._boxes[_+2]||P>this._boxes[_+3])continue;const y=this._indices[_>>2]|0;b>=this.numItems*4?A.push(y):(S===void 0||S(y))&&G.push(y)}b=A.pop()}return G}neighbors(h,P,c=1/0,k=1/0,S){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let b=this._boxes.length-4;const A=this._queue,G=[],E=k*k;t:for(;b!==void 0;){const _=Math.min(b+this.nodeSize*4,j(b,this._levelBounds));for(let y=b;y<_;y+=4){const s=this._indices[y>>2]|0,a=$(h,this._boxes[y],this._boxes[y+2]),d=$(P,this._boxes[y+1],this._boxes[y+3]),O=a*a+d*d;O>E||(b>=this.numItems*4?A.push(s<<1,O):(S===void 0||S(s))&&A.push((s<<1)+1,O))}for(;A.length&&A.peek()&1;)if(A.peekValue()>E||(G.push(A.pop()>>1),G.length===c))break t;b=A.length?A.pop()>>1:void 0}return A.clear(),G}}function $(w,h,P){return w<h?h-w:w<=P?0:w-P}function j(w,h){let P=0,c=h.length-1;for(;P<c;){const k=P+c>>1;h[k]>w?c=k:P=k+1}return h[P]}function it(w,h,P,c,k,S){if(Math.floor(c/S)>=Math.floor(k/S))return;const b=w[c+k>>1];let A=c-1,G=k+1;for(;;){do A++;while(w[A]<b);do G--;while(w[G]>b);if(A>=G)break;Z(w,h,P,A,G)}it(w,h,P,c,G,S),it(w,h,P,G+1,k,S)}function Z(w,h,P,c,k){const S=w[c];w[c]=w[k],w[k]=S;const b=4*c,A=4*k,G=h[b],E=h[b+1],_=h[b+2],y=h[b+3];h[b]=h[A],h[b+1]=h[A+1],h[b+2]=h[A+2],h[b+3]=h[A+3],h[A]=G,h[A+1]=E,h[A+2]=_,h[A+3]=y;const s=P[c];P[c]=P[k],P[k]=s}function U(w,h){let P=w^h,c=65535^P,k=65535^(w|h),S=w&(h^65535),b=P|c>>1,A=P>>1^P,G=k>>1^c&S>>1^k,E=P&k>>1^S>>1^S;P=b,c=A,k=G,S=E,b=P&P>>2^c&c>>2,A=P&c>>2^c&(P^c)>>2,G^=P&k>>2^c&S>>2,E^=c&k>>2^(P^c)&S>>2,P=b,c=A,k=G,S=E,b=P&P>>4^c&c>>4,A=P&c>>4^c&(P^c)>>4,G^=P&k>>4^c&S>>4,E^=c&k>>4^(P^c)&S>>4,P=b,c=A,k=G,S=E,G^=P&k>>8^c&S>>8,E^=c&k>>8^(P^c)&S>>8,P=G^G>>1,c=E^E>>1;let _=w^h,y=c|65535^(_|P);return _=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,y=(y|y<<8)&16711935,y=(y|y<<4)&252645135,y=(y|y<<2)&858993459,y=(y|y<<1)&1431655765,(y<<1|_)>>>0}},"./node_modules/polygon-clipping/dist/polygon-clipping.umd.js":function(Ft,ct,K){var q=K("./node_modules/process/browser.js");(function(V,ft){Ft.exports=ft()})(this,function(){"use strict";function V(v,r){if(!(v instanceof r))throw new TypeError("Cannot call a class as a function")}function ft(v,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,n.key,n)}}function W(v,r,e){return r&&ft(v.prototype,r),e&&ft(v,e),v}/**
 * splaytree v3.1.0
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 */var $=function(){function v(r,e){this.next=null,this.key=r,this.data=e,this.left=null,this.right=null}return v}();function j(v,r){return v>r?1:v<r?-1:0}function it(v,r,e){for(var n=new $(null,null),u=n,l=n;;){var x=e(v,r.key);if(x<0){if(r.left===null)break;if(e(v,r.left.key)<0){var T=r.left;if(r.left=T.right,T.right=r,r=T,r.left===null)break}l.left=r,l=r,r=r.left}else if(x>0){if(r.right===null)break;if(e(v,r.right.key)>0){var T=r.right;if(r.right=T.left,T.left=r,r=T,r.right===null)break}u.right=r,u=r,r=r.right}else break}return u.right=r.left,l.left=r.right,r.left=n.right,r.right=n.left,r}function Z(v,r,e,n){var u=new $(v,r);if(e===null)return u.left=u.right=null,u;e=it(v,e,n);var l=n(v,e.key);return l<0?(u.left=e.left,u.right=e,e.left=null):l>=0&&(u.right=e.right,u.left=e,e.right=null),u}function U(v,r,e){var n=null,u=null;if(r){r=it(v,r,e);var l=e(r.key,v);l===0?(n=r.left,u=r.right):l<0?(u=r.right,r.right=null,n=r):(n=r.left,r.left=null,u=r)}return{left:n,right:u}}function w(v,r,e){return r===null?v:(v===null||(r=it(v.key,r,e),r.left=v),r)}function h(v,r,e,n,u){if(v){n(""+r+(e?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+u(v)+`
`);var l=r+(e?"    ":"\u2502   ");v.left&&h(v.left,l,!1,n,u),v.right&&h(v.right,l,!0,n,u)}}var P=function(){function v(r){r===void 0&&(r=j),this._root=null,this._size=0,this._comparator=r}return v.prototype.insert=function(r,e){return this._size++,this._root=Z(r,e,this._root,this._comparator)},v.prototype.add=function(r,e){var n=new $(r,e);this._root===null&&(n.left=n.right=null,this._size++,this._root=n);var u=this._comparator,l=it(r,this._root,u),x=u(r,l.key);return x===0?this._root=l:(x<0?(n.left=l.left,n.right=l,l.left=null):x>0&&(n.right=l.right,n.left=l,l.right=null),this._size++,this._root=n),this._root},v.prototype.remove=function(r){this._root=this._remove(r,this._root,this._comparator)},v.prototype._remove=function(r,e,n){var u;if(e===null)return null;e=it(r,e,n);var l=n(r,e.key);return l===0?(e.left===null?u=e.right:(u=it(r,e.left,n),u.right=e.right),this._size--,u):e},v.prototype.pop=function(){var r=this._root;if(r){for(;r.left;)r=r.left;return this._root=it(r.key,this._root,this._comparator),this._root=this._remove(r.key,this._root,this._comparator),{key:r.key,data:r.data}}return null},v.prototype.findStatic=function(r){for(var e=this._root,n=this._comparator;e;){var u=n(r,e.key);if(u===0)return e;u<0?e=e.left:e=e.right}return null},v.prototype.find=function(r){return this._root&&(this._root=it(r,this._root,this._comparator),this._comparator(r,this._root.key)!==0)?null:this._root},v.prototype.contains=function(r){for(var e=this._root,n=this._comparator;e;){var u=n(r,e.key);if(u===0)return!0;u<0?e=e.left:e=e.right}return!1},v.prototype.forEach=function(r,e){for(var n=this._root,u=[],l=!1;!l;)n!==null?(u.push(n),n=n.left):u.length!==0?(n=u.pop(),r.call(e,n),n=n.right):l=!0;return this},v.prototype.range=function(r,e,n,u){for(var l=[],x=this._comparator,T=this._root,z;l.length!==0||T;)if(T)l.push(T),T=T.left;else{if(T=l.pop(),z=x(T.key,e),z>0)break;if(x(T.key,r)>=0&&n.call(u,T))return this;T=T.right}return this},v.prototype.keys=function(){var r=[];return this.forEach(function(e){var n=e.key;return r.push(n)}),r},v.prototype.values=function(){var r=[];return this.forEach(function(e){var n=e.data;return r.push(n)}),r},v.prototype.min=function(){return this._root?this.minNode(this._root).key:null},v.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},v.prototype.minNode=function(r){if(r===void 0&&(r=this._root),r)for(;r.left;)r=r.left;return r},v.prototype.maxNode=function(r){if(r===void 0&&(r=this._root),r)for(;r.right;)r=r.right;return r},v.prototype.at=function(r){for(var e=this._root,n=!1,u=0,l=[];!n;)if(e)l.push(e),e=e.left;else if(l.length>0){if(e=l.pop(),u===r)return e;u++,e=e.right}else n=!0;return null},v.prototype.next=function(r){var e=this._root,n=null;if(r.right){for(n=r.right;n.left;)n=n.left;return n}for(var u=this._comparator;e;){var l=u(r.key,e.key);if(l===0)break;l<0?(n=e,e=e.left):e=e.right}return n},v.prototype.prev=function(r){var e=this._root,n=null;if(r.left!==null){for(n=r.left;n.right;)n=n.right;return n}for(var u=this._comparator;e;){var l=u(r.key,e.key);if(l===0)break;l<0?e=e.left:(n=e,e=e.right)}return n},v.prototype.clear=function(){return this._root=null,this._size=0,this},v.prototype.toList=function(){return S(this._root)},v.prototype.load=function(r,e,n){e===void 0&&(e=[]),n===void 0&&(n=!1);var u=r.length,l=this._comparator;if(n&&G(r,e,0,u-1,l),this._root===null)this._root=c(r,e,0,u),this._size=u;else{var x=A(this.toList(),k(r,e),l);u=this._size+u,this._root=b({head:x},0,u)}return this},v.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(v.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),v.prototype.toString=function(r){r===void 0&&(r=function(u){return String(u.key)});var e=[];return h(this._root,"",!0,function(n){return e.push(n)},r),e.join("")},v.prototype.update=function(r,e,n){var u=this._comparator,l=U(r,this._root,u),x=l.left,T=l.right;u(r,e)<0?T=Z(e,n,T,u):x=Z(e,n,x,u),this._root=w(x,T,u)},v.prototype.split=function(r){return U(r,this._root,this._comparator)},v}();function c(v,r,e,n){var u=n-e;if(u>0){var l=e+Math.floor(u/2),x=v[l],T=r[l],z=new $(x,T);return z.left=c(v,r,e,l),z.right=c(v,r,l+1,n),z}return null}function k(v,r){for(var e=new $(null,null),n=e,u=0;u<v.length;u++)n=n.next=new $(v[u],r[u]);return n.next=null,e.next}function S(v){for(var r=v,e=[],n=!1,u=new $(null,null),l=u;!n;)r?(e.push(r),r=r.left):e.length>0?(r=l=l.next=e.pop(),r=r.right):n=!0;return l.next=null,u.next}function b(v,r,e){var n=e-r;if(n>0){var u=r+Math.floor(n/2),l=b(v,r,u),x=v.head;return x.left=l,v.head=v.head.next,x.right=b(v,u+1,e),x}return null}function A(v,r,e){for(var n=new $(null,null),u=n,l=v,x=r;l!==null&&x!==null;)e(l.key,x.key)<0?(u.next=l,l=l.next):(u.next=x,x=x.next),u=u.next;return l!==null?u.next=l:x!==null&&(u.next=x),n.next}function G(v,r,e,n,u){if(!(e>=n)){for(var l=v[e+n>>1],x=e-1,T=n+1;;){do x++;while(u(v[x],l)<0);do T--;while(u(v[T],l)>0);if(x>=T)break;var z=v[x];v[x]=v[T],v[T]=z,z=r[x],r[x]=r[T],r[T]=z}G(v,r,e,T,u),G(v,r,T+1,n,u)}}var E=function(r,e){return r.ll.x<=e.x&&e.x<=r.ur.x&&r.ll.y<=e.y&&e.y<=r.ur.y},_=function(r,e){if(e.ur.x<r.ll.x||r.ur.x<e.ll.x||e.ur.y<r.ll.y||r.ur.y<e.ll.y)return null;var n=r.ll.x<e.ll.x?e.ll.x:r.ll.x,u=r.ur.x<e.ur.x?r.ur.x:e.ur.x,l=r.ll.y<e.ll.y?e.ll.y:r.ll.y,x=r.ur.y<e.ur.y?r.ur.y:e.ur.y;return{ll:{x:n,y:l},ur:{x:u,y:x}}},y=Number.EPSILON;y===void 0&&(y=Math.pow(2,-52));var s=y*y,a=function(r,e){if(-y<r&&r<y&&-y<e&&e<y)return 0;var n=r-e;return n*n<s*r*e?0:r<e?-1:1},d=function(){function v(){V(this,v),this.reset()}return W(v,[{key:"reset",value:function(){this.xRounder=new O,this.yRounder=new O}},{key:"round",value:function(e,n){return{x:this.xRounder.round(e),y:this.yRounder.round(n)}}}]),v}(),O=function(){function v(){V(this,v),this.tree=new P,this.round(0)}return W(v,[{key:"round",value:function(e){var n=this.tree.add(e),u=this.tree.prev(n);if(u!==null&&a(n.key,u.key)===0)return this.tree.remove(e),u.key;var l=this.tree.next(n);return l!==null&&a(n.key,l.key)===0?(this.tree.remove(e),l.key):e}}]),v}(),F=new d,R=function(r,e){return r.x*e.y-r.y*e.x},mt=function(r,e){return r.x*e.x+r.y*e.y},wt=function(r,e,n){var u={x:e.x-r.x,y:e.y-r.y},l={x:n.x-r.x,y:n.y-r.y},x=R(u,l);return a(x,0)},St=function(r){return Math.sqrt(mt(r,r))},D=function(r,e,n){var u={x:e.x-r.x,y:e.y-r.y},l={x:n.x-r.x,y:n.y-r.y};return R(l,u)/St(l)/St(u)},p=function(r,e,n){var u={x:e.x-r.x,y:e.y-r.y},l={x:n.x-r.x,y:n.y-r.y};return mt(l,u)/St(l)/St(u)},g=function(r,e,n){return e.y===0?null:{x:r.x+e.x/e.y*(n-r.y),y:n}},C=function(r,e,n){return e.x===0?null:{x:n,y:r.y+e.y/e.x*(n-r.x)}},ot=function(r,e,n,u){if(e.x===0)return C(n,u,r.x);if(u.x===0)return C(r,e,n.x);if(e.y===0)return g(n,u,r.y);if(u.y===0)return g(r,e,n.y);var l=R(e,u);if(l==0)return null;var x={x:n.x-r.x,y:n.y-r.y},T=R(x,e)/l,z=R(x,u)/l,tt=r.x+z*e.x,ht=n.x+T*u.x,pt=r.y+z*e.y,_t=n.y+T*u.y,Et=(tt+ht)/2,It=(pt+_t)/2;return{x:Et,y:It}},H=function(){W(v,null,[{key:"compare",value:function(e,n){var u=v.comparePoints(e.point,n.point);return u!==0?u:(e.point!==n.point&&e.link(n),e.isLeft!==n.isLeft?e.isLeft?1:-1:N.compare(e.segment,n.segment))}},{key:"comparePoints",value:function(e,n){return e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0}}]);function v(r,e){V(this,v),r.events===void 0?r.events=[this]:r.events.push(this),this.point=r,this.isLeft=e}return W(v,[{key:"link",value:function(e){if(e.point===this.point)throw new Error("Tried to link already linked events");for(var n=e.point.events,u=0,l=n.length;u<l;u++){var x=n[u];this.point.events.push(x),x.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var e=this.point.events.length,n=0;n<e;n++){var u=this.point.events[n];if(u.segment.consumedBy===void 0)for(var l=n+1;l<e;l++){var x=this.point.events[l];x.consumedBy===void 0&&u.otherSE.point.events===x.otherSE.point.events&&u.segment.consume(x.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var e=[],n=0,u=this.point.events.length;n<u;n++){var l=this.point.events[n];l!==this&&!l.segment.ringOut&&l.segment.isInResult()&&e.push(l)}return e}},{key:"getLeftmostComparator",value:function(e){var n=this,u=new Map,l=function(T){var z=T.otherSE;u.set(T,{sine:D(n.point,e.point,z.point),cosine:p(n.point,e.point,z.point)})};return function(x,T){u.has(x)||l(x),u.has(T)||l(T);var z=u.get(x),tt=z.sine,ht=z.cosine,pt=u.get(T),_t=pt.sine,Et=pt.cosine;return tt>=0&&_t>=0?ht<Et?1:ht>Et?-1:0:tt<0&&_t<0?ht<Et?-1:ht>Et?1:0:_t<tt?-1:_t>tt?1:0}}}]),v}(),nt=0,N=function(){W(v,null,[{key:"compare",value:function(e,n){var u=e.leftSE.point.x,l=n.leftSE.point.x,x=e.rightSE.point.x,T=n.rightSE.point.x;if(T<u)return 1;if(x<l)return-1;var z=e.leftSE.point.y,tt=n.leftSE.point.y,ht=e.rightSE.point.y,pt=n.rightSE.point.y;if(u<l){if(tt<z&&tt<ht)return 1;if(tt>z&&tt>ht)return-1;var _t=e.comparePoint(n.leftSE.point);if(_t<0)return 1;if(_t>0)return-1;var Et=n.comparePoint(e.rightSE.point);return Et!==0?Et:-1}if(u>l){if(z<tt&&z<pt)return-1;if(z>tt&&z>pt)return 1;var It=n.comparePoint(e.leftSE.point);if(It!==0)return It;var Mt=e.comparePoint(n.rightSE.point);return Mt<0?1:Mt>0?-1:1}if(z<tt)return-1;if(z>tt)return 1;if(x<T){var Ot=n.comparePoint(e.rightSE.point);if(Ot!==0)return Ot}if(x>T){var Bt=e.comparePoint(n.rightSE.point);if(Bt<0)return 1;if(Bt>0)return-1}if(x!==T){var Gt=ht-z,Yt=x-u,Dt=pt-tt,Wt=T-l;if(Gt>Yt&&Dt<Wt)return 1;if(Gt<Yt&&Dt>Wt)return-1}return x>T?1:x<T||ht<pt?-1:ht>pt?1:e.id<n.id?-1:e.id>n.id?1:0}}]);function v(r,e,n,u){V(this,v),this.id=++nt,this.leftSE=r,r.segment=this,r.otherSE=e,this.rightSE=e,e.segment=this,e.otherSE=r,this.rings=n,this.windings=u}return W(v,[{key:"replaceRightSE",value:function(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var e=this.leftSE.point.y,n=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<n?e:n},ur:{x:this.rightSE.point.x,y:e>n?e:n}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}},{key:"comparePoint",value:function(e){if(this.isAnEndpoint(e))return 0;var n=this.leftSE.point,u=this.rightSE.point,l=this.vector();if(n.x===u.x)return e.x===n.x?0:e.x<n.x?1:-1;var x=(e.y-n.y)/l.y,T=n.x+x*l.x;if(e.x===T)return 0;var z=(e.x-n.x)/l.x,tt=n.y+z*l.y;return e.y===tt?0:e.y<tt?-1:1}},{key:"getIntersection",value:function(e){var n=this.bbox(),u=e.bbox(),l=_(n,u);if(l===null)return null;var x=this.leftSE.point,T=this.rightSE.point,z=e.leftSE.point,tt=e.rightSE.point,ht=E(n,z)&&this.comparePoint(z)===0,pt=E(u,x)&&e.comparePoint(x)===0,_t=E(n,tt)&&this.comparePoint(tt)===0,Et=E(u,T)&&e.comparePoint(T)===0;if(pt&&ht)return Et&&!_t?T:!Et&&_t?tt:null;if(pt)return _t&&x.x===tt.x&&x.y===tt.y?null:x;if(ht)return Et&&T.x===z.x&&T.y===z.y?null:z;if(Et&&_t)return null;if(Et)return T;if(_t)return tt;var It=ot(x,this.vector(),z,e.vector());return It===null||!E(l,It)?null:F.round(It.x,It.y)}},{key:"split",value:function(e){var n=[],u=e.events!==void 0,l=new H(e,!0),x=new H(e,!1),T=this.rightSE;this.replaceRightSE(x),n.push(x),n.push(l);var z=new v(l,T,this.rings.slice(),this.windings.slice());return H.comparePoints(z.leftSE.point,z.rightSE.point)>0&&z.swapEvents(),H.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),u&&(l.checkForConsuming(),x.checkForConsuming()),n}},{key:"swapEvents",value:function(){var e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var n=0,u=this.windings.length;n<u;n++)this.windings[n]*=-1}},{key:"consume",value:function(e){for(var n=this,u=e;n.consumedBy;)n=n.consumedBy;for(;u.consumedBy;)u=u.consumedBy;var l=v.compare(n,u);if(l!==0){if(l>0){var x=n;n=u,u=x}if(n.prev===u){var T=n;n=u,u=T}for(var z=0,tt=u.rings.length;z<tt;z++){var ht=u.rings[z],pt=u.windings[z],_t=n.rings.indexOf(ht);_t===-1?(n.rings.push(ht),n.windings.push(pt)):n.windings[_t]+=pt}u.rings=null,u.windings=null,u.consumedBy=n,u.leftSE.consumedBy=n.leftSE,u.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{var e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};for(var n=this._afterState.rings,u=this._afterState.windings,l=this._afterState.multiPolys,x=0,T=this.rings.length;x<T;x++){var z=this.rings[x],tt=this.windings[x],ht=n.indexOf(z);ht===-1?(n.push(z),u.push(tt)):u[ht]+=tt}for(var pt=[],_t=[],Et=0,It=n.length;Et<It;Et++)if(u[Et]!==0){var Mt=n[Et],Ot=Mt.poly;if(_t.indexOf(Ot)===-1)if(Mt.isExterior)pt.push(Ot);else{_t.indexOf(Ot)===-1&&_t.push(Ot);var Bt=pt.indexOf(Mt.poly);Bt!==-1&&pt.splice(Bt,1)}}for(var Gt=0,Yt=pt.length;Gt<Yt;Gt++){var Dt=pt[Gt].multiPoly;l.indexOf(Dt)===-1&&l.push(Dt)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var e=this.beforeState().multiPolys,n=this.afterState().multiPolys;switch(Lt.type){case"union":{var u=e.length===0,l=n.length===0;this._isInResult=u!==l;break}case"intersection":{var x,T;e.length<n.length?(x=e.length,T=n.length):(x=n.length,T=e.length),this._isInResult=T===Lt.numMultiPolys&&x<T;break}case"xor":{var z=Math.abs(e.length-n.length);this._isInResult=z%2===1;break}case"difference":{var tt=function(pt){return pt.length===1&&pt[0].isSubject};this._isInResult=tt(e)!==tt(n);break}default:throw new Error("Unrecognized operation type found ".concat(Lt.type))}return this._isInResult}}],[{key:"fromRing",value:function(e,n,u){var l,x,T,z=H.comparePoints(e,n);if(z<0)l=e,x=n,T=1;else if(z>0)l=n,x=e,T=-1;else throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));var tt=new H(l,!0),ht=new H(x,!1);return new v(tt,ht,[u],[T])}}]),v}(),st=function(){function v(r,e,n){if(V(this,v),!Array.isArray(r)||r.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=e,this.isExterior=n,this.segments=[],typeof r[0][0]!="number"||typeof r[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var u=F.round(r[0][0],r[0][1]);this.bbox={ll:{x:u.x,y:u.y},ur:{x:u.x,y:u.y}};for(var l=u,x=1,T=r.length;x<T;x++){if(typeof r[x][0]!="number"||typeof r[x][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var z=F.round(r[x][0],r[x][1]);z.x===l.x&&z.y===l.y||(this.segments.push(N.fromRing(l,z,this)),z.x<this.bbox.ll.x&&(this.bbox.ll.x=z.x),z.y<this.bbox.ll.y&&(this.bbox.ll.y=z.y),z.x>this.bbox.ur.x&&(this.bbox.ur.x=z.x),z.y>this.bbox.ur.y&&(this.bbox.ur.y=z.y),l=z)}(u.x!==l.x||u.y!==l.y)&&this.segments.push(N.fromRing(l,u,this))}return W(v,[{key:"getSweepEvents",value:function(){for(var e=[],n=0,u=this.segments.length;n<u;n++){var l=this.segments[n];e.push(l.leftSE),e.push(l.rightSE)}return e}}]),v}(),gt=function(){function v(r,e){if(V(this,v),!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new st(r[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var n=1,u=r.length;n<u;n++){var l=new st(r[n],this,!1);l.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=l.bbox.ll.x),l.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=l.bbox.ll.y),l.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=l.bbox.ur.x),l.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=l.bbox.ur.y),this.interiorRings.push(l)}this.multiPoly=e}return W(v,[{key:"getSweepEvents",value:function(){for(var e=this.exteriorRing.getSweepEvents(),n=0,u=this.interiorRings.length;n<u;n++)for(var l=this.interiorRings[n].getSweepEvents(),x=0,T=l.length;x<T;x++)e.push(l[x]);return e}}]),v}(),et=function(){function v(r,e){if(V(this,v),!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof r[0][0][0]=="number"&&(r=[r])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var n=0,u=r.length;n<u;n++){var l=new gt(r[n],this);l.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=l.bbox.ll.x),l.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=l.bbox.ll.y),l.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=l.bbox.ur.x),l.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=l.bbox.ur.y),this.polys.push(l)}this.isSubject=e}return W(v,[{key:"getSweepEvents",value:function(){for(var e=[],n=0,u=this.polys.length;n<u;n++)for(var l=this.polys[n].getSweepEvents(),x=0,T=l.length;x<T;x++)e.push(l[x]);return e}}]),v}(),dt=function(){W(v,null,[{key:"factory",value:function(e){for(var n=[],u=0,l=e.length;u<l;u++){var x=e[u];if(!(!x.isInResult()||x.ringOut)){for(var T=null,z=x.leftSE,tt=x.rightSE,ht=[z],pt=z.point,_t=[];T=z,z=tt,ht.push(z),z.point!==pt;)for(;;){var Et=z.getAvailableLinkedEvents();if(Et.length===0){var It=ht[0].point,Mt=ht[ht.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(It.x,",")+" ".concat(It.y,"]. Last matching segment found ends at")+" [".concat(Mt.x,", ").concat(Mt.y,"]."))}if(Et.length===1){tt=Et[0].otherSE;break}for(var Ot=null,Bt=0,Gt=_t.length;Bt<Gt;Bt++)if(_t[Bt].point===z.point){Ot=Bt;break}if(Ot!==null){var Yt=_t.splice(Ot)[0],Dt=ht.splice(Yt.index);Dt.unshift(Dt[0].otherSE),n.push(new v(Dt.reverse()));continue}_t.push({index:ht.length,point:z.point});var Wt=z.getLeftmostComparator(T);tt=Et.sort(Wt)[0].otherSE;break}n.push(new v(ht))}}return n}}]);function v(r){V(this,v),this.events=r;for(var e=0,n=r.length;e<n;e++)r[e].segment.ringOut=this;this.poly=null}return W(v,[{key:"getGeom",value:function(){for(var e=this.events[0].point,n=[e],u=1,l=this.events.length-1;u<l;u++){var x=this.events[u].point,T=this.events[u+1].point;wt(x,e,T)!==0&&(n.push(x),e=x)}if(n.length===1)return null;var z=n[0],tt=n[1];wt(z,e,tt)===0&&n.shift(),n.push(n[0]);for(var ht=this.isExteriorRing()?1:-1,pt=this.isExteriorRing()?0:n.length-1,_t=this.isExteriorRing()?n.length:-1,Et=[],It=pt;It!=_t;It+=ht)Et.push([n[It].x,n[It].y]);return Et}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var e=this.enclosingRing();this._isExteriorRing=e?!e.isExteriorRing():!0}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var e=this.events[0],n=1,u=this.events.length;n<u;n++){var l=this.events[n];H.compare(e,l)>0&&(e=l)}for(var x=e.segment.prevInResult(),T=x?x.prevInResult():null;;){if(!x)return null;if(!T)return x.ringOut;if(T.ringOut!==x.ringOut)return T.ringOut.enclosingRing()!==x.ringOut?x.ringOut:x.ringOut.enclosingRing();x=T.prevInResult(),T=x?x.prevInResult():null}}}]),v}(),kt=function(){function v(r){V(this,v),this.exteriorRing=r,r.poly=this,this.interiorRings=[]}return W(v,[{key:"addInterior",value:function(e){this.interiorRings.push(e),e.poly=this}},{key:"getGeom",value:function(){var e=[this.exteriorRing.getGeom()];if(e[0]===null)return null;for(var n=0,u=this.interiorRings.length;n<u;n++){var l=this.interiorRings[n].getGeom();l!==null&&e.push(l)}return e}}]),v}(),Rt=function(){function v(r){V(this,v),this.rings=r,this.polys=this._composePolys(r)}return W(v,[{key:"getGeom",value:function(){for(var e=[],n=0,u=this.polys.length;n<u;n++){var l=this.polys[n].getGeom();l!==null&&e.push(l)}return e}},{key:"_composePolys",value:function(e){for(var n=[],u=0,l=e.length;u<l;u++){var x=e[u];if(!x.poly)if(x.isExteriorRing())n.push(new kt(x));else{var T=x.enclosingRing();T.poly||n.push(new kt(T)),T.poly.addInterior(x)}}return n}}]),v}(),Ct=function(){function v(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N.compare;V(this,v),this.queue=r,this.tree=new P(e),this.segments=[]}return W(v,[{key:"process",value:function(e){var n=e.segment,u=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(n),u;var l=e.isLeft?this.tree.insert(n):this.tree.find(n);if(!l)throw new Error("Unable to find segment #".concat(n.id," ")+"[".concat(n.leftSE.point.x,", ").concat(n.leftSE.point.y,"] -> ")+"[".concat(n.rightSE.point.x,", ").concat(n.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var x=l,T=l,z=void 0,tt=void 0;z===void 0;)x=this.tree.prev(x),x===null?z=null:x.key.consumedBy===void 0&&(z=x.key);for(;tt===void 0;)T=this.tree.next(T),T===null?tt=null:T.key.consumedBy===void 0&&(tt=T.key);if(e.isLeft){var ht=null;if(z){var pt=z.getIntersection(n);if(pt!==null&&(n.isAnEndpoint(pt)||(ht=pt),!z.isAnEndpoint(pt)))for(var _t=this._splitSafely(z,pt),Et=0,It=_t.length;Et<It;Et++)u.push(_t[Et])}var Mt=null;if(tt){var Ot=tt.getIntersection(n);if(Ot!==null&&(n.isAnEndpoint(Ot)||(Mt=Ot),!tt.isAnEndpoint(Ot)))for(var Bt=this._splitSafely(tt,Ot),Gt=0,Yt=Bt.length;Gt<Yt;Gt++)u.push(Bt[Gt])}if(ht!==null||Mt!==null){var Dt=null;if(ht===null)Dt=Mt;else if(Mt===null)Dt=ht;else{var Wt=H.comparePoints(ht,Mt);Dt=Wt<=0?ht:Mt}this.queue.remove(n.rightSE),u.push(n.rightSE);for(var de=n.split(Dt),oe=0,jt=de.length;oe<jt;oe++)u.push(de[oe])}u.length>0?(this.tree.remove(n),u.push(e)):(this.segments.push(n),n.prev=z)}else{if(z&&tt){var Vt=z.getIntersection(tt);if(Vt!==null){if(!z.isAnEndpoint(Vt))for(var he=this._splitSafely(z,Vt),se=0,ye=he.length;se<ye;se++)u.push(he[se]);if(!tt.isAnEndpoint(Vt))for(var ve=this._splitSafely(tt,Vt),ge=0,xe=ve.length;ge<xe;ge++)u.push(ve[ge])}}this.tree.remove(n)}return u}},{key:"_splitSafely",value:function(e,n){this.tree.remove(e);var u=e.rightSE;this.queue.remove(u);var l=e.split(n);return l.push(u),e.consumedBy===void 0&&this.tree.insert(e),l}}]),v}(),ee=typeof q<"u"&&q.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,ne=typeof q<"u"&&q.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,re=function(){function v(){V(this,v)}return W(v,[{key:"run",value:function(e,n,u){Lt.type=e,F.reset();for(var l=[new et(n,!0)],x=0,T=u.length;x<T;x++)l.push(new et(u[x],!1));if(Lt.numMultiPolys=l.length,Lt.type==="difference")for(var z=l[0],tt=1;tt<l.length;)_(l[tt].bbox,z.bbox)!==null?tt++:l.splice(tt,1);if(Lt.type==="intersection"){for(var ht=0,pt=l.length;ht<pt;ht++)for(var _t=l[ht],Et=ht+1,It=l.length;Et<It;Et++)if(_(_t.bbox,l[Et].bbox)===null)return[]}for(var Mt=new P(H.compare),Ot=0,Bt=l.length;Ot<Bt;Ot++)for(var Gt=l[Ot].getSweepEvents(),Yt=0,Dt=Gt.length;Yt<Dt;Yt++)if(Mt.insert(Gt[Yt]),Mt.size>ee)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Wt=new Ct(Mt),de=Mt.size,oe=Mt.pop();oe;){var jt=oe.key;if(Mt.size===de){var Vt=jt.segment;throw new Error("Unable to pop() ".concat(jt.isLeft?"left":"right"," SweepEvent ")+"[".concat(jt.point.x,", ").concat(jt.point.y,"] from segment #").concat(Vt.id," ")+"[".concat(Vt.leftSE.point.x,", ").concat(Vt.leftSE.point.y,"] -> ")+"[".concat(Vt.rightSE.point.x,", ").concat(Vt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Mt.size>ee)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Wt.segments.length>ne)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var he=Wt.process(jt),se=0,ye=he.length;se<ye;se++){var ve=he[se];ve.consumedBy===void 0&&Mt.insert(ve)}de=Mt.size,oe=Mt.pop()}F.reset();var ge=dt.factory(Wt.segments),xe=new Rt(ge);return xe.getGeom()}}]),v}(),Lt=new re,ie=function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];return Lt.run("union",r,n)},vt=function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];return Lt.run("intersection",r,n)},Xt=function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];return Lt.run("xor",r,n)},we=function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];return Lt.run("difference",r,n)},pe={union:ie,intersection:vt,xor:Xt,difference:we};return pe})},"./node_modules/polylabel/polylabel.js":(Ft,ct,K)=>{"use strict";var q=K("./node_modules/console-browserify/index.js"),V=K("./node_modules/tinyqueue/index.js");V.default&&(V=V.default),Ft.exports=ft,Ft.exports.default=ft;function ft(U,w,h){w=w||1;for(var P,c,k,S,b=0;b<U[0].length;b++){var A=U[0][b];(!b||A[0]<P)&&(P=A[0]),(!b||A[1]<c)&&(c=A[1]),(!b||A[0]>k)&&(k=A[0]),(!b||A[1]>S)&&(S=A[1])}var G=k-P,E=S-c,_=Math.min(G,E),y=_/2;if(_===0){var s=[P,c];return s.distance=0,s}for(var a=new V(void 0,W),d=P;d<k;d+=_)for(var O=c;O<S;O+=_)a.push(new $(d+y,O+y,y,U));var F=it(U),R=new $(P+G/2,c+E/2,0,U);R.d>F.d&&(F=R);for(var mt=a.length;a.length;){var wt=a.pop();wt.d>F.d&&(F=wt,h&&q.log("found best %d after %d probes",Math.round(1e4*wt.d)/1e4,mt)),!(wt.max-F.d<=w)&&(y=wt.h/2,a.push(new $(wt.x-y,wt.y-y,y,U)),a.push(new $(wt.x+y,wt.y-y,y,U)),a.push(new $(wt.x-y,wt.y+y,y,U)),a.push(new $(wt.x+y,wt.y+y,y,U)),mt+=4)}h&&(q.log("num probes: "+mt),q.log("best distance: "+F.d));var St=[F.x,F.y];return St.distance=F.d,St}function W(U,w){return w.max-U.max}function $(U,w,h,P){this.x=U,this.y=w,this.h=h,this.d=j(U,w,P),this.max=this.d+this.h*Math.SQRT2}function j(U,w,h){for(var P=!1,c=1/0,k=0;k<h.length;k++)for(var S=h[k],b=0,A=S.length,G=A-1;b<A;G=b++){var E=S[b],_=S[G];E[1]>w!=_[1]>w&&U<(_[0]-E[0])*(w-E[1])/(_[1]-E[1])+E[0]&&(P=!P),c=Math.min(c,Z(U,w,E,_))}return c===0?0:(P?1:-1)*Math.sqrt(c)}function it(U){for(var w=0,h=0,P=0,c=U[0],k=0,S=c.length,b=S-1;k<S;b=k++){var A=c[k],G=c[b],E=A[0]*G[1]-G[0]*A[1];h+=(A[0]+G[0])*E,P+=(A[1]+G[1])*E,w+=E*3}return w===0?new $(c[0][0],c[0][1],0,U):new $(h/w,P/w,0,U)}function Z(U,w,h,P){var c=h[0],k=h[1],S=P[0]-c,b=P[1]-k;if(S!==0||b!==0){var A=((U-c)*S+(w-k)*b)/(S*S+b*b);A>1?(c=P[0],k=P[1]):A>0&&(c+=S*A,k+=b*A)}return S=U-c,b=w-k,S*S+b*b}},"./node_modules/tinyqueue/index.js":(Ft,ct,K)=>{"use strict";K.r(ct),K.d(ct,{default:()=>q});class q{constructor(W=[],$=V){if(this.data=W,this.length=this.data.length,this.compare=$,this.length>0)for(let j=(this.length>>1)-1;j>=0;j--)this._down(j)}push(W){this.data.push(W),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const W=this.data[0],$=this.data.pop();return this.length--,this.length>0&&(this.data[0]=$,this._down(0)),W}peek(){return this.data[0]}_up(W){const{data:$,compare:j}=this,it=$[W];for(;W>0;){const Z=W-1>>1,U=$[Z];if(j(it,U)>=0)break;$[W]=U,W=Z}$[W]=it}_down(W){const{data:$,compare:j}=this,it=this.length>>1,Z=$[W];for(;W<it;){let U=(W<<1)+1,w=$[U];const h=U+1;if(h<this.length&&j($[h],w)<0&&(U=h,w=$[h]),j(w,Z)>=0)break;$[W]=w,W=U}$[W]=Z}}function V(ft,W){return ft<W?-1:ft>W?1:0}},"./node_modules/topojson-simplify/src/index.js":(Ft,ct,K)=>{"use strict";K.r(ct),K.d(ct,{filter:()=>V,filterAttached:()=>j,filterAttachedWeight:()=>h,filterWeight:()=>w,planarRingArea:()=>U,planarTriangleArea:()=>Z,presimplify:()=>b,quantile:()=>A,simplify:()=>_,sphericalRingArea:()=>St,sphericalTriangleArea:()=>D});function q(p){var g=p.objects,C={},ot=p.arcs,H=ot.length,nt=-1,N=new Array(H),st=0,gt,et=-1,dt;function kt(vt){switch(vt.type){case"GeometryCollection":vt.geometries.forEach(kt);break;case"LineString":Ct(vt.arcs);break;case"MultiLineString":vt.arcs.forEach(Ct);break;case"Polygon":vt.arcs.forEach(Ct);break;case"MultiPolygon":vt.arcs.forEach(ee);break}}function Rt(vt){vt<0&&(vt=~vt),N[vt]||(N[vt]=1,++st)}function Ct(vt){vt.forEach(Rt)}function ee(vt){vt.forEach(Ct)}function ne(vt){var Xt;switch(vt.type){case"GeometryCollection":Xt={type:"GeometryCollection",geometries:vt.geometries.map(ne)};break;case"LineString":Xt={type:"LineString",arcs:Lt(vt.arcs)};break;case"MultiLineString":Xt={type:"MultiLineString",arcs:vt.arcs.map(Lt)};break;case"Polygon":Xt={type:"Polygon",arcs:vt.arcs.map(Lt)};break;case"MultiPolygon":Xt={type:"MultiPolygon",arcs:vt.arcs.map(ie)};break;default:return vt}return vt.id!=null&&(Xt.id=vt.id),vt.bbox!=null&&(Xt.bbox=vt.bbox),vt.properties!=null&&(Xt.properties=vt.properties),Xt}function re(vt){return vt<0?~N[~vt]:N[vt]}function Lt(vt){return vt.map(re)}function ie(vt){return vt.map(Lt)}for(dt in g)kt(g[dt]);for(gt=new Array(st);++nt<H;)N[nt]&&(N[nt]=++et,gt[et]=ot[nt]);for(dt in g)C[dt]=ne(g[dt]);return{type:"Topology",bbox:p.bbox,transform:p.transform,objects:C,arcs:gt}}function V(p,g){var C=p.objects,ot={},H;g==null&&(g=ft);function nt(et){var dt,kt;switch(et.type){case"Polygon":{kt=N(et.arcs),dt=kt?{type:"Polygon",arcs:kt}:{type:null};break}case"MultiPolygon":{kt=et.arcs.map(N).filter(W),dt=kt.length?{type:"MultiPolygon",arcs:kt}:{type:null};break}case"GeometryCollection":{kt=et.geometries.map(nt).filter($),dt=kt.length?{type:"GeometryCollection",geometries:kt}:{type:null};break}default:return et}return et.id!=null&&(dt.id=et.id),et.bbox!=null&&(dt.bbox=et.bbox),et.properties!=null&&(dt.properties=et.properties),dt}function N(et){return et.length&&st(et[0])?[et[0]].concat(et.slice(1).filter(gt)):null}function st(et){return g(et,!1)}function gt(et){return g(et,!0)}for(H in C)ot[H]=nt(C[H]);return q({type:"Topology",bbox:p.bbox,transform:p.transform,objects:ot,arcs:p.arcs})}function ft(){return!0}function W(p){return p}function $(p){return p.type!=null}function j(p){var g=new Array(p.arcs.length),C=0,ot;function H(N){switch(N.type){case"GeometryCollection":N.geometries.forEach(H);break;case"Polygon":nt(N.arcs);break;case"MultiPolygon":N.arcs.forEach(nt);break}}function nt(N){for(var st=0,gt=N.length;st<gt;++st,++C)for(var et=N[st],dt=0,kt=et.length;dt<kt;++dt){var Rt=et[dt];Rt<0&&(Rt=~Rt);var Ct=g[Rt];Ct==null?g[Rt]=C:Ct!==C&&(g[Rt]=-1)}}for(ot in p.objects)H(p.objects[ot]);return function(N){for(var st=0,gt=N.length,et;st<gt;++st)if(g[(et=N[st])<0?~et:et]===-1)return!0;return!1}}var it=K("./node_modules/topojson-client/src/feature.js");function Z(p){var g=p[0],C=p[1],ot=p[2];return Math.abs((g[0]-ot[0])*(C[1]-g[1])-(g[0]-C[0])*(ot[1]-g[1]))/2}function U(p){for(var g=-1,C=p.length,ot,H=p[C-1],nt=0;++g<C;)ot=H,H=p[g],nt+=ot[0]*H[1]-ot[1]*H[0];return Math.abs(nt)/2}function w(p,g,C){return g=g==null?Number.MIN_VALUE:+g,C==null&&(C=U),function(ot,H){return C((0,it.default)(p,{type:"Polygon",arcs:[ot]}).geometry.coordinates[0],H)>=g}}function h(p,g,C){var ot=j(p),H=w(p,g,C);return function(nt,N){return ot(nt,N)||H(nt,N)}}var P=K("./node_modules/topojson-client/src/transform.js");function c(p,g){return p[1][2]-g[1][2]}function k(){var p={},g=[],C=0;p.push=function(nt){return ot(g[nt._=C]=nt,C++),C},p.pop=function(){if(!(C<=0)){var nt=g[0],N;return--C>0&&(N=g[C],H(g[N._=0]=N,0)),nt}},p.remove=function(nt){var N=nt._,st;if(g[N]===nt)return N!==--C&&(st=g[C],(c(st,nt)<0?ot:H)(g[st._=N]=st,N)),N};function ot(nt,N){for(;N>0;){var st=(N+1>>1)-1,gt=g[st];if(c(nt,gt)>=0)break;g[gt._=N]=gt,g[nt._=N=st]=nt}}function H(nt,N){for(;;){var st=N+1<<1,gt=st-1,et=N,dt=g[et];if(gt<C&&c(g[gt],dt)<0&&(dt=g[et=gt]),st<C&&c(g[st],dt)<0&&(dt=g[et=st]),et===N)break;g[dt._=N]=dt,g[nt._=N=et]=nt}}return p}function S(p){return[p[0],p[1],0]}function b(p,g){var C=p.transform?(0,P.default)(p.transform):S,ot=k();g==null&&(g=Z);var H=p.arcs.map(function(N){var st=[],gt=0,et,dt,kt;for(N=N.map(C),dt=1,kt=N.length-1;dt<kt;++dt)et=[N[dt-1],N[dt],N[dt+1]],et[1][2]=g(et),st.push(et),ot.push(et);for(N[0][2]=N[kt][2]=1/0,dt=0,kt=st.length;dt<kt;++dt)et=st[dt],et.previous=st[dt-1],et.next=st[dt+1];for(;et=ot.pop();){var Rt=et.previous,Ct=et.next;et[1][2]<gt?et[1][2]=gt:gt=et[1][2],Rt&&(Rt.next=Ct,Rt[2]=et[2],nt(Rt)),Ct&&(Ct.previous=Rt,Ct[0]=et[0],nt(Ct))}return N});function nt(N){ot.remove(N),N[1][2]=g(N),ot.push(N)}return{type:"Topology",bbox:p.bbox,objects:p.objects,arcs:H}}function A(p,g){var C=[];return p.arcs.forEach(function(ot){ot.forEach(function(H){isFinite(H[2])&&C.push(H[2])})}),C.length&&G(C.sort(E),g)}function G(p,g){if(C=p.length){if((g=+g)<=0||C<2)return p[0];if(g>=1)return p[C-1];var C,ot=(C-1)*g,H=Math.floor(ot),nt=p[H],N=p[H+1];return nt+(N-nt)*(ot-H)}}function E(p,g){return g-p}function _(p,g){g=g==null?Number.MIN_VALUE:+g;var C=p.arcs.map(function(ot){for(var H=-1,nt=0,N=ot.length,st=new Array(N),gt;++H<N;)(gt=ot[H])[2]>=g&&(st[nt++]=[gt[0],gt[1]]);return st.length=nt,st});return{type:"Topology",transform:p.transform,bbox:p.bbox,objects:p.objects,arcs:C}}var y=Math.PI,s=2*y,a=y/4,d=y/180,O=Math.abs,F=Math.atan2,R=Math.cos,mt=Math.sin;function wt(p,g){for(var C=0,ot=p.length,H=0,nt=p[g?C++:ot-1],N,st=nt[0]*d,gt=nt[1]*d/2+a,et,dt=R(gt),kt,Rt=mt(gt);C<ot;++C){nt=p[C],N=st,st=nt[0]*d,gt=nt[1]*d/2+a,et=dt,dt=R(gt),kt=Rt,Rt=mt(gt);var Ct=st-N,ee=Ct>=0?1:-1,ne=ee*Ct,re=kt*Rt,Lt=et*dt+re*R(ne),ie=re*ee*mt(ne);H+=F(ie,Lt)}return H}function St(p,g){var C=wt(p,!0);return g&&(C*=-1),(C<0?s+C:C)*2}function D(p){return O(wt(p,!1))*2}},"./node_modules/turf-polygon/index.js":Ft=>{Ft.exports=function(ct,K){if(ct===null)throw new Error("No coordinates passed");for(var q=0;q<ct.length;q++)for(var V=ct[q],ft=0;ft<V[V.length-1].length;ft++){if(V.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(V[V.length-1][ft]!==V[0][ft])throw new Error("First and last Position are not equivalent.")}var W={type:"Feature",geometry:{type:"Polygon",coordinates:ct},properties:K};return W.properties||(W.properties={}),W}}}]);
